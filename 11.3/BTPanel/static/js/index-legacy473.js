!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?t(Object(a),!0).forEach(function(t){r(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function r(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return u(s,"_invoke",function(n,r,a){var o,l,u,c=0,s=a||[],p=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,l=0,u=e,f.n=n,i}};function m(n,r){for(l=n,u=r,t=0;!p&&c&&!a&&t<s.length;t++){var a,o=s[t],m=f.p,d=o[2];n>3?(a=d===r)&&(u=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(l=0,f.v=r,f.n=o[1]):m<d&&(a=n<3||o[0]>r||r>d)&&(o[4]=n,o[5]=r,f.n=d,l=0))}if(a||n>1)return i;throw p=!0,r}return function(a,s,d){if(c>1)throw TypeError("Generator is already running");for(p&&1===s&&m(s,d),l=s,u=d;(t=l<2?e:u)||!p;){o||(l?l<3?(l>1&&(f.n=-1),m(l,u)):f.n=u:f.v=u);try{if(c=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(p=f.n<0)?u:n.call(r,f))!==i)break}catch(t){o=e,l=1,u=t}finally{c=1}}return{value:t,done:p}}}(n,a,o),!0),s}var i={};function c(){}function s(){}function p(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(u(t={},r,function(){return this}),t),m=p.prototype=c.prototype=Object.create(f);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=p,u(m,"constructor",p),u(p,"constructor",s),s.displayName="GeneratorFunction",u(p,a,"GeneratorFunction"),u(m),u(m,a,"Generator"),u(m,r,function(){return this}),u(m,"toString",function(){return"[object Generator]"}),(l=function(){return{w:o,m:d}})()}function u(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}u=function(e,t,n,r){function o(t,n){u(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},u(e,t,n,r)}function i(e,t,n,r,a,o,l){try{var u=e[o](l),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){i(o,r,a,l,u,"next",e)}function u(e){i(o,r,a,l,u,"throw",e)}l(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./useStore-legacy4.js?v=1763689792","./index-legacy123.js?v=1763689792","./index-legacy107.js?v=1763689792","./index-legacy137.js?v=1763689792","./validator-legacy.js?v=1763689792","./site-legacy.js?v=1763689792","./index.vue_vue_type_script_setup_true_lang-legacy13.js?v=1763689792","./form-item-legacy.js?v=1763689792","./index.vue_vue_type_script_setup_true_lang-legacy25.js?v=1763689792","./index-legacy109.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy480.js?v=1763689792"],function(e,t){"use strict";var r,o,u,i,s,p,f,m,d,v,h,_,y,g,b,w,x,j,k,V,C,O,P,S,T,A,z,N,U,q,H,I,E,G,R,D,F,B,L,M,W,J,$,K,Q,X,Y,Z,ee,te,ne,re,ae,oe,le,ue,ie,ce,se,pe,fe,me,de,ve,he,_e,ye,ge,be,we,xe,je,ke,Ve,Ce,Oe,Pe,Se,Te,Ae,ze,Ne,Ue,qe,He,Ie,Ee,Ge,Re,De,Fe,Be,Le,Me,We;return{setters:[function(e){r=e.aK,o=e.Q,u=e.p,i=e.k,s=e.e,p=e.j,f=e.b,m=e.$,d=e.L,v=e.b3,h=e.n,_=e.H,y=e.l,g=e.ah,b=e._,w=e.an,x=e.ao,j=e.u,k=e.aj},function(e){V=e.c,C=e.r,O=e.o,P=e.w,S=e.v,T=e.aG,A=e.x,z=e.y,N=e.z,U=e.O,q=e.C,H=e.D,I=e.G,E=e.A,G=e.e,R=e.F,D=e.b1,F=e.B,B=e.R,L=e.am,M=e.an,W=e.H,J=e.ad,$=e.b2,K=e.ab,Q=e.I,X=e.J,Y=e.V,Z=e.a8,ee=e.K,te=e.ap,ne=e.j,re=e.s,ae=e.g,oe=e.aA,le=e.U,ue=e.bu,ie=e.W},function(e){ce=e.u},function(e){se=e._},function(e){pe=e._},function(e){fe=e._},function(e){me=e.f,de=e.k},function(e){ve=e.getComposerVersion,he=e.updateComposer,_e=e.deleteComposerFile,ye=e.execComposer,ge=e.getComposerLine,be=e.setTomcatSettings,we=e.getSitePhpVersion,xe=e.setPhpSiteGzip,je=e.removePhpSiteGzip,ke=e.getPhpSiteGzip,Ve=e.getSecurityHeaders,Ce=e.setSecurityHeaders,Oe=e.getCrossOriginAccess,Pe=e.setCrossOriginAccess,Se=e.deleteCrossOriginAccess,Te=e.modifyCrontabStatus,Ae=e.startTaskCrontab,ze=e.removeCrontab,Ne=e.getCrontabList,Ue=e.getFreeTotalStatus,qe=e.setFreeTotalStatus,He=e.getPhpSiteCache,Ie=e.deletePhpSiteCache},function(e){Ee=e._},function(e){Ge=e.h},function(e){Re=e._},function(e){De=e._},function(e){Fe=e.a,Be=e.b,Le=e.u,Me=e.c},function(e){We=e.default}],execute:function(){var Je={class:"p-1rem"},$e={class:"flex items-center"},Ke={key:0,class:"text-danger"},Qe={key:1,class:"text-danger text-small"},Xe={class:"mt-[8px] leading-8 text-small list-disc ml-[20px]"},Ye={key:0},Ze={class:"p-2rem h-50rem flex flex-col"},et={class:"mb-1rem"},tt={class:"flex-1 overflow-auto"},nt=V({__name:"index",setup:function(e,t){var n,m=t.expose,d=ce().siteInfo,v=null===(n=d.value)||void 0===n?void 0:n.project_type,h=f(),_=C(!1),y=C(!1),g=O({path:d.value.path,user:"phpasync"!==v?"www":"root",php:["静态","其它"].includes(d.value.php_version)?"auto":"PHP-"+d.value.php_version.replace(".",""),otherCommand:"",mirror:"https://mirrors.aliyun.com/composer/",command:"install",composerVersion:"install",version:"2.7.3",help_tips:"",comp_json:"",comp_lock:"",phpVersion:[],commandOptions:[{label:"install",value:"install"},{label:"update",value:"update"},{label:"require",value:"require"},{label:"create-project",value:"create-project"},{label:"自定义",value:""}]}),b=C("正在执行..."),w=C(!1),x=C(),j=C(!1);P(function(){return d.value},function(e){g.php=["静态","其它"].includes(e.php_version)?"auto":"PHP-"+e.php_version.replace(".","")},{immediate:!0});var k=function(){var e=c(l().m(function e(t){var n,a;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return _.value=!0,e.p=1,e.n=2,ve({path:t||d.value.path});case 2:(n=e.v).data.status?(y.value=!1,g.phpVersion=n.data.php_versions.filter(function(e){return"00"!==e.version}),g.phpVersion.unshift({name:"自动选择",version:"auto"}),g.comp_json=!1,g.comp_lock=!1,"string"==typeof n.data.comp_json&&(g.comp_json=n.data.comp_json),"string"==typeof n.data.comp_lock&&(g.comp_lock=n.data.comp_lock)):(y.value=!0,h.request(n)),e.n=4;break;case 3:e.p=3,a=e.v,r(a);case 4:return e.p=4,_.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t){return e.apply(this,arguments)}}(),V=function(){me({type:"dir",path:g.path,change:function(e){g.path=e,k(g.path)}})},Q=function(){o({loading:"正在更新，请稍后...",request:he(),message:!0,success:function(e){e.status&&k(g.path)}})},X=function(){var e=c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:o({loading:"正在删除，请稍后...",request:_e({path:g.path+"/composer.lock"}),message:!0,success:function(e){e.status&&k(g.path)}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:x.value=setInterval(c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:try{ee()}catch(t){clearInterval(x.value)}case 1:return e.a(2)}},e)})),2e3);case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=c(l().m(function e(){var t,n;return l().w(function(e){for(;;)switch(e.n){case 0:return n={php_version:null===(t=g.php)||void 0===t?void 0:t.replace("PHP-",""),composer_args:g.command,composer_cmd:g.otherCommand,repo:g.mirror,path:g.path,user:g.user,composer_version:g.version,siteName:d.value.name},e.n=1,u({title:"执行composer命令",content:"即将执行设定的composer命令，继续吗？",icon:"warning-filled"});case 1:o({loading:"正在执行，请稍后...",request:ye(n),message:!0,success:function(e){e.status&&(w.value=!0,Y())}});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=c(l().m(function e(){var t,n,a,o=arguments;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=o.length>0&&void 0!==o[0]&&o[0],e.p=1,e.n=2,ge({filename:"/tmp/composer_".concat(d.value.name,".log"),num:100});case 2:n=e.v,b.value=n.data.msg,t&&h.success("刷新成功"),e.n=4;break;case 3:e.p=3,a=e.v,r(a);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),te=function(){j.value=!0,ee()},ne=function(){clearInterval(x.value),w.value=!1,j.value=!1,b.value=""};return S(k),m({init:k}),T(function(){clearInterval(x.value)}),function(e,t){var n=fe,r=L,o=M,l=W,u=J,c=i,f=pe,m=s,d=$,h=K,_=se,x=p;return A(),z("div",null,[N(y)?(A(),U(n,{key:0,width:"28rem",options:{name:"composer",title:"composer"}},{default:q(function(){return a(t[11]||(t[11]=[H(" 没有找到可用的composer版本 ",-1)]))}),_:1})):I("",!0),E("div",Je,[G(h,{model:N(g)},{default:q(function(){return[G(u,{label:"Composer版本"},{default:q(function(){return[E("div",$e,[G(o,{modelValue:N(g).version,"onUpdate:modelValue":t[0]||(t[0]=function(e){return N(g).version=e}),class:"!w-[28rem]"},{default:q(function(){return[G(r,{label:"2.7.3",value:"2.7.3"}),G(r,{label:"1.10.27",value:"1.10.27"})]}),_:1},8,["modelValue"]),G(l,{type:"default",class:"!ml-1rem",onClick:Q},{default:q(function(){return a(t[12]||(t[12]=[H(" 升级Composer ",-1)]))}),_:1})])]}),_:1}),G(u,{label:"PHP版本"},{default:q(function(){return["phpasync"!==N(v)?(A(),U(o,{key:0,class:"!w-[28rem]",modelValue:N(g).php,"onUpdate:modelValue":t[1]||(t[1]=function(e){return N(g).php=e})},{default:q(function(){return[(A(!0),z(R,null,D(N(g).phpVersion,function(e,t){return A(),U(r,{key:t,label:e.name,value:e.version},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])):(A(),U(c,{key:1,modelValue:N(g).php,"onUpdate:modelValue":t[2]||(t[2]=function(e){return N(g).php=e}),disabled:""},null,8,["modelValue"]))]}),_:1}),G(u,{label:"执行参数"},{default:q(function(){return[G(o,{class:"!w-[28rem]","empty-values":[null,void 0],modelValue:N(g).command,"onUpdate:modelValue":t[3]||(t[3]=function(e){return N(g).command=e})},{default:q(function(){return[(A(!0),z(R,null,D(N(g).commandOptions,function(e,t){return A(),U(r,{key:t,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),G(u,{label:"补充命令"},{default:q(function(){return[G(c,{modelValue:N(g).otherCommand,"onUpdate:modelValue":t[4]||(t[4]=function(e){return N(g).otherCommand=e}),placeholder:"请输入补充命令",width:"28rem"},null,8,["modelValue"])]}),_:1}),G(u,{label:"镜像源"},{default:q(function(){return[G(o,{modelValue:N(g).mirror,"onUpdate:modelValue":t[5]||(t[5]=function(e){return N(g).mirror=e}),filterable:"","allow-create":"","default-first-option":"",class:"!w-[28rem]"},{default:q(function(){return[G(r,{label:"阿里云(mirrors.aliyun.com)",value:"https://mirrors.aliyun.com/composer/"}),G(r,{label:"官方源(packagist.org)",value:"repos.packagist"}),G(r,{label:"中国全量镜像(packagist.phpcomposer.com)",value:"https://packagist.phpcomposer.com"}),G(r,{label:"Packagist Mirror(packagist.mirrors.sjtug.sjtu.edu.cn)",value:"https://packagist.mirrors.sjtug.sjtu.edu.cn"}),G(r,{label:"腾讯源(mirrors.tencent.com)",value:"https://mirrors.tencent.com/composer/"}),G(r,{label:"华为云(mirrors.huaweicloud.com)",value:"https://mirrors.huaweicloud.com/repository/php/"})]}),_:1},8,["modelValue"])]}),_:1}),"phpasync"!==N(v)?(A(),U(u,{key:0,label:"执行用户",prop:"command"},{default:q(function(){return[G(o,{modelValue:N(g).user,"onUpdate:modelValue":t[6]||(t[6]=function(e){return N(g).user=e}),class:"!w-28rem"},{default:q(function(){return[G(r,{label:"www(推荐)",value:"www"}),G(r,{label:"root(不推荐)",value:"root"})]}),_:1},8,["modelValue"])]}),_:1})):I("",!0),G(u,{label:"执行目录",prop:"composerVersion"},{default:q(function(){return[G(f,{modelValue:N(g).path,"onUpdate:modelValue":t[7]||(t[7]=function(e){return N(g).path=e}),icon:"el-folder-opened",onIconClick:V,width:"28rem"},null,8,["modelValue"])]}),_:1}),G(u,{label:" ",prop:"composerVersion"},{default:q(function(){return[E("div",null,[N(g).comp_lock?(A(),z("span",Ke,[H(F(N(g).comp_lock)+" ",1),G(m,{onClick:X},{default:q(function(){return a(t[13]||(t[13]=[H("[点击删除]",-1)]))}),_:1})])):I("",!0),N(g).comp_json?(A(),z("span",Qe,F(N(g).comp_json),1)):I("",!0)])]}),_:1}),G(u,{label:" "},{default:q(function(){return[G(l,{type:"primary",disabled:!!("boolean"!=typeof N(g).comp_json&&N(g).comp_json||"boolean"!=typeof N(g).comp_lock&&N(g).comp_lock),onClick:Z},{default:q(function(){return a(t[14]||(t[14]=[H(" 执行 ",-1)]))}),_:1},8,["disabled"]),G(d,{direction:"vertical",class:"!h-1rem !mx-2rem"}),G(l,{onClick:te},{default:q(function(){return a(t[15]||(t[15]=[H("查看日志",-1)]))}),_:1})]}),_:1})]}),_:1},8,["model"]),E("ul",Xe,[t[16]||(t[16]=E("li",null,"Composer是PHP主流依赖包管理器，若您的项目使用Composer管理依赖包，可在此处对依赖进行升级或安装",-1)),t[17]||(t[17]=E("li",null,"Composer版本：当前安装的Composer版本，可点击右侧的【升级Composer】将Composer升级到最新稳定版",-1)),t[18]||(t[18]=E("li",null,"PHP版本：用于执行composer的PHP版本，无特殊要求，默认即可，如安装出错，可尝试选择其它PHP版本",-1)),t[19]||(t[19]=E("li",null,"执行参数：按需选择执行参数,可配合补充命令使用",-1)),t[20]||(t[20]=E("li",null,"补充命令：若此处为空，则按composer.json中的配置执行，此处支持填写完整composer命令",-1)),t[21]||(t[21]=E("li",null,"镜像源：提供【阿里源】和【官方源】，建议国内服务器使用【阿里源】，海外服务器使用【官方源】",-1)),"phpasync"!==N(v)?(A(),z("li",Ye,"执行用户：默认为www用户，除非您的网站以root权限运行，否则不建议使用root用户执行composer")):I("",!0),t[22]||(t[22]=E("li",null,"执行目录：默认为当前网站根目录",-1))])]),G(x,{title:"请执行完毕确认结果无误后关闭此窗口",onCancel:ne,modelValue:N(w),"onUpdate:modelValue":t[8]||(t[8]=function(e){return B(w)?w.value=e:null}),area:[50,42]},{default:q(function(){return[G(_,{class:"h-full",title:"全屏查看composer执行日志",content:N(b),isHtml:!0,isRefreshBtn:!1,isAuto:!0},null,8,["content"])]}),_:1},8,["modelValue"]),G(x,{title:"composer执行日志",onCancel:ne,modelValue:N(j),"onUpdate:modelValue":t[10]||(t[10]=function(e){return B(j)?j.value=e:null}),area:60},{default:q(function(){return[E("div",Ze,[E("div",et,[G(l,{type:"primary",onClick:t[9]||(t[9]=function(e){return ee(!0)})},{default:q(function(){return a(t[23]||(t[23]=[H(" 刷新日志 ",-1)]))}),_:1})]),E("div",tt,[G(_,{class:"h-full",title:"全屏查看composer执行日志",content:N(b),isHtml:!0,isRefreshBtn:!1},null,8,["content"])])])]}),_:1},8,["modelValue"])])}}}),rt={class:"p-1rem relative"},at={class:"mt-[8px] leading-8 text-small list-disc ml-[20px]"},ot={key:0},lt=V({__name:"index",setup:function(e,t){var n=t.expose,r=ce().siteInfo,u=C(!1),i=C(!1),p=O({tomcat:!1}),f=C(""),m=function(){o({loading:"正在设置，请稍后...",request:be({siteName:r.value.name}),message:!0,success:function(e){e.status&&d()}})},d=function(){var e=c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:o({loading:u,request:we({siteName:r.value.name}),success:function(e){p.tomcat=e.data.tomcat>0,i.value=!e.data.tomcatversion,f.value=e.data.tomcatversion}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),v=function(){de({name:"tomcat",type:"i"})};return S(d),n({init:d}),function(e,t){var n=s,r=fe,o=Y,l=Q("bt-loading");return X((A(),z("div",null,[N(i)?(A(),U(r,{key:0,width:"28rem"},{content:q(function(){return[t[2]||(t[2]=H(" 请先安装tomcat， ",-1)),G(n,{onClick:v,class:"!text-small"},{default:q(function(){return a(t[1]||(t[1]=[H(" 立即安装 ",-1)]))}),_:1})]}),_:1})):I("",!0),E("div",rt,[G(o,{modelValue:N(p).tomcat,"onUpdate:modelValue":t[0]||(t[0]=function(e){return N(p).tomcat=e}),onChange:m},{default:q(function(){return a(t[3]||(t[3]=[H(" 启用Tomcat ",-1)]))}),_:1},8,["modelValue"]),E("ul",at,[N(f)?(A(),z("li",ot,"当前版本为Tomcat"+F(N(f))+" ,若您需要其它版本,请到软件商店- 所有软件 中切换；",1)):I("",!0),t[4]||(t[4]=E("li",null,"部署顺序: 安装Tomcat >> 创建站点 >> 上传并配置项目 >> 启用Tomcat",-1)),t[5]||(t[5]=E("li",null,"若您的tomcat应用中有php脚本,访问时请添加.php扩展名",-1)),t[6]||(t[6]=E("li",null,"开启成功后,大概需要1-5分钟时间生效!",-1))])])])),[[l,N(u)]])}}}),ut=ce().siteInfo,it=C(),ct=C(!1),st=C(!1),pt=C(!0),ft=O({status:!1,gzip_types:"",comp_level:1,min_length:1,unit:"k"}),mt=[{label:"k",value:"k"},{label:"m",value:"m"}],dt=[{content:"用于对 HTTP 响应的内容进行压缩，以减少数据传输量，提高网站性能和加载速度"},{content:"压缩级别1-9，越高压缩率越高，但也更消耗CPU"},{content:"如果开启gzip后影响网站正常访问，请关闭此功能 和请求参数组成"}],vt={gzip_types:[{required:!0,message:"请输入压缩类型",trigger:["blur","change"]}],min_length:[{required:!0,message:"请输入正确的压缩最小长度",trigger:"blur",validator:function(e,t,n){t?isNaN(Number(t))?n(new Error("请输入数字")):Number(t)<1?n(new Error("请输入正确数字")):n():n(new Error("压缩最小长度不能为空"))}},{}]},ht=function(){var e=c(l().m(function e(){var t,n,r,a,u;return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,it.value.validate();case 1:return t=ft.gzip_types,n=ft.comp_level,r=ft.min_length,a=ft.unit,u={site_name:ut.value.name,gzip_types:t,comp_level:n,min_length:"".concat(r).concat(a)},e.n=2,o({loading:st,request:xe(u),message:!0});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),_t=function(){var e=c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:if(ft.status){e.n=2;break}return e.n=1,o({loading:st,request:je({site_name:ut.value.name})});case 1:return e.a(2,e.v);case 2:yt();case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),yt=function(){var e=c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,o({loading:st,request:ke({site_name:ut.value.name}),success:function(e){var t=e.data,n=t.gzip_types,r=t.comp_level,a=t.min_length;Object.assign(ft,{gzip_types:n,comp_level:r,min_length:a.slice(0,-1),unit:a.slice(-1)}),pt.value&&(ft.status=e.data.status,pt.value=!1)}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),gt={class:"p-[20px]"},bt={class:"mt-[1.6rem]"},wt={class:"flex items-center"},xt={class:"ml-[20px]"},jt=V({__name:"index",setup:function(e){return S(function(){yt()}),Z(function(){pt.value=!0}),function(e,t){var n=te,r=J,o=i,l=L,u=M,c=W,s=K,p=m,f=Q("bt-loading");return A(),z("div",gt,[X((A(),U(s,{ref_key:"compressFormRef",ref:it,class:"h-[38rem]",model:N(ft),rules:N(vt),"label-width":"100px",disabled:N(st)},{default:q(function(){return[G(r,{label:"内容压缩",prop:"status"},{default:q(function(){return[G(n,{modelValue:N(ft).status,"onUpdate:modelValue":t[0]||(t[0]=function(e){return N(ft).status=e}),onChange:N(_t)},null,8,["modelValue","onChange"])]}),_:1}),X(E("div",bt,[G(r,{label:"压缩类型",prop:"gzip_types"},{default:q(function(){return[G(o,{modelValue:N(ft).gzip_types,"onUpdate:modelValue":t[1]||(t[1]=function(e){return N(ft).gzip_types=e}),type:"textarea",width:"42rem",rows:6,resize:"none"},null,8,["modelValue"])]}),_:1}),G(r,{label:"压缩级别",prop:"comp_level"},{default:q(function(){return[G(u,{class:"!w-[42rem]",modelValue:N(ft).comp_level,"onUpdate:modelValue":t[2]||(t[2]=function(e){return N(ft).comp_level=e})},{default:q(function(){return[(A(),z(R,null,D(9,function(e){return G(l,{key:e,label:e,value:String(e)},null,8,["label","value"])}),64))]}),_:1},8,["modelValue"])]}),_:1}),G(r,{label:"压缩最小长度",prop:"min_length"},{default:q(function(){return[E("div",wt,[G(o,{modelValue:N(ft).min_length,"onUpdate:modelValue":t[3]||(t[3]=function(e){return N(ft).min_length=e})},null,8,["modelValue"]),G(r,{prop:"unit"},{default:q(function(){return[G(u,{class:"ml-[1rem] !w-[8rem]",modelValue:N(ft).unit,"onUpdate:modelValue":t[4]||(t[4]=function(e){return N(ft).unit=e}),placeholder:"请选择"},{default:q(function(){return[(A(!0),z(R,null,D(N(mt),function(e){return A(),U(l,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1})])]}),_:1})],512),[[ee,N(ft).status]]),X(G(r,{label:" ",class:"mt-[1.6rem]"},{default:q(function(){return[G(c,{type:"primary",onClick:N(ht)},{default:q(function(){return a(t[5]||(t[5]=[H("保存",-1)]))}),_:1},8,["onClick"])]}),_:1},512),[[ee,N(ft).status]])]}),_:1},8,["model","rules","disabled"])),[[f,N(ct)]]),E("div",xt,[G(p,{options:N(dt)},null,8,["options"])])])}}}),kt={class:"px-2rem"},Vt={class:"ml-[8px]"},Ct=V({__name:"index",setup:function(e,t){var n=t.expose,r=ce().siteInfo,a=C(!1),l=C([{help:"阻止浏览器上下文中执行恶意JavaScript代码",value:!1,field:"x_xss_protection"},{help:"阻止浏览器的内容嗅探",value:!1,field:"x_content_type_options"},{help:"让浏览器跳转时不携带referrer",value:!1,field:"referrer_policy"},{help:"让浏览器加载内容时只加载自己网站的内容",value:!1,field:"content_security_policy"},{help:"防止浏览器进行用户行为跟踪",value:!1,field:"permissions_policy"}]),u=function(){var e={};l.value.forEach(function(t){e[t.field]=t.value});var t={site_name:r.value.name,security_info:JSON.stringify(e)};o({loading:"正在设置，请稍后...",request:Ce(t),message:!0,success:function(e){e.status&&i()}})},i=function(){o({loading:a,request:Ve({site_name:r.value.name}),success:function(e){l.value.forEach(function(t){e.data[t.field]&&(t.value=e.data[t.field])})}})};return S(i),n({init:i}),function(e,t){var n=te,r=Q("bt-loading");return X((A(),z("div",kt,[(A(!0),z(R,null,D(N(l),function(e,t){return A(),z("div",{key:t,class:"flex items-center mb-[12px]"},[G(n,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},onChange:u},null,8,["modelValue","onUpdate:modelValue"]),E("span",Vt,F(e.help),1)])}),128))])),[[r,N(a)]])}}}),Ot=ne("CROSS-ORIGIN-ACCESS-STORE",function(){var e=C({status:!1,siteName:null,project_type:null,allowed_origin:null,allowed_methods:null,allowed_headers:null,exposed_headers:null,allow_credentials:!1});return{formData:e,reset:function(){e.value.status=!1,e.value.siteName=null,e.value.project_type=null,e.value.allowed_origin=null,e.value.allowed_methods=null,e.value.allowed_headers=null,e.value.exposed_headers=null,e.value.allow_credentials=!1}}}),Pt=function(){return re(Ot())},St=Pt().formData,Tt=function(){var e=c(l().m(function e(t){return l().w(function(e){for(;;)switch(e.n){case 0:o({request:Oe({siteName:t.siteName,project_type:t.project_type}),loading:"正在获取跨域访问配置...",success:function(e){var n=e.data;St.value.siteName=t.siteName,St.value.project_type=t.project_type,St.value.status=n.status,St.value.allowed_origin=n.allowed_origins,St.value.allowed_methods=n.allow_methods,St.value.allowed_headers=n.allow_headers,St.value.exposed_headers=n.expose_headers,St.value.allow_credentials=n.allow_credentials}});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),At=function(){var e=c(l().m(function e(t){return l().w(function(e){for(;;)switch(e.n){case 0:o({request:Pe(t),loading:"正在设置跨域访问配置...",message:!0,success:function(e){e.status&&Tt({siteName:t.siteName,project_type:t.project_type})}});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),zt=function(){var e=c(l().m(function e(t){return l().w(function(e){for(;;)switch(e.n){case 0:o({request:Se({siteName:t.siteName,project_type:t.project_type}),loading:"正在删除跨域访问配置...",message:!0,success:function(e){e.status&&Tt({siteName:t.siteName,project_type:t.project_type})}});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Nt=function(){var e=c(l().m(function e(t){return l().w(function(e){for(;;)switch(e.n){case 0:St.value.status?At(t):zt(t);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Ut={class:"w-full"},qt=V({__name:"index",setup:function(e){var t,n=ce().siteInfo,r=Pt().formData,o=C(!1),u=Ot().reset,i=d({data:function(){return r.value},options:function(e){return ae(function(){return[Ge("状态",function(){return G("div",{class:"flex items-center"},[G(te,{modelValue:e.value.status,"onUpdate:modelValue":function(t){return e.value.status=t},onChange:function(e){var t;e||(null===(t=m.value)||void 0===t||t.clearValidate(["allowed_origin"]))}},null),null!=e&&e.value.status?G("span",{class:"ml-[2rem] text-small text-[#606266]"},[H("当允许行跨域访问")]):null])},"status",{labelWidth:"140px"})].concat(a(null!=e&&e.value.status?[Ge("允许访问的域名",function(){return G("div",{class:"flex items-center w-full"},[G("div",null,[G(oe,{placement:"top-start",width:"auto",trigger:"click","popper-class":"green-tips-popover !p-0 !border-none"},{default:function(){return G("div",{class:"!p-[12px] bg-primary text-white leading-[2.4rem]"},[H("使用*代表所有域名都可以跨域访问"),G("br",null,null),H("多个域名用 , 分隔")])},reference:function(){return G(le,{type:"textarea",rows:4,class:"!w-[32rem]",placeholder:"使用*代表所有域名都可以跨域访问，多个域名用,分隔",modelValue:e.value.allowed_origin,"onUpdate:modelValue":function(t){return e.value.allowed_origin=t}},null)}})])])},"allowed_origin",{rules:[{required:!0,message:"请输入允许访问的域名",trigger:"blur",validator:function(t,n,r){var a;null!=e&&null!==(a=e.value)&&void 0!==a&&a.status?n?r():r(new Error("请输入允许访问的域名")):r()}}],labelWidth:"140px"}),{type:"slots",key:"custom"}]:[]),[Ge(" ",function(){return G("div",{class:"flex items-center w-full ml-[6rem]"},[G(W,{type:"primary",onClick:function(){return p()}},{default:function(){return[H("保存")]}})])})])})},submit:(t=c(l().m(function e(t,n){return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,n();case 1:return Nt(t.value),e.a(2,!0);case 2:return e.p=2,e.v,e.a(2,!1)}},e,null,[[0,2]])})),function(e,n){return t.apply(this,arguments)})}),s=i.BtForm,p=i.submit,f=i.param,m=i.ref;return S(c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:return u(),o.value=!0,e.n=1,Tt({siteName:n.value.name,project_type:n.value.project_type});case 1:o.value=!1;case 2:return e.a(2)}},e)}))),function(e,t){var n=te,r=oe,l=J,u=le,i=Ee,c=ue;return X((A(),z("div",Ut,[G(N(s),null,{custom:q(function(){return[G(i,null,{config:q(function(){return[G(l,{"label-width":"140px",label:"允许跨域携带cookie",prop:"allow_credentials"},{default:q(function(){return[G(n,{modelValue:N(f).allow_credentials,"onUpdate:modelValue":t[0]||(t[0]=function(e){return N(f).allow_credentials=e})},null,8,["modelValue"]),G(r,{placement:"top-start",width:"auto",trigger:"hover","popper-class":"green-tips-popover !p-0 !border-none"},{reference:q(function(){return a(t[4]||(t[4]=[E("span",{class:"ml-[8px] bt-ico-ask"},"?",-1)]))}),default:q(function(){return[t[5]||(t[5]=E("div",{class:"!p-[12px] bg-primary text-white leading-[2.4rem]"},[H(" Access-Control-Allow-Credentials 允许/拒绝浏览器发送凭据（如Cookie）。 "),E("br"),H(" 设为 true 时，请求携带的凭据将被服务器接受，但需同时指定具体源（不能使用 *）。 ")],-1))]}),_:1})]}),_:1}),G(l,{"label-width":"140px",label:"允许跨域的请求方法",prop:"allowed_methods"},{default:q(function(){return[G(r,{placement:"top-start",width:"auto",trigger:"click","popper-class":"green-tips-popover !p-0 !border-none"},{reference:q(function(){return[G(u,{type:"textarea",rows:4,class:"!w-[32rem]",modelValue:N(f).allowed_methods,"onUpdate:modelValue":t[1]||(t[1]=function(e){return N(f).allowed_methods=e}),placeholder:"允许跨域的请求方法，例如: GET, POST"},null,8,["modelValue"])]}),default:q(function(){return[t[6]||(t[6]=E("div",{class:"!p-[12px] bg-primary text-white leading-[2.4rem]"},[H(" Access-Control-Allow-Methods 指定允许的HTTP方法（如 GET, POST, OPTIONS）， "),E("br"),H(" 用于预检请求（OPTIONS）时告知客户端可支持的方法列表。 ")],-1))]}),_:1})]}),_:1}),G(l,{"label-width":"140px",label:"允许跨域携带的请求头",prop:"allowed_headers"},{default:q(function(){return[G(r,{placement:"top-start",width:"auto",trigger:"click","popper-class":"green-tips-popover !p-0 !border-none"},{reference:q(function(){return[G(u,{type:"textarea",rows:4,class:"!w-[32rem]",modelValue:N(f).allowed_headers,"onUpdate:modelValue":t[2]||(t[2]=function(e){return N(f).allowed_headers=e}),placeholder:"允许跨域携带的请求头"},null,8,["modelValue"])]}),default:q(function(){return[t[7]||(t[7]=E("div",{class:"!p-[12px] bg-primary text-white leading-[2.4rem]"},[H(" Access-Control-Allow-Headers 在预检请求中定义允许携带的自定义请求头（如 Content-Type）， "),E("br"),H(" 告知客户端哪些头可安全用于实际请求。 ")],-1))]}),_:1})]}),_:1}),G(l,{"label-width":"140px",label:"允许浏览器访问的响应头",prop:"exposed_headers"},{default:q(function(){return[G(r,{placement:"top-start",width:"auto",trigger:"click","popper-class":"green-tips-popover !p-0 !border-none"},{reference:q(function(){return[G(u,{type:"textarea",rows:4,class:"!w-[32rem]",modelValue:N(f).exposed_headers,"onUpdate:modelValue":t[3]||(t[3]=function(e){return N(f).exposed_headers=e}),placeholder:"允许跨域浏览器访问的响应头"},null,8,["modelValue"])]}),default:q(function(){return[t[8]||(t[8]=E("div",{class:"!p-[12px] bg-primary text-white leading-[2.4rem]"},[H(" Access-Control-Expose-Headers 暴露给浏览器脚本的响应头列表， "),E("br"),H(" 客户端只能访问在此列表中声明的头（如 Content-Range）。 ")],-1))]}),_:1})]}),_:1})]}),_:1})]}),_:1})])),[[c,N(o)]])}}}),Ht=V({__name:"index",setup:function(e,n){var r=n.expose,i=ce().siteInfo,s=C(),p=C([]),f=C(!1),m=v({options:[{label:"添加计划任务",type:"button",active:!0,onClick:function(){return w()}}]}).BtOperation,d=function(){var e=c(l().m(function e(t,n,r,a){var o,u,i,s;return l().w(function(e){for(;;)switch(e.n){case 0:return o=a.label,u=a.value,i=new Map([["stark","即将批量执行选中的计划任务"],["start","即将批量开启选中任务"],["stop","即将批量停止选中任务"],["delete","即将批量删除选中任务"]]),s=function(){var e=c(l().m(function e(t,n){var r,a,o,i;return l().w(function(e){for(;;)switch(e.n){case 0:r=new Map([["stark",Ae],["start",Te],["stop",Te],["delete",ze]]),a=t.id,o=r.get(u),i=u,e.n="stark"===i?1:"start"===i||"stop"===i?3:"delete"===i?5:7;break;case 1:if(!o){e.n=2;break}return e.a(2,o({id:a}));case 2:case 4:case 6:return e.a(3,7);case 3:if(!o){e.n=4;break}return e.a(2,o({id:a,status:"start"===u?1:0}));case 5:if(!o){e.n=6;break}return e.a(2,o({id:a}));case 7:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),e.n=1,t({title:"批量".concat(o),content:"".concat(i.get(u),"，是否继续操作？"),column:[{label:"项目名称",prop:"name"},Me()],onConfirm:function(){var e=c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n(s);case 1:return V(),e.a(2,!1)}},e)}));return function(){return e.apply(this,arguments)}}()});case 1:return e.a(2)}},e)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),b=function(){var e=c(l().m(function e(t){return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,u({title:t.status?"停用计划任务":"启用计划任务",content:t.status?"计划任务暂停后将无法继续运行，您真的要停用这个计划任务吗？":"该计划任务已停用，是否要启用这个计划任务？",icon:"question-filled"});case 1:return e.n=2,o({loading:"正在设置计划任务状态，请稍候...",request:Te({id:t.id}),message:!0,success:V});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(e){h({isAsync:!0,title:"".concat(e?"编辑":"添加","计划任务").concat(e?"【"+e.name+"】":""),area:74,component:function(){return _(function(){return t.import("./add-crontab-legacy.js?v=1763689792")},void 0,t.meta.url)},compData:{row:e||!1,sitename:i.value.name,refreshEvent:V},showFooter:!0})},x=function(e){h({isAsync:!0,title:"查看【"+(e.rname||e.name)+"】日志",area:80,compData:{id:e.id},component:function(){return _(function(){return t.import("./log-detail-legacy2.js?v=1763689792")},void 0,t.meta.url)}})},j=function(){var e=c(l().m(function e(t){return l().w(function(e){for(;;)switch(e.n){case 0:o({loading:"正在执行计划任务，请稍后...",request:Ae({id:t.id}),message:!0,success:function(){x(t)}});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=c(l().m(function e(t){var n,r;return l().w(function(e){for(;;)switch(e.n){case 0:return n=t.id,r=t.name,e.n=1,u({title:"删除计划任务",content:"您确定要删除计划任务【".concat(r,"】，是否继续？"),icon:"warning-filled"});case 1:o({loading:"正在删除计划任务，请稍后...",request:ze({id:n}),message:!0,success:V});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:o({loading:f,request:Ne({sitename:i.value.name}),data:{data:[Array,p]}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),O=ie([Fe(),{label:"计划任务",prop:"rname",render:function(e){return e.rname||e.name}},Be({event:function(e){b(e)},data:["停用","正常"]}),{label:"执行周期",prop:"cycle"},{label:"上次执行时间",prop:"addtime"},Le([{onClick:j,title:"执行"},{onClick:function(e){w(e)},title:"编辑"},{onClick:function(e){x(e)},title:"日志"},{onClick:k,title:"删除"}])]),P=[{label:"执行任务",value:"stark",event:d},{label:"启动任务",value:"start",event:d},{label:"停止任务",value:"stop",event:d},{label:"删除任务",value:"delete",event:d}];return S(V),r({init:V}),function(e,t){var n=y,r=g,o=De,l=Q("bt-loading");return A(),U(o,null,{"header-left":q(function(){return[G(N(m))]}),"header-right":q(function(){return a(t[0]||(t[0]=[]))}),content:q(function(){return[X(G(n,{ref_key:"cronTableRef",ref:s,"max-height":560,column:N(O),data:N(p)},null,8,["column","data"]),[[l,"正在加载计划任务列表，请稍后...","title"],[l,N(f)]])]}),"footer-left":q(function(){return[G(r,{"table-ref":N(s),options:N(P)},null,8,["table-ref","options"])]}),_:1})}}}),It={class:"flex flex-col site-globa-setting-module"},Et={class:"flex items-center"},Gt=V({__name:"index",setup:function(e){var t=ce().siteInfo,n=C(!1),r=O({total_flow:!1}),a=function(){var e=c(l().m(function e(){var a,o;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return n.value=!0,e.p=1,e.n=2,Ue({site_id:t.value.id});case 2:a=e.v,o=a.data,r.total_flow=o.data.status,e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,n.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),u=function(){var e=c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:o({loading:"正在设置，请稍后...",message:!0,request:qe({site_id:t.value.id,status:r.total_flow?1:0}),success:function(e){e.status||(r.total_flow=!r.total_flow)}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return S(function(){a()}),function(e,t){var a=te,o=J,l=K,i=m,c=Q("bt-loading");return X((A(),z("div",It,[G(l,{model:N(r)},{default:q(function(){return[G(o,{label:"日流量统计"},{default:q(function(){return[E("div",Et,[G(a,{onChange:u,modelValue:N(r).total_flow,"onUpdate:modelValue":t[0]||(t[0]=function(e){return N(r).total_flow=e})},null,8,["modelValue"]),t[1]||(t[1]=E("span",{class:"text-tertiary ml-[4px]"},"*提示：开启会适量占用服务器内存。",-1))])]}),_:1})]}),_:1},8,["model"]),G(i,{options:[{content:"不影响监控报表插件的配置。"}],class:"ml-[20px] mt-[20px]"})])),[[c,N(n)]])}}}),Rt=b(Gt,[["__scopeId","data-v-34d0cc8a"]]),Dt=e("u",ne("cache",function(){return{isRefreshCacheList:C(!1)}})),Ft=ce(),Bt=Dt(),Lt=function(){var e=c(l().m(function e(t){var n,r,a;return l().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,He({site_name:Ft.siteInfo.value.name});case 1:return r=e.v,a=(null==r||null===(n=r.data)||void 0===n?void 0:n.data)||[],e.a(2,{data:a,total:a.length})}},e)}));return function(t){return e.apply(this,arguments)}}(),Mt=function(e){var r=e?n(n({},e),{},{_original:{suffix:e.suffix}}):void 0;h({title:e?"编辑缓存规则":"添加缓存规则",area:50,component:function(){return _(function(){return t.import("./cache-dialog-legacy.js?v=1763689792")},void 0,t.meta.url)},compData:r,btn:["保存","取消"]})},Wt=function(){var e=c(l().m(function e(t){var n;return l().w(function(e){for(;;)switch(e.n){case 0:n=Array.isArray(t.suffix)?t.suffix.map(function(e){return".".concat(e)}).join(", "):t.suffix,u({title:"删除缓存规则",content:"确定要删除缓存后缀【".concat(n,"】的规则吗？"),onConfirm:function(){var e=c(l().m(function e(){return l().w(function(e){for(;;)switch(e.n){case 0:o({loading:"删除中...",message:!0,request:Ie({site_name:Ft.siteInfo.value.name,suffix:t.suffix}),success:function(){Bt.isRefreshCacheList=!0}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}()});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Jt=V({__name:"index",setup:function(e){var t=re(Dt()).isRefreshCacheList,n=w({request:function(e){return Lt()},columns:[{label:"缓存后缀",minWidth:200,render:function(e){return Array.isArray(e.suffix)?e.suffix.map(function(e){return"".concat(e)}).join(", "):e.suffix||"--"}},{label:"缓存时间",minWidth:150,render:function(e){var t=e.time_out||"",n=t.match(/^(\d+)([dhms])$/);if(n){var r=n[1],a=n[2];return"".concat(r," ").concat({d:"天",h:"小时",m:"分钟",s:"秒"}[a]||a)}return t||"--"}},Le([{onClick:function(e){return Mt(e)},title:"编辑"},{onClick:function(e){return Wt(e)},title:"删除"}])],extension:[x(t)]}),r=n.BtTable,o=n.BtRefresh;return function(e,t){var n=W,l=De;return A(),z("div",null,[G(l,null,{"header-left":q(function(){return[G(n,{type:"primary",onClick:N(Mt)},{default:q(function(){return a(t[0]||(t[0]=[H("添加",-1)]))}),_:1},8,["onClick"])]}),"header-right":q(function(){return[G(N(o))]}),content:q(function(){return[G(N(r),{"max-height":530})]}),_:1})])}}}),$t=V({__name:"index",setup:function(e,t){var n,r,a,o=t.expose,l=ce().siteInfo,u=j().plugin,i=null===(n=l.value)||void 0===n?void 0:n.project_type,c=C(null!==(r=l.value)&&void 0!==r&&r.otherName?null===(a=l.value)||void 0===a?void 0:a.otherName:"phpasync"!==i?"composer":"nginx"),s="phpasync"===i,p=C([{label:"Composer",name:"composer",lazy:!0,isHide:s,render:nt},{label:"Tomcat",name:"tomcat",lazy:!0,isHide:s,render:lt},{label:"Gzip压缩",name:"gzip",lazy:!0,isHide:s,render:jt},{label:"缓存",name:"cache",lazy:!0,isHide:"nginx"!==u.value.webserver,render:Jt},{label:"请求头配置",name:"nginx",lazy:!0,render:Ct},{label:"跨域配置",name:"cors",isHide:s,lazy:!0,render:qt},{label:"默认文档",name:"defalut",isHide:!s,lazy:!0,render:Re},{label:"计划任务",name:"crontab",isHide:!s,lazy:!0,render:Ht},{label:"网站告警",name:"siteAlarm",isHide:!s,lazy:!0,render:We},{label:"日流量统计",name:"totalFlow",lazy:!0,render:Rt}]),f=k({type:"card",value:c,options:p}).BtTabs,m=function(){p.value=p.value.filter(function(e){return!0!==e.isHide})};return S(m),o({init:m}),function(e,t){return A(),U(N(f))}}}),Kt=b($t,[["__scopeId","data-v-df52a1a3"]]),Qt=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"}));e("i",Qt)}}})}();
