!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function u(t,o,a,i){var u=o&&o.prototype instanceof l?o:l,s=Object.create(u.prototype);return r(s,"_invoke",function(t,r,o){var a,i,u,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return a=t,i=0,u=e,p.n=r,c}};function d(t,r){for(i=t,u=r,n=0;!f&&l&&!o&&n<s.length;n++){var o,a=s[n],d=p.p,m=a[2];t>3?(o=m===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=t<2&&d<a[1])?(i=0,p.v=r,p.n=a[1]):d<m&&(o=t<3||a[0]>r||r>m)&&(a[4]=t,a[5]=r,p.n=m,i=0))}if(o||t>1)return c;throw f=!0,r}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,m),i=s,u=m;(n=i<2?e:u)||!f;){a||(i?i<3?(i>1&&(p.n=-1),d(i,u)):p.n=u:p.v=u);try{if(l=2,a){if(i||(o="next"),n=a[o]){if(!(n=n.call(a,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,i<2&&(i=0)}else 1===i&&(n=a.return)&&n.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((n=(f=p.n<0)?u:t.call(r,p))!==c)break}catch(n){a=e,i=1,u=n}finally{l=1}}return{value:n,done:f}}}(t,a,i),!0),s}var c={};function l(){}function s(){}function f(){}n=Object.getPrototypeOf;var p=[][a]?n(n([][a]())):(r(n={},a,function(){return this}),n),d=f.prototype=l.prototype=Object.create(p);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,r(d,"constructor",f),r(f,"constructor",s),s.displayName="GeneratorFunction",r(f,i,"GeneratorFunction"),r(d),r(d,i,"Generator"),r(d,a,function(){return this}),r(d,"toString",function(){return"[object Generator]"}),(t=function(){return{w:u,m:m}})()}function r(e,t,n,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}r=function(e,t,n,o){function i(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},r(e,t,n,o)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function a(t,r,n){return(r=function(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function i(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}System.register(["./base-lib-legacy.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./site-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792"],function(e,r){"use strict";var n,a,u,c,l,s,f,p,d,m,b,y,v,g,h,w,j,O;return{setters:[function(e){n=e.c,a=e.o,u=e.r,c=e.x,l=e.y,s=e.e,f=e.C,p=e.z,d=e.A,m=e.ad,b=e.ab},function(e){y=e.p,v=e.Q,g=e.M,h=e.aK,w=e.k},function(e){j=e.modifyDirAuthPass,O=e.setDirAuth},null],execute:function(){var r={class:"p-[20px]"};e("default",n({__name:"add-pass-limit",props:{compData:{default:function(){return{}}}},emits:["close"],setup:function(e,n){var _=n.expose,D=n.emit,P=e,S=D,V=a({site_dir:P.compData.site_dir||"",name:P.compData.name||"",username:P.compData.username||"",password:P.compData.password||""}),x=u(!1),k=u(),T=a({site_dir:[{required:!0,message:"请输入需要加密访问的目录",trigger:"blur"}],name:[{required:!0,message:"请输入名称",trigger:"blur"},{min:3,message:"名称必须大于三位",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,message:"用户名必须大于三位",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,message:"密码必须大于三位",trigger:"blur"}]}),q=function(){var e,r=(e=t().m(function e(){var r,n,a;return t().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,k.value.validate();case 1:return e.p=1,x.value=!0,r=P.compData.name?j:O,e.n=2,r(o({id:P.compData.id},V));case 2:if(void 0===(n=e.v).data.tip||P.compData.name){e.n=5;break}return e.n=3,y({title:"添加须知",content:n.data.tip,icon:"warning-filled"});case 3:return e.n=4,v({loading:"正在添加，请稍后...",request:O(o(o({id:P.compData.id},V),{},{force:!0})),message:!0});case 4:return e.v.status&&(S("close"),P.compData.refresh()),e.a(2);case 5:g.request(n),n.status&&(P.compData.refresh(),S("close")),e.n=7;break;case 6:e.p=6,a=e.v,h(a);case 7:return e.p=7,x.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}),function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function u(e){i(a,n,o,u,c,"next",e)}function c(e){i(a,n,o,u,c,"throw",e)}u(void 0)})});return function(){return r.apply(this,arguments)}}();return _({onConfirm:q}),function(t,n){var o=w,a=m,i=b;return c(),l("div",r,[s(i,{ref_key:"passwordSiteForm",ref:k,rules:p(T),model:p(V),disabled:p(x)},{default:f(function(){return[s(a,{label:"加密访问",prop:"site_dir"},{default:f(function(){return[s(o,{disabled:!!e.compData.name,modelValue:p(V).site_dir,"onUpdate:modelValue":n[0]||(n[0]=function(e){return p(V).site_dir=e}),placeholder:"输入需要加密访问的目录，如：/text/",width:"26rem"},null,8,["disabled","modelValue"])]}),_:1}),s(a,{label:"名称",prop:"name"},{default:f(function(){return[s(o,{modelValue:p(V).name,"onUpdate:modelValue":n[1]||(n[1]=function(e){return p(V).name=e}),disabled:!!e.compData.name,width:"26rem"},null,8,["modelValue","disabled"])]}),_:1}),s(a,{label:"用户名",prop:"username"},{default:f(function(){return[s(o,{modelValue:p(V).username,"onUpdate:modelValue":n[2]||(n[2]=function(e){return p(V).username=e}),placeholder:"请输入大于三位的用户名",width:"26rem"},null,8,["modelValue"])]}),_:1}),s(a,{label:"密码",prop:"password"},{default:f(function(){return[s(o,{modelValue:p(V).password,"onUpdate:modelValue":n[3]||(n[3]=function(e){return p(V).password=e}),type:"password",placeholder:"请输入大于三位的密码",width:"26rem"},null,8,["modelValue"])]}),_:1}),n[4]||(n[4]=d("ul",{class:"ml-6 mt-8 list-disc leading-10"},[d("li",{class:"text-secondary"},"目录设置加密访问后，会导致目录及子目录下的“反向代理”失效"),d("li",{class:"text-secondary"},"目录设置加密访问后，访问时需要输入账号密码才能访问"),d("li",{class:"text-secondary"},"例如我设置了加密访问 /test/ ,那我访问 http://aaa.com/test/ 时就要输入账号密码才能访问")],-1))]}),_:1},8,["rules","model","disabled"])])}}}))}}})}();
