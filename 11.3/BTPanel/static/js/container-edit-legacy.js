!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,r,o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function u(e,o,l,a){var u=o&&o.prototype instanceof c?o:c,s=Object.create(u.prototype);return n(s,"_invoke",function(e,n,o){var l,a,u,c=0,s=o||[],m=!1,d={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,n){return l=e,a=0,u=t,d.n=n,i}};function f(e,n){for(a=e,u=n,r=0;!m&&c&&!o&&r<s.length;r++){var o,l=s[r],f=d.p,p=l[2];e>3?(o=p===n)&&(u=l[(a=l[4])?5:(a=3,3)],l[4]=l[5]=t):l[0]<=f&&((o=e<2&&f<l[1])?(a=0,d.v=n,d.n=l[1]):f<p&&(o=e<3||l[0]>n||n>p)&&(l[4]=e,l[5]=n,d.n=p,a=0))}if(o||e>1)return i;throw m=!0,n}return function(o,s,p){if(c>1)throw TypeError("Generator is already running");for(m&&1===s&&f(s,p),a=s,u=p;(r=a<2?t:u)||!m;){l||(a?a<3?(a>1&&(d.n=-1),f(a,u)):d.n=u:d.v=u);try{if(c=2,l){if(a||(o="next"),r=l[o]){if(!(r=r.call(l,u)))throw TypeError("iterator result is not an object");if(!r.done)return r;u=r.value,a<2&&(a=0)}else 1===a&&(r=l.return)&&r.call(l),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);l=t}else if((r=(m=d.n<0)?u:e.call(n,d))!==i)break}catch(r){l=t,a=1,u=r}finally{c=1}}return{value:r,done:m}}}(e,l,a),!0),s}var i={};function c(){}function s(){}function m(){}r=Object.getPrototypeOf;var d=[][l]?r(r([][l]())):(n(r={},l,function(){return this}),r),f=m.prototype=c.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,n(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return s.prototype=m,n(f,"constructor",m),n(m,"constructor",s),s.displayName="GeneratorFunction",n(m,a,"GeneratorFunction"),n(f),n(f,a,"Generator"),n(f,l,function(){return this}),n(f,"toString",function(){return"[object Generator]"}),(e=function(){return{w:u,m:p}})()}function n(e,t,r,o){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}n=function(e,t,r,o){function a(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?l?l(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(a("next",0),a("throw",1),a("return",2))},n(e,t,r,o)}function t(e,n,t,r,o,l,a){try{var u=e[l](a),i=u.value}catch(e){return void t(e)}u.done?n(i):Promise.resolve(i).then(r,o)}function r(e){return function(){var n=this,r=arguments;return new Promise(function(o,l){var a=e.apply(n,r);function u(e){t(a,o,l,u,i,"next",e)}function i(e){t(a,o,l,u,i,"throw",e)}u(void 0)})}}function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||i(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e){return function(e){if(Array.isArray(e))return e}(e)||i(e)||a(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,n){if(e){if("string"==typeof e)return u(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(e,n):void 0}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}System.register(["./base-lib-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./useMethods-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792"],function(n,t){"use strict";var a,i,c,s,m,d,f,p,v,y,_,b,g,h,w,V,k,x,U,j,C,M,S,N,O,P,A,E,q,I,T,H,L,G,D,R,B,F,z,J,Q,W,K,$,X,Y,Z,ee,ne,te,re,oe,le,ae,ue,ie,ce,se,me,de,fe,pe;return{setters:[function(e){a=e.c,i=e.aB,c=e.r,s=e.o,m=e.W,d=e.g,f=e.w,p=e.v,v=e.x,y=e.y,_=e.e,b=e.C,g=e.A,h=e.z,w=e.L,V=e.B,k=e.J,x=e.K,U=e.D,j=e.F,C=e.b1,M=e.O,S=e.G,N=e.S,O=e.M,P=e.n,A=e.ad,E=e.c5,q=e.H,I=e.ak,T=e.aT,H=e.aj,L=e.am,G=e.an,D=e.V,R=e.ag,B=e.b5,F=e.U,z=e.ab},function(e){J=e._},function(e){Q=e.aQ,W=e.u,K=e.x,$=e.bR,X=e.y,Y=e.M,Z=e.bU,ee=e.p,ne=e.Q,te=e.iV,re=e.ci,oe=e.iW,le=e.cu,ae=e.cr,ue=e.cx,ie=e.k,ce=e.ag,se=e.l,me=e._},function(e){de=e.i,fe=e.j},function(e){pe=e.f},null,null,null],execute:function(){var t={class:"pb-[0]"},ve=["title"],ye={class:"max-w-[25rem]"},_e={class:"text-base leading-[1.4] max-w-[25rem] truncate"},be={class:"text-small leading-[1.2] text-[#ccc] mt-[1rem]"},ge={class:"name"},he={class:"my-[1rem] ml-[10rem]"},we={class:"ml-[1rem] text-primary w-[16rem] select-none"},Ve={class:"pt-[0]"},ke={class:"w-full"},xe={class:"flex items-center justify-between mb-[1.5rem]"},Ue={class:"flex items-center text-small"},je={class:"ml-[1rem]"},Ce={class:"ml-[1rem]"},Me={class:"flex items-center"},Se={class:"inline-flex ml-[1.2rem] flex items-center flex-nowrap"},Ne={class:"unit"},Oe={class:"flex items-center"},Pe={class:"inline-flex ml-[1.2rem] flex items-center flex-nowrap"},Ae={class:"unit"},Ee={class:"flex items-center"},qe={class:"ml-[1.2rem] flex items-center"},Ie={class:"unit"},Te={class:"ml-[1.2rem] flex items-center"},He={class:"unit"},Le=a({__name:"container-edit",props:{compData:{default:function(){return{}}},type:{default:"edit"}},emits:["close"],setup:function(n,a){var me=a.expose,Le=a.emit,Ge=i("popupClose"),De=Q().refs,Re=De.currentConDetail,Be=De.maxCPU,Fe=De.maxMem,ze=De.maxGpus,Je=De.isRefreshTableList,Qe=n,We=Le,Ke=W().mainHeight,$e=!1,Xe=c(!1),Ye=c("edit"==Qe.type||"edit"==Qe.compData.type),Ze=[{label:"暴露端口",value:"port"},{label:"暴露所有",value:"all"}],en=c(!1),nn=[{label:"本机目录",value:"dir"},{label:"挂载卷",value:"volume"}],tn=s({name:"",image:"",port:"port",portList:[],net:[],mountList:[],command:"",entrypoint:"",auto_remove:!1,console:[],privileged:!1,reSet:"always",mem_reservation:0,cpu_quota:0,labels:"",environment:"",mem_limit:0,remark:"",gpus:0}),rn=m([]),on=d(function(){return Ke.value-240<620?Ke.value-240:620}),ln=function(){var e,n,t,r,o,a,i,c,s,m,d,f,p=Qe.compData.row;tn.name=p.name,tn.image=p.image,tn.remark=p.remark;var v=$(p.ports,"object",{});rn.value=[],null===(e=Object.entries(v))||void 0===e||e.forEach(function(e,n){if(e[1]){var t=l(e[0].split("/")),r=t[0],o=u(t).slice(1);rn.value.push({id:X(),server:e[1][0].HostPort,con:r,output:"0.0.0.0"===e[1][0].HostIp,protocol:o})}});var y=Object.entries((null===(n=Re.value.NetworkSettings)||void 0===n?void 0:n.Networks)||{});y.length>0&&(tn.net=y.map(function(e,n){return{id:X(),network:e[0],ip4:e[1].IPAddress,ip6:e[1].GlobalIPv6Address}})),null===(t=Re.value.Mounts)||void 0===t||t.forEach(function(e,n){tn.mountList.push({id:X(),Mtype:"dir",volume:"",local:e.Source,dir:e.Destination,auth:e.RW?"rw":"ro"})}),tn.auto_remove=null===(r=Re.value)||void 0===r||null===(r=r.HostConfig)||void 0===r?void 0:r.AutoRemove,null!==(o=Re.value)&&void 0!==o&&null!==(o=o.Config)&&void 0!==o&&o.Tty&&tn.console.push("-t"),null!==(a=Re.value)&&void 0!==a&&null!==(a=a.Config)&&void 0!==a&&a.OpenStdin&&tn.console.push("-i"),tn.privileged=Re.value.HostConfig.Privileged,tn.reSet=null===(i=Re.value.HostConfig)||void 0===i?void 0:i.RestartPolicy.Name,tn.mem_reservation=(null===(c=Re.value.HostConfig)||void 0===c?void 0:c.MemoryReservation)/1024/1024,tn.cpu_quota=(null===(s=Re.value.HostConfig)||void 0===s?void 0:s.CpuQuota)/1e5,tn.mem_limit=(null===(m=Re.value.HostConfig)||void 0===m?void 0:m.Memory)/1024/1024,tn.gpus=Re.value.gpu_count,null===(d=Object.entries(Re.value.Config.Labels))||void 0===d||d.forEach(function(e,n){tn.labels+="".concat(e[0],"=").concat(e[1],"\n")}),null===(f=Re.value.Config.Env)||void 0===f||f.forEach(function(e,n){tn.environment+="".concat(e,"\n")}),tn.command=Re.value.Config.Cmd.join("\n"),tn.entrypoint=Re.value.Config.Entrypoint.join(" ")},an=c(),un={name:[{required:!0,message:"请输入容器名",trigger:"blur"}],image:[{required:!0,message:"请选择镜像",trigger:["blur","change"]}]},cn=function(){tn.net.push({id:X(),network:"",ip4:"",ip6:""})},sn=function(){rn.value=[].concat(o(rn.value),[{id:X(),server:"",con:"",protocol:["tcp"],output:!1}])},mn=m([]),dn=function(){tn.mountList.push({id:X(),Mtype:"volume",volume:"",local:"",dir:"",auth:"ro"})},fn=m([]),pn=null,vn="",yn=function(e){vn=e.value},_n=function(e,n){var t=function(){var t=fn.value,r=e===vn?t.sort(function(e,n){return e.value===vn&&n.value!==vn?-1:e.value!==vn&&n.value===vn?1:0}):t.filter(function(n){return n.value.includes(e)});n(r)};$e?pn=setInterval(function(){$e||(clearInterval(pn),t())},1e3):t()},bn=m([]),gn=[{key:"ro",title:"只读"},{key:"rw",title:"读写"}],hn=de({setPort:function(e,n,t){switch(t){case"server":n.server=e;break;case"con":n.con=e;break;case"protocol":n.protocol=e;break;case"output":n.output=e}},delPort:function(e){var n=rn.value.findIndex(function(n){return n.id===e.id});rn.value.splice(n,1),rn.value=o(rn.value)}}),wn=fe({changeNet:function(e,n,t){switch(t){case"network":e.network=n,"bridge"!==n&&"none"!==n&&"host"!==n||(e.ip4="",e.ip6="");break;case"ip4":e.ip4=n;break;case"ip6":e.ip6=n}},delNet:function(e){var n=tn.net.findIndex(function(n){return n.id===e.id});tn.net.splice(n,1)},netOptions:mn}),Vn=function(){var n=r(e().m(function n(){var t,r,o,l,a;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!Xe.value){e.n=1;break}return Y.error("正在获取容器数据中，请稍后"),e.a(2);case 1:return e.n=2,an.value.validate();case 2:if(e.p=2,t=xn(),r=Un(),o=kn(),!Z(t)&&r&&o){e.n=3;break}return e.a(2,!1);case 3:return l={id:Qe.compData.row.id,new_name:tn.name,new_image:tn.image,new_publish_all_ports:"all"==tn.port?"1":"0",new_ports:!0===t?"":t,network_info:!0===o?[]:o,new_command:tn.command,new_entrypoint:tn.entrypoint,new_auto_remove:tn.auto_remove?"1":"0",new_privileged:tn.privileged?"1":"0",new_restart_policy:{Name:tn.reSet},new_mem_reservation:"".concat(0==tn.mem_reservation?0:"".concat(tn.mem_reservation,"MB")),gpus:tn.gpus,new_cpu_quota:tn.cpu_quota,new_mem_limit:"".concat(0==tn.mem_limit?0:"".concat(tn.mem_limit,"MB")),new_labels:jn(tn.labels),new_environment:jn(tn.environment)},tn.auto_remove&&(l.new_restart_policy.Name=""),r&&Object.keys(r).length>0&&(l.new_volumes=r),"on-failure"==tn.reSet&&(l.new_restart_policy.MaximumRetryCount=5),tn.console.length>0&&(null===(a=tn.console)||void 0===a||a.forEach(function(e,n){switch(e){case"-t":l.new_tty=!0;break;case"-i":l.new_stdin_open=!0}})),e.n=4,ee({title:"编辑容器【".concat(Qe.compData.row.name,"】"),width:"45rem",content:'【command、entrypoint，标签和环境变量】<span class="text-danger">配置错误可能导致编辑后的容器无法运行或者丢失</span>，请谨慎操作',isHtml:!0,type:"input",input:{content:"确认无误"}});case 4:return e.n=5,ne({request:te({data:JSON.stringify(l)}),message:!0,loading:"正在编辑容器，请稍后...",success:function(e){e.status&&(setTimeout(function(){window.location.reload()},1e3),Ge(),We("close"))}});case 5:e.n=7;break;case 6:e.p=6,e.v;case 7:return e.a(2)}},n,null,[[2,6]])}));return function(){return n.apply(this,arguments)}}(),kn=function(){try{var e;if(0==tn.net.length)return!0;var n=[];return null===(e=tn.net)||void 0===e||e.forEach(function(e){if(""===e.network&&""!==e.ip4)return Y.error("请选择网络"),!1;if(""!==e.ip4&&!re(e.ip4))throw Y.error("请输入正确的IPV4地址,为空则自动生成"),Error("请输入正确的IPV4地址,为空则自动生成");n.push({network:e.network,ip_address:e.ip4,ip_addressv6:e.ip6})}),n.filter(function(e){return""!==e.network})}catch(t){return!1}},xn=function(){var e;if("all"==tn.port||0==rn.value.length)return!0;var n={};return null===(e=rn.value)||void 0===e||e.forEach(function(e){return""==e.server?(Y.error("本地端口不能为空"),!1):isNaN(Number(e.server))||Number(e.server)<1||Number(e.server)>65535?(Y.error("请输入正确的本地端口范围"),!1):""==e.con?(Y.error("容器不能为空"),!1):isNaN(Number(e.con))||Number(e.con)<1||Number(e.con)>65535?(Y.error("请输入正确的容器端口范围"),!1):0==e.protocol.length?(Y.error("协议不能为空"),!1):void(n["".concat(e.con,"/").concat(e.protocol.join("/"))]=e.output?e.server:["127.0.0.1",e.server])}),n},Un=function(){var e;if(0==tn.mountList.length)return!0;var n={};return null===(e=tn.mountList)||void 0===e||e.forEach(function(e){"volume"==e.Mtype?""==e.volume&&(Y.error("挂载卷不能为空"),n=!1):""==e.local&&(Y.error("挂载目录不能为空"),n=!1),""==e.auth&&(Y.error("权限不能为空"),n=!1),""==e.dir&&(Y.error("容器目录不能为空"),n=!1),!1!==n&&(n["".concat("volume"==e.Mtype?e.volume:e.local)]={bind:e.dir,mode:e.auth})}),n},jn=function(e){var n=e.split("\n");return 1==n.length?e:n.join("\n")},Cn=function(){var n=r(e().m(function n(){var t,r,o,l,a;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,an.value.validate();case 1:if(e.p=1,t=xn(),r=Un(),o=kn(),!Z(t)&&r&&o){e.n=2;break}return e.a(2,!1);case 2:l={name:tn.name,image:tn.image,publish_all_ports:"all"==tn.port?"1":"0",ports:!0===t?"":t,network_info:!0===o?[]:o,command:tn.command,entrypoint:tn.entrypoint,auto_remove:tn.auto_remove?"1":"0",privileged:tn.privileged?"1":"0",restart_policy:{Name:tn.reSet},gpus:tn.gpus,mem_reservation:"".concat(0==tn.mem_reservation?0:"".concat(tn.mem_reservation,"MB")),cpu_quota:tn.cpu_quota,mem_limit:"".concat(0==tn.mem_limit?0:"".concat(tn.mem_limit,"MB")),labels:jn(tn.labels),environment:jn(tn.environment),remark:tn.remark},tn.auto_remove&&(l.restart_policy.Name=""),r&&Object.keys(r).length>0&&(l.volumes=r),"on-failure"==tn.reSet&&(l.restart_policy.MaximumRetryCount=5),tn.console.length>0&&(null===(a=tn.console)||void 0===a||a.forEach(function(e,n){switch(e){case"-t":l.tty="1";break;case"-i":l.stdin_open="1"}})),ne({request:oe({data:JSON.stringify(l)}),message:!0,loading:"添加中...",success:function(e){e.status&&(Je.value=!0,We("close"))}}),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},n,null,[[1,3]])}));return function(){return n.apply(this,arguments)}}(),Mn=function(){var n=r(e().m(function n(){return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,ne({request:le(),data:Array,success:function(e){mn.value=e.map(function(e){return{label:e.name,value:e.name}})}});case 1:return e.n=2,ne({request:ae(),data:Array,success:function(e){fn.value=e.map(function(e){return{value:e.name,id:e.id.replace("sha256:",""),size:e.size}})}});case 2:$e=!1,P(function(){var e;tn.image=Qe.compData.image||(null===(e=Qe.compData.row)||void 0===e?void 0:e.image)||"",ne({request:ue(),data:Array,success:function(e){bn.value=e.map(function(e){return{key:e.Name,title:e.Name}})}})});case 3:return e.a(2)}},n)}));return function(){return n.apply(this,arguments)}}();return f(function(){return tn.auto_remove},function(e){e&&(tn.reSet="no")}),p(r(e().m(function n(){return e().w(function(e){for(;;)switch(e.n){case 0:try{$e=!0,Ye.value&&(Xe.value=!0),Mn(),ze.value>0&&(tn.gpus=ze.value),Ye.value&&ln()}catch(n){}finally{Xe.value=!1}case 1:return e.a(2)}},n)}))),me({onConfirm:Cn}),function(e,n){var r=ie,l=A,a=E,u=ce,i=se,c=q,s=I,m=T,d=H,f=L,p=G,P=J,Q=D,W=R,X=B,Y=F,Z=z;return v(),y("div",{class:"container-dialog",style:O("max-height:".concat(h(on),"px"))},[_(Z,{ref_key:"cmdFormRef",ref:an,model:h(tn),rules:un,"label-position":"right",onSubmit:n[21]||(n[21]=N(function(){},["prevent"]))},{default:b(function(){return[g("div",t,[_(l,{disabled:h(Xe),prop:"name",label:"容器名称"},{default:b(function(){return[_(r,{modelValue:h(tn).name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return h(tn).name=e}),disabled:h(Xe),width:"40rem",placeholder:h(Xe)?"正在获取中...":"请输入容器名称"},null,8,["modelValue","disabled","placeholder"])]}),_:1},8,["disabled"]),_(l,{prop:"image",label:"镜像"},{default:b(function(){return[_(a,{"popper-class":"my-autocomplete",modelValue:h(tn).image,"onUpdate:modelValue":n[1]||(n[1]=function(e){return h(tn).image=e}),disabled:h(Xe),class:"!w-[40rem]","popper-append-to-body":!1,"fetch-suggestions":_n,onSelect:yn,placeholder:h(Xe)?"正在获取中...":"请输入或选择镜像"},{default:b(function(e){var n,t=e.item;return[g("div",{class:w(["flex items-center justify-between py-[1rem]",t.value===h(tn).image?" text-primary hover:text-[#1d9534]":""]),title:"".concat(t.value)},[g("div",ye,[g("div",_e,V("".concat(t.value)),1),g("div",be,V("".concat((null===(n=t.id)||void 0===n?void 0:n.slice(0,12))||"")),1)]),g("span",ge,V(h(K)(t.size)),1)],10,ve)]}),_:1},8,["modelValue","disabled","placeholder"])]}),_:1}),n[23]||(n[23]=g("span",{class:"inline-block ml-[10rem]"},"*可直接输入docker.io中的本地未下载的镜像直接创建容器",-1)),_(l,{prop:"port",label:"端口",class:"!mt-[1.6rem]"},{default:b(function(){return[_(u,{type:"button",modelValue:h(tn).port,"onUpdate:modelValue":n[2]||(n[2]=function(e){return h(tn).port=e}),options:Ze},null,8,["modelValue"])]}),_:1}),k(g("div",he,[k(_(i,{class:"mb-[10px]",ref:"Table","row-key":"id",column:h(hn),data:h(rn),description:"端口列表为空"},null,8,["column","data"]),[[x,h(rn).length>0]]),_(c,{title:"添加端口",onClick:sn},{default:b(function(){return o(n[22]||(n[22]=[U("添加",-1)]))}),_:1})],512),[[x,"port"==h(tn).port]])]),k(_(l,{prop:"path",class:"!mt-[.8rem]",label:"重启规则"},{default:b(function(){return[_(d,{modelValue:h(tn).reSet,"onUpdate:modelValue":n[3]||(n[3]=function(e){return h(tn).reSet=e})},{default:b(function(){return[_(s,{class:"!leading-[2.5rem]",value:"no"},{default:b(function(){return o(n[24]||(n[24]=[U("不重启",-1)]))}),_:1}),_(s,{class:"!leading-[2.5rem]",value:"on-failure"},{default:b(function(){return o(n[25]||(n[25]=[U("失败后重启（默认重启5次）",-1)]))}),_:1}),_(s,{class:"!leading-[2.5rem]",value:"unless-stopped"},{default:b(function(){return o(n[26]||(n[26]=[U("仅非正常退出的时候重启",-1)]))}),_:1}),_(s,{class:"!leading-[2.5rem]",value:"always"},{default:b(function(){return[n[28]||(n[28]=U("停止后马上重启 ",-1)),_(m,{class:"item",effect:"dark",content:"服务器重启时也会马上重启",placement:"top"},{default:b(function(){return o(n[27]||(n[27]=[g("i",{class:"svgtofont-el-info-filled text-warning"},null,-1)]))}),_:1})]}),_:1})]}),_:1},8,["modelValue"])]}),_:1},512),[[x,!h(tn).auto_remove]]),g("div",{class:"flex items-center cursor-pointer pl-[10rem] my-[2rem] px-[2rem]",onClick:n[4]||(n[4]=function(e){return en.value=!h(en)})},[g("i",{class:w(h(en)?"svgtofont-el-arrow-down":"svgtofont-el-arrow-right")},null,2),g("div",we,V("更多设置，".concat(h(en)?"点击收回":"点击查看")),1)]),k(g("div",Ve,[_(l,{label:"网络"},{default:b(function(){return[g("div",ke,[k(_(i,{ref:"Table",column:h(wn),data:h(tn).net,description:"网络列表为空"},null,8,["column","data"]),[[x,h(tn).net.length>0]]),_(c,{class:w(h(tn).net.length>0?"!mt-[1rem]":""),onClick:cn},{default:b(function(){return o(n[29]||(n[29]=[U("添加网络",-1)]))}),_:1},8,["class"])])]}),_:1}),_(l,{label:"挂载/映射"},{default:b(function(){return[(v(!0),y(j,null,C(h(tn).mountList,function(e){return k((v(),y("div",{class:"border-lighter border rounded-small mb-[1rem] p-[1.5rem] w-full",key:e.id},[g("div",xe,[_(u,{type:"button",modelValue:e.Mtype,"onUpdate:modelValue":function(n){return e.Mtype=n},options:nn},null,8,["modelValue","onUpdate:modelValue"]),_(c,{class:"!ml-[4rem]",onClick:function(n){return t=e,r=tn.mountList.findIndex(function(e){return e.id===t.id}),void tn.mountList.splice(r,1);var t,r}},{default:b(function(){return o(n[30]||(n[30]=[g("i",{class:"svgtofont-el-delete"},null,-1)]))}),_:1},8,["onClick"])]),g("div",Ue,[k(g("div",null,[n[31]||(n[31]=g("div",{class:"px-[.2rem] py-[.4rem]"},"挂载卷",-1)),_(p,{modelValue:e.volume,"onUpdate:modelValue":function(n){return e.volume=n},class:"!w-[17rem]"},{default:b(function(){return[(v(!0),y(j,null,C(h(bn),function(e){return v(),M(f,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","onUpdate:modelValue"])],512),[[x,"volume"==e.Mtype]]),k(g("div",null,[n[32]||(n[32]=g("div",{class:"px-[.2rem] py-[.4rem]"},"挂载目录",-1)),_(P,{modelValue:e.local,"onUpdate:modelValue":function(n){return e.local=n},class:"!w-[17rem]",icon:"icon-file_mode",onIconClick:function(n){return function(e){pe({type:"dir",change:function(n){e.local=n}})}(e)},onChangePassive:function(n){return function(e){var n=$(e.local,"string","");e.local=n.replace(/\s+/g,"")}(e)},placeholder:"请输入镜像路径"},null,8,["modelValue","onUpdate:modelValue","onIconClick","onChangePassive"])],512),[[x,"dir"==e.Mtype]]),g("div",je,[n[33]||(n[33]=g("div",{class:"px-[.2rem] py-[.4rem]"},"权限",-1)),_(p,{modelValue:e.auth,"onUpdate:modelValue":function(n){return e.auth=n},class:"!w-[17rem]"},{default:b(function(){return[(v(),y(j,null,C(gn,function(e){return _(f,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])}),64))]}),_:1},8,["modelValue","onUpdate:modelValue"])]),g("div",Ce,[n[34]||(n[34]=g("div",{class:"px-[.2rem] py-[.4rem]"},"容器目录",-1)),_(r,{width:"17rem",modelValue:e.dir,"onUpdate:modelValue":function(n){return e.dir=n}},null,8,["modelValue","onUpdate:modelValue"])])])])),[[x,h(tn).mountList.length>0]])}),128)),_(c,{onClick:dn},{default:b(function(){return o(n[35]||(n[35]=[U("添加",-1)]))}),_:1})]}),_:1}),_(l,{label:"command"},{default:b(function(){return[_(r,{type:"textarea",modelValue:h(tn).command,"onUpdate:modelValue":n[5]||(n[5]=function(e){return h(tn).command=e}),placeholder:"一行一个",width:"24rem"},null,8,["modelValue"])]}),_:1}),_(l,{label:"entrypoint"},{default:b(function(){return[_(r,{modelValue:h(tn).entrypoint,"onUpdate:modelValue":n[6]||(n[6]=function(e){return h(tn).entrypoint=e}),width:"24rem"},null,8,["modelValue"])]}),_:1}),_(l,{prop:"auto_remove",class:"!mt-[.8rem]",label:" "},{default:b(function(){return[_(Q,{modelValue:h(tn).auto_remove,"onUpdate:modelValue":n[7]||(n[7]=function(e){return h(tn).auto_remove=e})},{default:b(function(){return o(n[36]||(n[36]=[U("容器退出后自动删除容器",-1)]))}),_:1},8,["modelValue"])]}),_:1}),_(l,{prop:"console",class:"!mt-[.8rem]",label:"控制台交互"},{default:b(function(){return[_(W,{modelValue:h(tn).console,"onUpdate:modelValue":n[8]||(n[8]=function(e){return h(tn).console=e})},{default:b(function(){return[_(Q,{value:"-t"},{default:b(function(){return o(n[37]||(n[37]=[U("伪终端（-t）",-1)]))}),_:1}),_(Q,{value:"-i"},{default:b(function(){return o(n[38]||(n[38]=[U("标准输入（-i）",-1)]))}),_:1})]}),_:1},8,["modelValue"])]}),_:1}),_(l,{prop:"privileged",class:"!mt-[0rem]",label:" "},{default:b(function(){return[_(Q,{modelValue:h(tn).privileged,"onUpdate:modelValue":n[9]||(n[9]=function(e){return h(tn).privileged=e})},{default:b(function(){return o(n[39]||(n[39]=[U("特权模式",-1)]))}),_:1},8,["modelValue"])]}),_:1}),h(ze)>0?(v(),M(l,{key:0,prop:"gpus",label:"GPU"},{default:b(function(){return[g("div",Me,[_(X,{class:"!w-[20rem] pl-[.6rem]",modelValue:h(tn).gpus,"onUpdate:modelValue":n[10]||(n[10]=function(e){return h(tn).gpus=e}),min:0,max:h(ze)},null,8,["modelValue","max"]),g("div",Se,[_(r,{modelValue:h(tn).gpus,"onUpdate:modelValue":n[11]||(n[11]=function(e){return h(tn).gpus=e}),modelModifiers:{number:!0},class:"mr-[0.8rem] !w-[8rem]"},null,8,["modelValue"]),g("span",Ne,"GPU (最大值："+V(h(ze))+")",1)])])]}),_:1})):S("",!0),_(l,{prop:"mem_reservation",label:"最小分配内存"},{default:b(function(){return[g("div",Oe,[_(X,{class:"!w-[20rem] pl-[.6rem]",modelValue:h(tn).mem_reservation,"onUpdate:modelValue":n[12]||(n[12]=function(e){return h(tn).mem_reservation=e}),min:0,max:h(Fe)},null,8,["modelValue","max"]),g("div",Pe,[_(r,{modelValue:h(tn).mem_reservation,"onUpdate:modelValue":n[13]||(n[13]=function(e){return h(tn).mem_reservation=e}),modelModifiers:{number:!0},class:"mr-[0.8rem] !w-[8rem]"},null,8,["modelValue"]),g("span",Ae,"MB (最大值："+V(h(Fe))+")",1)])])]}),_:1}),_(l,{prop:"cpu_quota",class:"!mt-[1.4rem]",label:"CPU限制"},{default:b(function(){return[g("div",Ee,[_(X,{class:"!w-[20rem] pl-[.6rem]",modelValue:h(tn).cpu_quota,"onUpdate:modelValue":n[14]||(n[14]=function(e){return h(tn).cpu_quota=e}),min:0,max:h(Be)},null,8,["modelValue","max"]),g("span",qe,[_(r,{modelValue:h(tn).cpu_quota,"onUpdate:modelValue":n[15]||(n[15]=function(e){return h(tn).cpu_quota=e}),modelModifiers:{number:!0},class:"mr-[0.8rem] !w-[8rem]"},null,8,["modelValue"]),g("span",Ie,"核 (最大值："+V(h(Be))+")",1)])])]}),_:1}),_(l,{prop:"path",class:"!mt-[1.4rem]",label:"内存限制"},{default:b(function(){return[_(X,{class:"!w-[20rem] pl-[.6rem]",modelValue:h(tn).mem_limit,"onUpdate:modelValue":n[16]||(n[16]=function(e){return h(tn).mem_limit=e}),min:0,max:h(Fe)},null,8,["modelValue","max"]),g("span",Te,[_(r,{modelValue:h(tn).mem_limit,"onUpdate:modelValue":n[17]||(n[17]=function(e){return h(tn).mem_limit=e}),modelModifiers:{number:!0},class:"mr-[0.8rem] !w-[8rem]"},null,8,["modelValue"]),g("span",He,"MB(最大值："+V(h(Fe))+")",1)])]}),_:1}),_(l,{prop:"labels",label:"标签"},{default:b(function(){return[_(Y,{type:"textarea",rows:5,class:"!w-[50rem]",placeholder:"容器标签，一行一个，例：key=value",modelValue:h(tn).labels,"onUpdate:modelValue":n[18]||(n[18]=function(e){return h(tn).labels=e})},null,8,["modelValue"])]}),_:1}),_(l,{prop:"environment",label:"环境变量"},{default:b(function(){return[_(Y,{type:"textarea",rows:5,class:"!w-[50rem]",placeholder:"添加环境变量格式如下，有多个请换行添加：\nJAVA_HOME=/usr/local/java8\nHOSTNAME=master",modelValue:h(tn).environment,"onUpdate:modelValue":n[19]||(n[19]=function(e){return h(tn).environment=e})},null,8,["modelValue"])]}),_:1}),"edit"!==Qe.type?(v(),M(l,{key:1,prop:"remark",label:"备注"},{default:b(function(){return[_(Y,{type:"textarea",rows:5,class:"!w-[50rem]",placeholder:"容器备注",modelValue:h(tn).remark,"onUpdate:modelValue":n[20]||(n[20]=function(e){return h(tn).remark=e})},null,8,["modelValue"])]}),_:1})):S("",!0)],512),[[x,h(en)]]),h(Ye)?(v(),M(c,{key:0,class:"ml-[10rem] mb-[54px]",type:"primary",onClick:Vn},{default:b(function(){return o(n[40]||(n[40]=[U(" 保存容器配置 ",-1)]))}),_:1})):S("",!0)]}),_:1},8,["model"])],4)}}});n("default",me(Le,[["__scopeId","data-v-8589ec5d"]]))}}})}();
