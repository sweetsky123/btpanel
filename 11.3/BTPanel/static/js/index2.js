import{O as e,P as a}from"./utils-lib.js?v=1763689792";import{g as s}from"./useStore.js?v=1763689792";import{u as o}from"./index114.js?v=1763689792";import{c as t,b as l,g as r,w as n,v as i,a8 as c,x as m,O as u,C as p,z as d,y as f,e as g,R as v,G as h,n as y}from"./base-lib.js?v=1763689792";import{d as j}from"./validator.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./config.js?v=1763689792";import"./index115.js?v=1763689792";import"./index116.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const w={key:0,class:"mr-1rem"},x=t({__name:"index",setup(t){const{getGlobalConfig:x}=s(),{refs:{settingSearch:S,openSSLPopup:_,openPortPopup:b}}=s(),q=l(),{BtRouterTabs:C}=o(),E=r(()=>q.name),N=r(()=>"whole"===E.value||"panel"===E.value||"safe"===E.value);n(()=>S.value,()=>{y(()=>{document.querySelectorAll(".empty-search").forEach(function(e){var a;null==(a=e.parentNode)||a.removeChild(e)});if(0==document.querySelectorAll('.config-rows[style="display: flex;"]').length){const e=document.createElement("div");e.className="empty-search flex items-center justify-center w-full py-[1.5rem]",e.innerHTML='暂无搜索结果，<span class="text-primary cursor-pointer NpsDialog">提交需求反馈</span>';e.querySelectorAll(".NpsDialog").forEach(e=>{e.addEventListener("click",function(){j({name:"面板设置",type:23,id:30})})});const a=document.querySelector(".router-tabs-content .search-results");a&&a.appendChild(e)}})},{immediate:!0}),n(()=>E.value,e=>{"whole"!==e&&"panel"!==e&&"safe"!==e&&"ui"!==e||(S.value="")});return i(async()=>{S.value="",await x(),(()=>{const e=window.localStorage.getItem("config-dialog");switch(e){case"ssl":_.value=!0;break;case"port":b.value=!0}e&&window.localStorage.removeItem("config-dialog")})()}),c(()=>{e(["/config?action=get_menu_list"])}),(e,s)=>{const o=a;return m(),u(d(C),null,{right:p(()=>[d(N)?(m(),f("div",w,[g(o,{class:"search !w-24rem",placeholder:"搜索设置项",modelValue:d(S),"onUpdate:modelValue":s[0]||(s[0]=e=>v(S)?S.value=e:null)},null,8,["modelValue"])])):h("",!0)]),_:1})}}});export{x as default};
