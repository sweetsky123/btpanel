!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",u=n.toStringTag||"@@toStringTag";function c(n,r,o,u){var c=r&&r.prototype instanceof l?r:l,f=Object.create(c.prototype);return a(f,"_invoke",function(n,r,a){var o,u,c,l=0,f=a||[],s=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,n){return o=e,u=0,c=t,p.n=n,i}};function v(n,r){for(u=n,c=r,e=0;!s&&l&&!a&&e<f.length;e++){var a,o=f[e],v=p.p,d=o[2];n>3?(a=d===r)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=v&&((a=n<2&&v<o[1])?(u=0,p.v=r,p.n=o[1]):v<d&&(a=n<3||o[0]>r||r>d)&&(o[4]=n,o[5]=r,p.n=d,u=0))}if(a||n>1)return i;throw s=!0,r}return function(a,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&v(f,d),u=f,c=d;(e=u<2?t:c)||!s;){o||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(l=2,o){if(u||(a="next"),e=o[a]){if(!(e=e.call(o,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=t}else if((e=(s=p.n<0)?c:n.call(r,p))!==i)break}catch(e){o=t,u=1,c=e}finally{l=1}}return{value:e,done:s}}}(n,o,u),!0),f}var i={};function l(){}function f(){}function s(){}e=Object.getPrototypeOf;var p=[][o]?e(e([][o]())):(a(e={},o,function(){return this}),e),v=s.prototype=l.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,a(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t}return f.prototype=s,a(v,"constructor",s),a(s,"constructor",f),f.displayName="GeneratorFunction",a(s,u,"GeneratorFunction"),a(v),a(v,u,"Generator"),a(v,o,function(){return this}),a(v,"toString",function(){return"[object Generator]"}),(r=function(){return{w:c,m:d}})()}function a(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}a=function(t,e,n,r){function u(e,n){a(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(u("next",0),u("throw",1),u("return",2))},a(t,e,n,r)}function o(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function u(t,e,n,r,a,o,u){try{var c=t[o](u),i=c.value}catch(t){return void n(t)}c.done?e(i):Promise.resolve(i).then(r,a)}function c(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function c(t){u(o,r,a,c,i,"next",t)}function i(t){u(o,r,a,c,i,"throw",t)}c(void 0)})}}System.register(["./index-legacy109.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./useStore-legacy4.js?v=1763689792","./site-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./index-legacy107.js?v=1763689792"],function(t,n){"use strict";var a,u,i,l,f,s,p,v,d,y,m,b,h,g,x,j,w,_,S,P,k,E,O,T,A,C,G,I,N,F,H,D,V,q,z;return{setters:[function(t){a=t._},function(t){u=t.Q,i=t.aK,l=t.k,f=t.l,s=t.ah,p=t.b,v=t._},function(t){d=t.c,y=t.r,m=t.v,b=t.I,h=t.J,g=t.z,x=t.x,j=t.y,w=t.e,_=t.C,S=t.A,P=t.R,k=t.D,E=t.B,O=t.F,T=t.bb,A=t.H},function(t){C=t.a,G=t.u,I=t.c},function(t){N=t.f},function(t){F=t.u},function(t){H=t.removeProtectExt,D=t.removeExcloud,V=t.getProofFind,q=t.addProtectExt,z=t.addExcloud},null,null,null],execute:function(){var n={class:"pb-2rem"},R={class:"flex gap-col-1rem"},U={class:"flex flex-col justify-between"},B={class:"mt-8px leading-8 text-small list-disc ml-20px tamper-help-info"},J={key:0,class:"text-danger"},K=d({__name:"exclude-protect-ext",props:{compData:{default:{}}},setup:function(t,v){var d=v.expose,K=t,M=p(),Q=F().siteInfo,$=y(),L=y(!1),W=y(!1),X=y([]),Y=y("");y([]);var Z,tt=y(0),et=function(){var t=c(r().m(function t(e){var n,a;return r().w(function(t){for(;;)switch(t.n){case 0:return n=o({siteName:Q.value.name},tt.value?"protectExt":"excludePath",e.path),a=tt.value?H:D,t.n=1,u({loading:"正在删除".concat(tt.value?"保护文件名":"排除路径","，请稍后..."),request:a(n),message:!0});case 1:t.v.status&&rt();case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),nt=function(){N({type:"all",path:Q.value.path,change:function(t){var e=Y.value?Y.value.split("\n"):[];e.includes(t)||e.push(t),Y.value=e.join("\n")}})},rt=function(){var t=c(r().m(function t(){var e,n,a;return r().w(function(t){for(;;)switch(t.p=t.n){case 0:return L.value=!0,t.p=1,t.n=2,V({siteName:Q.value.name});case 2:e=t.v,(n=e.data)&&(X.value=(tt.value?n.protectExt:n.excludePath).map(function(t){return{path:t}})),t.n=4;break;case 3:t.p=3,a=t.v,i(a);case 4:return t.p=4,L.value=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}));return function(){return t.apply(this,arguments)}}(),at=function(){var t=c(r().m(function t(){var e;return r().w(function(t){for(;;)switch(t.n){case 0:if(""!==Y.value){t.n=1;break}return t.a(2,M.error("".concat(tt.value?"保护文件":"排除路径","不能为空")));case 1:return e={siteName:Q.value.name},tt.value?e.protectExt=Y.value:e.excludePath=Y.value,t.n=2,u({loading:"正在添加".concat(tt.value?"保护":"排除","，请稍后..."),request:tt.value?q(e):z(e),message:!0});case 2:t.v.status&&(Y.value="",rt());case 3:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),ot=function(){tt.value="protect"===K.compData.childType?1:0,rt()},ut=[{label:"删除",value:"delete",event:(Z=c(r().m(function t(e,n,a,u){var i;return r().w(function(t){for(;;)switch(t.n){case 0:return i=function(){var t=c(r().m(function t(e){var n,a,u;return r().w(function(t){for(;;)switch(t.n){case 0:if(n=o({siteName:Q.value.name},tt.value?"protectExt":"excludePath",e.path),!tt.value){t.n=2;break}return t.n=1,H(n);case 1:u=t.v,t.n=4;break;case 2:return t.n=3,D(n);case 3:u=t.v;case 4:return a=u,t.a(2,a)}},t)}));return function(e){return t.apply(this,arguments)}}(),t.n=1,e({title:"批量删除",content:"批量删除选中的名称或路径，防篡改开启时该路径将受保护，是否继续操作？",column:[{label:"".concat(tt.value?"扩展名/文件名":"名称或路径"),prop:"path"},I()],onConfirm:function(){var t=c(r().m(function t(){return r().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,n(i);case 1:return rt(),t.a(2,!1)}},t)}));return function(){return t.apply(this,arguments)}}()});case 1:return t.a(2)}},t)})),function(t,e,n,r){return Z.apply(this,arguments)})}],ct=y([C(),{label:"".concat(tt.value?"扩展名/文件名":"名称或路径"),prop:"path"},G([{title:"删除",onClick:et}])]);return m(ot),d({init:ot}),function(t,r){var o=l,u=A,c=f,i=s,p=a,v=b("bt-loading");return h((x(),j("div",n,[w(p,null,{"header-left":_(function(){return[S("div",R,[w(o,{modelValue:g(Y),"onUpdate:modelValue":r[0]||(r[0]=function(t){return P(Y)?Y.value=t:null}),type:"textarea",rows:4,resize:"none",width:"38rem",placeholder:"".concat(g(tt)?"受保护的文件或扩展名":"排除文件或目录","，每行一条")},null,8,["modelValue","placeholder"]),S("div",U,[S("span",null,[w(u,{type:"default",onClick:nt},{default:_(function(){return e(r[1]||(r[1]=[S("i",{class:"svgtofont-el-folder"},null,-1)]))}),_:1})]),w(u,{type:"default",onClick:at},{default:_(function(){return[k(" 添加"+E(g(tt)?"保护":"排除"),1)]}),_:1})])])]}),"header-right":_(function(){return e(r[2]||(r[2]=[]))}),content:_(function(){return[h(w(c,{ref_key:"excludeTableRef",ref:$,column:g(ct),maxHeight:g(tt)?380:420,data:g(X)},null,8,["column","maxHeight","data"]),[[v,g(W)]])]}),"footer-left":_(function(){return[w(i,{"table-ref":g($),options:ut},null,8,["table-ref"])]}),"footer-right":_(function(){return e(r[3]||(r[3]=[]))}),_:1}),S("ul",B,[g(tt)?(x(),j(O,{key:1},[r[4]||(r[4]=T('<li class="leading-2rem" data-v-54f2b08e><div data-v-54f2b08e>支持以下4种方式</div><div data-v-54f2b08e><span data-v-54f2b08e> 1. 文件扩展名，如： <code data-v-54f2b08e>php jsp</code></span><span data-v-54f2b08e> 2. 文件名，如： <code data-v-54f2b08e>bt.php、 index.php</code></span></div><div data-v-54f2b08e><span data-v-54f2b08e> 3. 文件全路径，如： <code data-v-54f2b08e>/bt.cn/1.txt</code></span><span data-v-54f2b08e> 4. 文件相对路径，如： <code data-v-54f2b08e>app/test.php</code></span></div></li><li data-v-54f2b08e>一般添加常见容易被篡改的扩展名即可，如html,php,js等</li>',2))],64)):(x(),j("li",J,"排除规则具备最高优先级，在此列表中的目录或文件名将不受保护"))])])),[[v,g(L)],[v,"正在获取防篡改配置信息，请稍侯","title"]])}}});t("default",v(K,[["__scopeId","data-v-54f2b08e"]]))}}})}();
