import{c as a,r as s,v as t,I as e,J as l,z as n,x as o,y as u,A as p,e as m,R as c,ap as r,b2 as d}from"./base-lib.js?v=1763689792";import{Q as i,ly as g,M as x,lz as S,lA as v,$ as _}from"./utils-lib.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";const h={class:"p-[20px]"},y=a({__name:"anti-channel-site",setup(a){const y=s([{content:"开启后可以解决HTTPS窜站的问题"},{content:"不支持IP证书的防窜，直接使用IP访问的勿开"}]),T=s([{content:"开启后将在网站新部署SSL证书时生效"},{content:"不影响已部署SSL的网站"}]),V=s(),b=s(),P=s(!1),j=async a=>{const s=await i({loading:"正在设置，请稍后...",request:S(),message:!0});V.value=s.status?a:!a},H=async a=>{const s=await i({loading:"正在设置，请稍后...",request:v({status:a?1:0}),message:!0});b.value=s.status?a:!a};return t(()=>{i({loading:P,request:g(),success:a=>{a.status?(V.value=a.data.data.https_mode,b.value=a.data.data.http2https):x.error(a.msg)}})}),(a,s)=>{const t=r,i=_,g=d,x=e("bt-loading");return l((o(),u("div",h,[s[2]||(s[2]=p("span",{class:"mr-[12px]"},"HTTPS防窜站",-1)),m(t,{modelValue:n(V),"onUpdate:modelValue":s[0]||(s[0]=a=>c(V)?V.value=a:null),onChange:j},null,8,["modelValue"]),m(i,{class:"ml-[20px] my-[20px]",options:n(y)},null,8,["options"]),m(g),s[3]||(s[3]=p("span",{class:"mr-[12px]"},"部署SSL后自动开启HTTPS",-1)),m(t,{modelValue:n(b),"onUpdate:modelValue":s[1]||(s[1]=a=>c(b)?b.value=a:null),onChange:H},null,8,["modelValue"]),m(i,{class:"ml-[20px] my-[20px]",options:n(T)},null,8,["options"])])),[[x,n(P)]])}}});export{y as default};
