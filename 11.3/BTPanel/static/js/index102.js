import{c as e,r as a,w as t,aJ as s,aG as l,v as o,J as n,K as i,z as r,x as c,y as u,e as m,m as d,aT as p,i as v,C as f,A as h,D as b,aU as y,aV as g,g as w,b as x,t as _,aW as k,a3 as j,aX as A,H as C,aY as B,aZ as I,ab as M,ad as E,at as T,as as S,ar as z,a_ as O,aA as R,az as D,U as N,ax as L,an as Z,am as F,o as P,B as U,G as V,aP as G,aQ as J,O as q,P as Q,M as X,a$ as K,b0 as H,L as W,F as Y,b1 as $,S as ee,a8 as ae}from"./base-lib.js?v=1763689792";import{u as te,i as se,b as le,_ as oe,g as ne,d as ie,e as re,f as ce,h as ue,j as me,k as de,l as pe,n as ve,o as fe,p as he,M as be,q as ye,t as ge,v as we,x as xe,y as _e,z as ke,A as je,B as Ae,r as Ce,C as Be,D as Ie,E as Me}from"./utils-lib.js?v=1763689792";import{B as Ee}from"./index106.js?v=1763689792";import{n as Te,f as Se,p as ze,m as Oe,a as Re}from"./validator.js?v=1763689792";import{u as De}from"./hooks.js?v=1763689792";import{_ as Ne}from"./index107.js?v=1763689792";import{_ as Le}from"./index108.js?v=1763689792";import{_ as Ze}from"./index109.js?v=1763689792";import{_ as Fe}from"./index110.js?v=1763689792";import{_ as Pe}from"./index111.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./column.js?v=1763689792";const Ue=["src"],Ve=oe(e({__name:"index",setup(e){const{pluginInfo:m}=te(),d=le(),p=a(),v=a(0),f=a();return t(()=>m.value.visible,e=>{e?f.value=d.load("正在加载插件数据，请稍候..."):f.value.close()}),s(()=>{m.value.visible&&m.value.init&&(()=>{const{id:e,name:a,built:t}=m.value;if(t)m.value.visible=!1;else{const s={pluginName:e,pluginTitle:a,pluginBuilt:t};p.value.contentWindow.postMessage("".concat(JSON.stringify(s)),"*"),"function"==typeof m.value.callback&&m.value.callback(p.value.contentWindow)}})()}),l(()=>{v.value&&clearInterval(v.value)}),o(()=>{window.addEventListener("message",async e=>{var a,t;let s=e.data;switch("string"==typeof e.data&&-1!==(null==(a=e.data)?void 0:a.indexOf("&"))&&(s=e.data.split("&")[0]),s){case"closePlugin":if(m.value.visible=!1,document.getElementById("app-container").style.position="relative",m.value.visible=!1,-1!==(null==(t=e.data)?void 0:t.indexOf("&"))){const a=e.data.split("&");let t=!1;"success"===String(a[2])&&(t=!0),d.request({status:t,msg:String(a[1])}),m.value.visible=!1}break;case"refreshMain":window.location.reload();break;case"pluginLoad":f.value.close()}}),p.value.onload=()=>{m.value.init=!0}}),(e,a)=>n((c(),u("iframe",{ref_key:"iframeRef",ref:p,src:r(se)?"/software.html":"/software",class:"w-full h-full !fixed z-999999 min-h-[45rem] top-0 bg-transparent"},null,8,Ue)),[[i,r(m).visible]])}}),[["__scopeId","data-v-836e8177"]]);const Ge=e({name:"BtTooltip",setup:(e,{attrs:a,slots:t})=>()=>{return m(p,d(a,e),"function"==typeof(s=t)||"[object Object]"===Object.prototype.toString.call(s)&&!v(s)?t:{default:()=>[t]});var s}}),Je={class:"toolbar-right"},qe={class:"customer-title"},Qe={class:"flex border-solid border-b-1 border-primary text-primary justify-center items-center"},Xe={class:"qrcode-wechat w-[128px] h-[128px] mt-[8px] mb-[4px]"},Ke={id:"wechatCustomerQrcode"},He=oe(e({__name:"index",setup(e){const{panel:t}=te(),s=a(!0),l=a(!1),d=a(!1);let p=0;const v=()=>{if(d.value)return!1;clearTimeout(p),s.value=!1,l.value=!0},y=()=>!d.value&&(0!==p?(s.value=!0,l.value=!1,void(p=0)):void(p=setTimeout(()=>{s.value=!0,l.value=!1},500))),g=()=>{s.value=!0,l.value=!0,d.value=!0},w=()=>{s.value=!0,l.value=!1,setTimeout(()=>{d.value=!1},500)};return o(async()=>{if(!t.value.panelNps){const e=await ne({version:"v2",productType:0,softwareName:"panel"});e.data.nps&&e.data.safe_day>=15&&Te()}}),(e,a)=>{const t=ie,s=re,o=ce,p=Ee,x=Ge;return c(),u("div",Je,[m(p,{placement:"left",effect:"light","popper-class":"!p-0",visible:r(l),trigger:"hover",width:"160px"},{reference:f(()=>[h("div",{class:"icon-menu",onMouseover:v,onMouseleave:y,onClick:g},[m(t,{icon:"customer-service",size:45,color:"var(--el-color-primary)"})],32)]),default:f(()=>[h("div",{id:"wechat-customer",class:"wechat-customer",onMouseover:v,onMouseleave:y},[h("div",qe,[m(s,{target:"_blank",href:"https://www.bt.cn/new/wechat_customer",class:"text-medium cursor-pointer flex flex-row items-center flex-nowrap"},{default:f(()=>[h("div",Qe,[a[1]||(a[1]=b(" 点击咨询客服 ",-1)),m(t,{icon:"arrow",size:16,color:"var(--el-color-primary)",class:"ml-[5px]"})])]),_:1})]),h("div",Xe,[h("div",Ke,[m(o,{src:"/customer/customer-qrcode.png"})])]),a[3]||(a[3]=h("div",{class:"wechat-title flex"},[h("img",{class:"w-[14px] h-[14px]",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAATlJREFUSEvtVrFOw0AMfed8AxJsZWGAgQHBXP4DCQa+Ioou7g18BRIg9T/KDGJggIGFbiDxDXGQowSBuGvrFISEmtF+7/nis312RVEMiWgIoMT375aIjpj5KeJrTMy8JSJjAPsRzEhErl1Zlhd1XZ8kRKZEdMjM0xlBBiIyATCIYZxzl857X6uTiHaY+TElZrUz87aIPCjvI0gIwVmF5uG7H1gFmZepxv85XTdqCCEcLMQ0gLz3jbbTOm/rPdkLBt0v0E77xysq2it9T2nhuTzPN4ho10KyYEXkXvvkBcC6hWjEvmqQMwCnANZa8p1RJAbfa41vAM7/0cUzczOiZ43zvunrtPVOntuO3+wrluJ12qspvFBm/+bR+u03nhPrkKZk2ZVINUZO964sy44Ta9FSK5GuQ1VVXb0DLf+sHQ9tLL0AAAAASUVORK5CYII="}),h("div",{class:"text-base font-black"},"扫一扫")],-1)),a[4]||(a[4]=h("span",{class:"layui-layer-setwin wechat-close",style:{display:"block"}},[h("a",{href:"javascript:;",class:"layui-layer-ico layui-layer-close layui-layer-close2"})],-1)),n(h("div",{onClick:w,class:"absolute -top-1.5rem -right-1.5rem z-999 w-[3rem] h-3rem rounded-1/2 cursor-pointer"},[...a[2]||(a[2]=[h("div",{"data-v-48b1409d":"",class:"absolute w-[3rem] h-3rem top-0 left-0 origin-center close-popup-btn"},null,-1)])],512),[[i,r(d)]])],32)]),_:1},8,["visible"]),m(x,{effect:"dark",content:"点击打开调查问卷",placement:"left",enterable:!0},{default:f(()=>[h("div",{class:"icon-menu",onClick:a[0]||(a[0]=(...e)=>r(Te)&&r(Te)(...e))},[m(t,{icon:"evaluation-feedback",size:45,color:"var(--el-color-primary)"})])]),_:1})])}}}),[["__scopeId","data-v-838d81eb"]]);const We=e({name:"BtContainer",setup:(e,{attrs:a,slots:t})=>()=>{return m(y,a,"function"==typeof(e=t)||"[object Object]"===Object.prototype.toString.call(e)&&!v(e)?t:{default:()=>[t]});var e}});const Ye=e({name:"BtAside",setup:(e,{attrs:a,slots:t})=>()=>{return m(g,d(e,a),"function"==typeof(s=t)||"[object Object]"===Object.prototype.toString.call(s)&&!v(s)?t:{default:()=>[t]});var s}}),$e=w(()=>{var e;return(null==(e=x())?void 0:e.path)||""}),{title:ea,panel:aa,robserver:ta,layoutBody:sa,mainWidth:la,mainHeight:oa,updateTaskCount:na,mountMessage:ia,payment:ra,aliyunEcsLtd:ca}=te(),ua=()=>{ta.value&&ta.value.disconnect&&(ta.value.disconnect(),ta.value=null)},ma=()=>De({vue:{defineComponent:e,version:A},components:{BtDialog:me,BtInput:de,BtLink:re,BtInputIcon:Ne,BtSvgIcon:Le,BtTable:pe,BtTableGroup:Ze,ElButton:C,ElCard:B,ElAlert:I,ElForm:M,ElFormItem:E,ElDropdownItem:T,ElDropdownMenu:S,ElDropdown:z,ElTooltip:p,ElIcon:O,ElPopover:R,ElTable:D,ElInput:N,ElTableColumn:L,BtDivider:Fe,BtImage:ce,ElSelect:Z,ElOption:F},hooks:{useMessage:le,useDialog:ve,useAxios:fe,useConfirm:he,Message:be,isUndefined:ye,inputFocus:ge,rsaEncrypt:we,isDev:se},utils:{getByteUnit:xe,getRandomPwd:_e},dialog:{fileSelectionDialog:Se},vueMethods:{ref:a,unref:r,reactive:P,watch:t,computed:w,onMounted:o,onBeforeUnmount:l}}),da=()=>{const{msgBoxTaskCount:e}=_(aa.value);t(ea,e=>k(e)),t(e,na),t(ca,e=>{e&&"ltd"!==ra.value.authType&&ze({compulsionLtd:!0,showClose:!1,disableEsc:!0})},{immediate:!0}),k(ea),setTimeout(()=>{ke({request:async()=>{try{"/waf"!==$e.value&&await je()}catch(e){await he({title:"登录验证已失效",content:"当前面板登录验证已失效，确认后重新登录",showClose:!1}),window.location.href="/login"}},timeout:6e5})},6e5),ue(),ta.value=j(sa,e=>{const a=e[0],{height:t}=a.contentRect,s=document.getElementById("layout-footer"),l=null==s?void 0:s.getBoundingClientRect(),o=(null==l?void 0:l.height)||0,n=(null==l?void 0:l.width)||0,i=document.getElementById("layout-main"),r=null==i?void 0:i.getBoundingClientRect(),c=(null==r?void 0:r.width)||0;la.value=(n||c)-32,oa.value=parseInt("".concat(t-o-30),10)}),ia(),window.$extension=ma},pa={key:0,id:"layout-footer",class:"flex items-center items-end w-full h-[30px] mb-[14px] text-base justify-center relative z-90 mt-[14px]"},va={class:"mr-[8px] text-tertiary text-small"},fa={class:"flex bt-link-info items-center"},ha={class:"w-full flex items-center justify-center"},ba={class:"flex bt-link-info items-center"},ya={class:"w-full flex items-center justify-center"},ga=oe(e({__name:"footer",setup(e){const a=x(),t=w(()=>!a.path.includes("waf")),{vite_public_brand:s,vite_public_product:l,vite_public_year:o}=window;return(e,a)=>{const n=Fe,i=Pe,d=re,p=ce,v=Ee;return r(t)?(c(),u("footer",pa,[h("span",va,U(r(s))+U(r(l))+"©2014-"+U(r(o))+" 广东堡塔安全技术有限公司 (bt.cn)",1),m(n),m(d,{class:"bt-link-info",href:"http://www.bt.cn/bbs"},{default:f(()=>[m(i,{name:"tools-help",size:"14",class:"mr-[.2rem]",color:"var(--el-color-primary)"}),a[0]||(a[0]=h("span",{class:"h-[1.2rem] flex items-center text-tertiary"},"论坛求助",-1))]),_:1}),m(n),m(d,{class:"bt-link-info",href:"https://docs.bt.cn"},{default:f(()=>[m(i,{name:"tools-manual",size:"14",class:"mr-[.2rem]"}),a[1]||(a[1]=h("span",{class:"h-[1.2rem] flex items-center text-tertiary"},"使用手册",-1))]),_:1}),m(n),m(v,{placement:"top-start","popper-class":"white-tips-popover",width:"160",trigger:"hover"},{reference:f(()=>[h("span",fa,[m(i,{name:"tools-wechat",size:"14",class:"mr-[.2rem]"}),a[2]||(a[2]=h("span",{class:"text-small h-[1.2rem] flex items-center text-tertiary cursor-pointer"},"微信公众号",-1))])]),default:f(()=>[h("div",ha,[m(p,{src:"/other/bt_wx.jpg"})])]),_:1}),m(n),m(d,{class:"bt-link-info",href:"https://www.bt.cn/auth"},{default:f(()=>[m(i,{name:"tools-check",size:"14",class:"mr-[.2rem]"}),a[3]||(a[3]=h("span",{class:"h-[1.2rem] flex items-center text-tertiary"},"正版查询",-1))]),_:1}),m(n),m(v,{placement:"top-start","popper-class":"white-tips-popover",width:"160",trigger:"hover"},{reference:f(()=>[h("span",ba,[m(i,{name:"tools-customer",size:"14",class:"mr-[.2rem]"}),a[4]||(a[4]=h("span",{class:"text-small h-[1.2rem] flex items-center text-tertiary cursor-pointer"},"联系人工客服",-1))])]),default:f(()=>[h("div",ya,[m(p,{src:"/other/customer-qrcode.png",class:"w-[150px]"})])]),_:1})])):V("",!0)}}}),[["__scopeId","data-v-9c424247"]]),wa=oe(e({__name:"main",setup(e){const{mainHeight:a}=te();return x(),(e,t)=>{const s=G("router-view");return c(),u("section",{id:"layout-main",class:"w-full",style:X({"min-height":r(a)+"px"})},[m(s,null,{default:f(({Component:e})=>[m(J,{class:"animate-animated",name:"fade",mode:"out-in"},{default:f(()=>[(c(),q(Q(e)))]),_:2},1024)]),_:1})],4)}}}),[["__scopeId","data-v-d1983ed3"]]);const xa=e({name:"BtScrollbar",props:{...K},setup:(e,{attrs:a,slots:t})=>()=>{return m(H,d(e,a),"function"==typeof(s=t)||"[object Object]"===Object.prototype.toString.call(s)&&!v(s)?t:{default:()=>[t]});var s}}),{disableSidebar:_a,serverIp:ka,menuControl:ja,cutCollapseView:Aa}=te(),Ca=()=>{_a.value||Oe()},Ba=async()=>{Ae({value:ka.value})},Ia=e=>Ce.currentRoute.value.path.split("/")[1]===e.name,Ma=e=>{ja.value.menuName=e},Ea=e=>{ja.value.menuName=""},Ta=e=>Ia(e)?"is-active":"",Sa=async()=>{try{await he({icon:"warning-filled",title:"退出登录",content:"退出面板登录，是否继续？"}),setTimeout(()=>{window.location.href="/login?dologin=True"},400)}catch(e){}},za=async()=>{_a.value||Re()},Oa=async()=>{var e;if(Aa(),!Ce.currentRoute.value.path.includes("/waf"))return;const a=document.getElementById("ifrramApp");a&&(null==(e=a.contentWindow)||e.check_shrink(ja.value.collapse))},Ra={class:"sidebar"},Da={class:"flex-shrink-0"},Na=["src"],La={class:"flex-1 overflow-y-auto overflow-hidden"},Za={class:"relative h-full"},Fa=["onMouseenter","onMouseleave"],Pa=["href","onClick"],Ua={class:"flex-shrink-0"},Va={class:"cursor-pointer"},Ga={class:"cursor-pointer"},Ja=oe(e({__name:"index",setup(e){const{menuControl:a,panel:t,serverIp:s,messageNumberStyle:l,messageIpNumberLength:o,menuControlIcon:n,menuCollapseMouseleave:i,menuCollapseMouseenter:d,cutMenuRouter:p,menuLogo:v,globalTheme:b}=te();return(e,y)=>{const g=Pe,w=We,x=xa,_=ie,k=Ge;return c(),u("section",Ra,[h("div",Da,[m(w,{class:W(["layout-message",r(a).collapse?"!justify-center":"!justify-start"])},{default:f(()=>["/static/icons/logo-white.svg"===r(b).logo.image?(c(),q(g,{key:0,name:"tools-logo",size:"22"})):(c(),u("img",{key:1,src:r(v),alt:"logo-white",class:W("w-[2rem] "+(r(a).collapse?"":"mr-[.4rem]"))},null,10,Na)),r(a).collapse?V("",!0):(c(),u("div",{key:2,class:W(["flex leading-normal truncate font-600 w-[15rem] pl-[.8rem]",r(o)>=11?"text-small":"text-base"]),title:"双击可复制IP",onDblclick:y[0]||(y[0]=(...e)=>r(Ba)&&r(Ba)(...e))},U(r(t).sidebarTitle||r(s)),35)),h("div",{class:W(r(l)),onClick:y[1]||(y[1]=(...e)=>r(Ca)&&r(Ca)(...e))},U(r(t).msgBoxTaskCount),3)]),_:1},8,["class"])]),h("div",La,[h("div",Za,[m(x,null,{default:f(()=>[h("ul",{class:W(["bt-menu",{"is-cut-menu":r(a).collapse,"hover-menu-bg":r(a).mouserover}])},[(c(!0),u(Y,null,$(r(Be),e=>(c(),u(Y,{key:e.path},["dologin"!=e.name&&e.show?(c(),u("li",{key:e.path,class:W(["menu-item","menu-".concat(String(e.name)),r(Ta)(e)]),onMouseenter:a=>r(Ma)(e.name),onMouseleave:a=>r(Ea)(e.name)},[h("a",{href:e.path,onClick:ee(a=>r(p)(e.path),["prevent"])},[m(g,{name:"menu-"+(r(Ia)(e)||r(a).menuName===e.name?e.name+"-active":e.name),color:"#fff",size:"21"},null,8,["name"]),h("span",null,U(e.title),1)],8,Pa)],42,Fa)):V("",!0)],64))),128)),h("li",{class:"menu-item menu-exit",onClick:y[4]||(y[4]=(...e)=>r(Sa)&&r(Sa)(...e))},[h("a",{href:"javascript:;",onMouseenter:y[2]||(y[2]=e=>r(Ma)("dologin")),onMouseleave:y[3]||(y[3]=e=>r(Ea)("dologin"))},[m(g,{name:"menu-exit"+("dologin"===r(a).menuName?"-active":""),size:"22"},null,8,["name"]),y[9]||(y[9]=h("span",null,"退出",-1))],32)])],2)]),_:1})])]),h("div",Ua,[h("div",{class:W(["menu-toolbar",{"justify-between":!r(a).collapse}])},[h("div",Va,[m(k,{class:"item",effect:"dark",content:"点击伸缩菜单栏",placement:"top",enterable:!1},{default:f(()=>[h("div",{class:"setting-hover",onClick:y[5]||(y[5]=(...e)=>r(Oa)&&r(Oa)(...e)),onMouseleave:y[6]||(y[6]=(...e)=>r(i)&&r(i)(...e)),onMouseenter:y[7]||(y[7]=(...e)=>r(d)&&r(d)(...e))},[m(_,{icon:r(n)?"display-menu":"shrink-menu"},null,8,["icon"])],32)]),_:1})]),h("div",Ga,[r(a).collapse?V("",!0):(c(),q(k,{key:0,class:"item",effect:"dark",content:"点击设置菜单显示隐藏",placement:"top",enterable:!1},{default:f(()=>[h("div",{class:"setting-hover",onClick:y[8]||(y[8]=(...e)=>r(za)&&r(za)(...e))},[m(_,{icon:"menu-setting"})])]),_:1}))])],2)])])}}}),[["__scopeId","data-v-f6eecb15"]]),qa={class:"h-full"},Qa=oe(e({__name:"index",setup(e){const{layoutSidebarStyle:a,layoutBodyStyle:s,panel:l,layoutBody:d,menuCollapseMouseenter:p,menuCollapseMouseleave:v}=te(),h=x();return o(()=>{da()}),t(()=>Me.value,Ie,{immediate:!0}),ae(ua),(e,t)=>{const o=Ye,b=We,y=He,g=Ve;return c(),u("div",qa,[m(b,{id:"app-container",class:"h-full"},{default:f(()=>[m(o,{width:"auto",class:W(["h-full layout-left-menu",r(a)]),onMouseenter:r(p),onMouseleave:r(v)},{default:f(()=>[m(Ja)]),_:1},8,["class","onMouseenter","onMouseleave"]),m(b,{id:"layout-body",ref_key:"layoutBody",ref:d,class:W(r(s))},{default:f(()=>[m(wa),m(ga)]),_:1},8,["class"]),n(m(y,null,null,512),[[i,r(l).isShowCustomer]])]),_:1}),r(h).path.includes("bind")?V("",!0):(c(),q(g,{key:0}))])}}}),[["__scopeId","data-v-3427239b"]]);export{Qa as default};
