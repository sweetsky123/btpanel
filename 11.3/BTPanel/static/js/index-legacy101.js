!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function r(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,s=Object.create(u.prototype);return a(s,"_invoke",function(n,r,o){var i,u,a,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return i=t,u=0,a=e,p.n=n,c}};function m(n,r){for(u=n,a=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,i=s[t],m=p.p,d=i[2];n>3?(o=d===r)&&(a=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=m&&((o=n<2&&m<i[1])?(u=0,p.v=r,p.n=i[1]):m<d&&(o=n<3||i[0]>r||r>d)&&(i[4]=n,i[5]=r,p.n=d,u=0))}if(o||n>1)return c;throw f=!0,r}return function(o,s,d){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,d),u=s,a=d;(t=u<2?e:a)||!f;){i||(u?u<3?(u>1&&(p.n=-1),m(u,a)):p.n=a:p.v=a);try{if(l=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=p.n<0)?a:n.call(r,p))!==c)break}catch(t){i=e,u=1,a=t}finally{l=1}}return{value:t,done:f}}}(n,o,i),!0),s}var c={};function l(){}function s(){}function f(){}t=Object.getPrototypeOf;var p=[][r]?t(t([][r]())):(a(t={},r,function(){return this}),t),m=f.prototype=l.prototype=Object.create(p);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=f,a(m,"constructor",f),a(f,"constructor",s),s.displayName="GeneratorFunction",a(f,o,"GeneratorFunction"),a(m),a(m,o,"Generator"),a(m,r,function(){return this}),a(m,"toString",function(){return"[object Generator]"}),(u=function(){return{w:i,m:d}})()}function a(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,t,n,r){function i(t,n){a(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},a(e,t,n,r)}function c(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function u(e){c(i,r,o,u,a,"next",e)}function a(e){c(i,r,o,u,a,"throw",e)}u(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./index-legacy109.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./useMethod-legacy5.js?v=1763689792","./form-item-legacy.js?v=1763689792"],function(e,t){"use strict";var r,i,a,c,s,f,p,m,d,v,y,b,g,h,w,_,k,j,O,S,P,W,C,x,D,R,T,L,A,q,B,E,F,M,G;return{setters:[function(e){r=e.H,i=e.u,a=e.p,c=e.b3,s=e.an,f=e.V,p=e.cN,m=e.ao,d=e.n,v=e.ap},function(e){y=e._},function(e){b=e.j,g=e.r,h=e.o,w=e.s,_=e.g,k=e.e,j=e.D,O=e.c,S=e.x,P=e.O,W=e.C,C=e.z},function(e){x=e.c,D=e.a,R=e.u},function(e){T=e.e,L=e.f,A=e.h,q=e.i,B=e.b},function(e){E=e.h,F=e.b,M=e.e,G=e.f}],execute:function(){var H=e("u",b("WP-REMOTE-STORE",function(){var e=g(!1),n=h({url:"",type:1,username:"",password:"",key:"",token:""}),o=h({Login_url:"",wp:"",php:"",sql:"",worker:"",username:"",language:"en"}),i=function(){var o=l(u().m(function o(i){var a,c,l,s,f;return u().w(function(o){for(;;)switch(o.p=o.n){case 0:return o.p=0,o.n=1,r(function(){return t.import("./utils-lib-legacy.js?v=1763689792").then(function(e){return e.lV})},void 0,t.meta.url);case 1:return a=o.v,c=a.useDataHandle,o.n=2,r(function(){return Promise.resolve().then(function(){return ie})},void 0,t.meta.url);case 2:l=o.v,s=l.getParams,f=l.getParamsKey,c({loading:"正在添加 Wordpress，请稍后...",request:1===n.type?T(s()):L(f()),data:{status:Boolean},message:!0,success:function(){e.value=!0,i&&i()}}),o.n=4;break;case 3:o.p=3,o.v;case 4:return o.a(2)}},o,null,[[0,3]])}));return function(e){return o.apply(this,arguments)}}();return{addWordpressFormData:n,selectCofigFormData:o,addWordpressData:i,isRefreshRemoteList:e,resetAddWordpressData:function(){n.url="",n.type=1,n.username="",n.password="",n.key="",n.token=""},resetSelectCofigData:function(){o.Login_url="",o.wp="",o.php="",o.sql="",o.worker="",o.username="",o.language="en"}}})),z=w(H()).isRefreshRemoteList,K=function(){var e=l(u().m(function e(t){var n,r,o,i;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,A({keyword:t.search,p_size:t.limit,p:t.p});case 1:return n=e.v,r=n.data,o=r.list,i=r.total,e.a(2,{data:o,total:i});case 2:return e.p=2,e.v,e.a(2,{data:[],total:0})}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=l(u().m(function e(t,n,r,o){var i,a,c,s;return u().w(function(e){for(;;)switch(e.n){case 0:return i=o.label,a=o.value,c=new Map([["delete","批量删除已选的网站，删除后彻底失去访问和操作权限"]]),s=function(){var e=l(u().m(function e(t,n){var r,o;return u().w(function(e){for(;;)switch(e.n){case 0:r=t.id,o=a,e.n="delete"===o?1:3;break;case 1:return e.n=2,q({remote_id:r});case 2:return e.a(2,e.v);case 3:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),e.n=1,t({title:"批量".concat(i,"网站"),content:"".concat(c.get(a),"，是否继续操作！"),column:[{label:"网站",prop:"site_url"},x()],onConfirm:function(){var e=l(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n(s);case 1:return z.value=!0,e.a(2,!1)}},e)}));return function(){return e.apply(this,arguments)}}()});case 1:return e.a(2)}},e)}));return function(t,n,r,o){return e.apply(this,arguments)}}();i().payment.value;var I=w(H()),N=I.addWordpressFormData,V=I.selectCofigFormData,Q=I.isRefreshRemoteList,$=H().addWordpressData,J=e("a",function(e){var t={class:"!w-[300px]",clearable:!0},r=[{label:"凭据",value:1},{label:"密钥",value:2}];return _(function(){return[M("连接类型","type",r,{attrs:n({},t),labelAttrs:{labelWidth:"100px"}}),F("登录URL","url",{rules:[{required:!0,message:"请输入登录URL",trigger:"blur"}],attrs:n(n({},t),{},{placeholder:"请输入登录URL"}),labelAttrs:{labelWidth:"100px"}})].concat(o(1===e.value.type?X(t):Y(t)))})}),X=function(e){return[F("用户名","username",{attrs:n(n({},e),{},{placeholder:"请输入用户名"}),rules:[{required:!0,message:"请输入用户名",trigger:"blur"}],labelAttrs:{labelWidth:"100px"}}),F("密码","password",{attrs:n(n({},e),{},{placeholder:"请输入密码"}),rules:[{required:!0,message:"请输入密码",trigger:"blur"}],labelAttrs:{labelWidth:"100px"}})]},Y=function(e){return[F("Security Key","key",{attrs:n(n({},e),{},{placeholder:"请输入Security Key"}),rules:[{required:!0,message:"请输入Security Key",trigger:"blur"}],labelAttrs:{labelWidth:"100px"}}),F("Security Token","token",{attrs:n(n({},e),{},{placeholder:"请输入Security Token"}),rules:[{required:!0,message:"请输入Security Token",trigger:"blur"}],labelAttrs:{labelWidth:"100px"}}),{type:"custom",render:function(){return k("span",{class:"leading-8"},[j("如何添加带有安全密钥的网站，遵循下面的步骤")])}},G("",[{content:k("span",null,[j("1. 下载"),k("span",{class:"bt-link",onClick:function(){return window.open("http://download.bt.cn/install/src/btpanel-wp-toolkit.zip","_blank","noopener,noreferrer")}},[j("WP工具包")])])},{content:"2. 将插件上传到您的网站"},{content:"3. 在您的网站上激活插件"},{content:"4. 单击您网站上的安全键链接 /wp-admin/plugins.php页面\t"},{content:"5. 将密钥和令牌复制到上面的两个输入框"},{content:"6. 单击确认按钮以完成全部"}])]},Z=function(){var e=l(u().m(function e(t,n,r){return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,n();case 1:return e.n=2,$();case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[0,3]])}));return function(t,n,r){return e.apply(this,arguments)}}(),ee=e("g",function(){var e={class:"w-[320px]",clearable:!0,disabled:!0};return _(function(){return[E("登录URL",function(){return k("div",{class:"bt-link",onClick:function(){return re(V.value.Login_url)}},[V.value.Login_url])}),F("WP版本","wp",{attrs:n({},e)}),F("插件版本","worker",{attrs:n({},e)}),F("PHP版本","php",{attrs:n({},e)}),F("MySQL版本","sql",{attrs:n({},e)}),F("用户名","username",{attrs:n({},e)}),F("网站语言","language",{attrs:n({},e)})]})}),te=e("s",function(e){V.value.Login_url=e.login_url||"",V.value.wp=e.env_info.wordpress_version||"",V.value.php=e.env_info.php_version||"",V.value.worker=e.env_info.plugin_version||"",V.value.username=e.username||"",V.value.language=e.env_info.locale||"",V.value.sql=e.env_info.mysql_version||""}),ne=e("o",function(e){B(e,"remote")}),re=e("b",function(e){window.open(e,"_blank","noopener,noreferrer")}),oe=function(){var e=l(u().m(function e(t){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a({title:"删除",content:"这将从列表中删除您的网站【".concat(t.site_url,"】，是否继续操作?"),onConfirm:function(){var e=l(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,q({remote_id:t.id});case 1:Q.value=!0;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}()});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),ie=Object.freeze(Object.defineProperty({__proto__:null,addWordpress:Z,getAddWordpressFormOption:J,getParams:function(){return{login_url:N.value.url,username:N.value.username,password:N.value.password}},getParamsKey:function(){return{login_url:N.value.url,security_key:N.value.key,security_token:N.value.token}},getSelectCofigFormOption:ee,onDel:oe,onLogin:re,onPay:ne,setSelectCofigFormData:te},Symbol.toStringTag,{value:"Module"})),ue=O({__name:"index",setup:function(e){var n=w(H()).isRefreshRemoteList,o=i().mainHeight,u=function(e){return d({title:"站点修改【".concat(e.site_url,"】 -- 添加时间【").concat(f(e.create_time),"】"),area:55,compData:e,component:function(){return r(function(){return t.import("./index-legacy433.js?v=1763689792")},void 0,t.meta.url)}})},a=c({options:[{type:"button",label:"添加 Wordpress",active:!0,onClick:function(){return d({title:"添加 Wordpress",area:55,compData:K,component:function(){return r(function(){return t.import("./index-legacy434.js?v=1763689792")},void 0,t.meta.url)},btn:!0})}}]}).BtOperation,l=v([{label:"删除",value:"delete",event:U}]),b=s({request:function(e){return K(e)},columns:[D(),{label:"网站名",minWidth:180,isCustom:!0,prop:"site_url",render:function(e){return k("span",{class:"bt-link",onClick:function(){u(e)}},[e.site_url])}},{label:"WP 版本",isCustom:!0,minWidth:100,render:function(e){var t;return k("span",{class:"bt-link",onClick:function(){u(e)}},[null!==(t=e.env_info)&&void 0!==t&&t.wordpress_version?e.env_info.wordpress_version:"--"])}},{label:"插件版本",isCustom:!0,minWidth:100,render:function(e){var t;return k("span",{class:"bt-link",onClick:function(){u(e)}},[null!==(t=e.env_info)&&void 0!==t&&t.plugin_version?e.env_info.plugin_version:"--"])}},{label:"PHP版本",isCustom:!0,minWidth:100,render:function(e){var t;return k("span",{class:"bt-link",onClick:function(){u(e)}},[null!==(t=e.env_info)&&void 0!==t&&t.php_version?e.env_info.php_version:"--"])}},{label:"创建时间",align:"center",render:function(e){return f(e.create_time)}},R([{onClick:function(e){!function(e){d({title:"WP登录",area:42,compData:e,component:function(){return r(function(){return t.import("./index-legacy435.js?v=1763689792")},void 0,t.meta.url)}})}(e)},title:"登录"},{onClick:function(e){oe(e)},title:"删除"}])],extension:[l,p("search",{name:"wp",list:[],showHistory:!1,showRecommend:!1}),m(n)]}),g=b.BtTable,h=b.BtPage,_=b.BtRecommendSearch,j=(b.BtRefresh,b.BtColumn,b.BtBatch);b.BtTableCategory,b.BtErrorMask,b.tableRef,b.classList,b.refresh;return function(e,t){var n=y;return S(),P(n,null,{"header-left":W(function(){return[k(C(a))]}),"header-right":W(function(){return[k(C(_),{type:"remote-wp",placeholder:"请输入域名",class:"!w-[270px] mr-[10px]"})]}),content:W(function(){return[k(C(g),{"min-height":C(o)},null,8,["min-height"])]}),"footer-left":W(function(){return[k(C(j))]}),"footer-right":W(function(){return[k(C(h))]}),_:1})}}}),ae=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"}));e("i",ae)}}})}();
