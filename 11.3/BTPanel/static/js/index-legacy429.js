!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,a,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",u=r.toStringTag||"@@toStringTag";function l(e,r,o,u){var l=r&&r.prototype instanceof i?r:i,c=Object.create(l.prototype);return t(c,"_invoke",function(e,t,r){var o,u,l,i=0,c=r||[],f=!1,d={p:0,n:0,v:n,a:v,f:v.bind(n,4),d:function(e,t){return o=e,u=0,l=n,d.n=t,s}};function v(e,t){for(u=e,l=t,a=0;!f&&i&&!r&&a<c.length;a++){var r,o=c[a],v=d.p,p=o[2];e>3?(r=p===t)&&(l=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=n):o[0]<=v&&((r=e<2&&v<o[1])?(u=0,d.v=t,d.n=o[1]):v<p&&(r=e<3||o[0]>t||t>p)&&(o[4]=e,o[5]=t,d.n=p,u=0))}if(r||e>1)return s;throw f=!0,t}return function(r,c,p){if(i>1)throw TypeError("Generator is already running");for(f&&1===c&&v(c,p),u=c,l=p;(a=u<2?n:l)||!f;){o||(u?u<3?(u>1&&(d.n=-1),v(u,l)):d.n=l:d.v=l);try{if(i=2,o){if(u||(r="next"),a=o[r]){if(!(a=a.call(o,l)))throw TypeError("iterator result is not an object");if(!a.done)return a;l=a.value,u<2&&(u=0)}else 1===u&&(a=o.return)&&a.call(o),u<2&&(l=TypeError("The iterator does not provide a '"+r+"' method"),u=1);o=n}else if((a=(f=d.n<0)?l:e.call(t,d))!==s)break}catch(a){o=n,u=1,l=a}finally{i=1}}return{value:a,done:f}}}(e,o,u),!0),c}var s={};function i(){}function c(){}function f(){}a=Object.getPrototypeOf;var d=[][o]?a(a([][o]())):(t(a={},o,function(){return this}),a),v=f.prototype=i.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,t(e,u,"GeneratorFunction")),e.prototype=Object.create(v),e}return c.prototype=f,t(v,"constructor",f),t(f,"constructor",c),c.displayName="GeneratorFunction",t(f,u,"GeneratorFunction"),t(v),t(v,u,"Generator"),t(v,o,function(){return this}),t(v,"toString",function(){return"[object Generator]"}),(e=function(){return{w:l,m:p}})()}function t(e,n,a,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}t=function(e,n,a,r){function u(n,a){t(e,n,function(e){return this._invoke(n,a,e)})}n?o?o(e,n,{value:a,enumerable:!r,configurable:!r,writable:!r}):e[n]=a:(u("next",0),u("throw",1),u("return",2))},t(e,n,a,r)}function n(e,t,n,a,r,o,u){try{var l=e[o](u),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function a(e){return function(){var t=this,a=arguments;return new Promise(function(r,o){var u=e.apply(t,a);function l(e){n(u,r,o,l,s,"next",e)}function s(e){n(u,r,o,l,s,"throw",e)}l(void 0)})}}System.register(["./base-lib-legacy.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./useController-legacy5.js?v=1763689792","./useMethod-legacy5.js?v=1763689792","./validator-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./site-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./useStore-legacy4.js?v=1763689792","./useController-legacy6.js?v=1763689792","./index-legacy107.js?v=1763689792"],function(t,n){"use strict";var r,o,u,l,s,i,c,f,d,v,p,m,g,b,h,y,_,w,x,k,j,L,O,C,T,P,S,G,E,F,I,N;return{setters:[function(e){r=e.c,o=e.s,u=e.x,l=e.y,s=e.e,i=e.j,c=e.r,f=e.o,d=e.A,v=e.z,p=e.C,m=e.D,g=e.B,b=e.ap,h=e.be},function(e){y=e.l,_=e.u,w=e.aH,x=e.Q,k=e.ak,j=e._},function(e){L=e.u},function(e){O=e.F,C=e.G,T=e.H,P=e.I,S=e.J,G=e.K,E=e.L,F=e.M},function(e){I=e.p,N=e.k},null,null,null,null,null,null,null],execute:function(){var n={class:"p-[2rem]"},q=r({__name:"basic-setting",setup:function(e){return o(R()),function(e,t){var a=y;return u(),l("div",n,[s(a)])}}}),R=i("WP-PROTECTION-STORE",function(){var e=c(!1);return{file:f({status:!1,number:0,pid:-1}),fileLoad:c(!1),firewall:f({status:!1,number:0}),firewallLoad:c(!1),hotlink:c(!1),hotlinkLoad:c(!1),pid:c(-1),tabActive:c("basic"),tabComponent:[{name:"basic",label:"基本设置",component:q}],isRefreshBasicList:e}}),z=o(R()),A=z.file,H=z.fileLoad,B=z.firewall,M=z.firewallLoad,W=z.hotlink,D=z.hotlinkLoad,J=(z.pid,o(L()).localRow),K=_().payment,Q=function(){var t=a(e().m(function t(n){var a;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,H.value=!0,"ltd"===K.value.authType){e.n=1;break}return I({disablePro:!0,sourceId:334}),e.a(2);case 1:return e.n=2,w({sName:"tamper_core"});case 2:if(a=e.v,a.data.setup){e.n=3;break}return e.a(2,N({type:"i",name:"tamper_core"}));case 3:if(!n){e.n=5;break}return e.n=4,x({request:O({paths:[{path:J.value.path,ps:J.value.ps}]}),loading:"正在开启文件保护...",message:!0});case 4:e.n=6;break;case 5:return e.n=6,x({request:C({path_id:A.value.pid}),loading:"正在关闭文件保护...",message:!0});case 6:Y();case 7:return e.p=7,H.value=!1,e.f(7);case 8:return e.a(2)}},t,null,[[0,,7,8]])}));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=a(e().m(function t(n){var a;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,M.value=!0,"ltd"===K.value.authType){e.n=1;break}return I({disablePro:!0,sourceId:334}),e.a(2);case 1:return e.n=2,w({sName:"btwaf"});case 2:if(a=e.v,a.data.setup){e.n=3;break}return e.a(2,N({type:"i",name:"btwaf"}));case 3:if(!n){e.n=5;break}return e.n=4,x({request:T({site_name:J.value.name}),loading:"正在开启防火墙设置...",message:!0});case 4:e.n=6;break;case 5:return e.n=6,x({request:P({site_name:J.value.name}),loading:"正在关闭防火墙设置...",message:!0});case 6:Y();case 7:return e.p=7,M.value=!1,e.f(7);case 8:return e.a(2)}},t,null,[[0,,7,8]])}));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=a(e().m(function t(n){var a,r,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,D.value=!0,e.n=1,S({id:J.value.id,name:J.value.name});case 1:if(a=e.v,r=a.data,!k(r)){e.n=3;break}return o={id:J.value.id,name:J.value.name,fix:r.fix,domains:r.domains,return_rule:r.return_rule,status:n,http_status:"true"===r.http_status},e.n=2,G(o);case 2:W.value=!!n;case 3:return e.p=3,D.value=!1,e.f(3);case 4:return e.a(2)}},t,null,[[0,,3,4]])}));return function(e){return t.apply(this,arguments)}}(),X=function(e){H.value=e,M.value=e,D.value=e},Y=function(){var t=a(e().m(function t(){var n,a,r,o;return e().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,X(!0),e.n=1,E({id:J.value.id,path:J.value.path,site_name:J.value.name});case 1:if(n=e.v,a=n.data.msg,!k(a)){e.n=3;break}if(A.value.status=1===a.file_status,A.value.number=a.file_count,B.value.status=1===a.firewall_status,B.value.number=a.firewall_count,W.value=1===a.hotlink_status,1!==a.file_status){e.n=3;break}return e.n=2,F({path:J.value.path});case 2:r=e.v,o=r.data.msg,k(o)&&(A.value.pid=o.pid);case 3:return e.p=3,X(!1),e.f(3);case 4:return e.a(2)}},t,null,[[0,,3,4]])}));return function(){return t.apply(this,arguments)}}(),Z={class:"p-[2rem]"},$={class:"tools-card"},ee={class:"tools-desc flex items-center"},te={class:"tools-card"},ne={class:"tools-desc"},ae={class:"tools-card"},re=r({__name:"index",setup:function(e){var t=o(R()),n=t.file,a=t.fileLoad,r=t.firewall,i=t.firewallLoad,c=t.hotlink,f=t.hotlinkLoad;return Y(),function(e,t){var o=b,y=h;return u(),l("div",Z,[d("div",$,[t[1]||(t[1]=d("div",{class:"tools-img"},[d("span",{class:"svgtofont-tamper-pro !text-extraLarge text-primary"})],-1)),t[2]||(t[2]=d("div",{class:"tools-name"},"防篡改",-1)),s(o,{"model-value":v(n).status,loading:v(a),onChange:v(Q)},null,8,["model-value","loading","onChange"]),t[3]||(t[3]=d("i",{class:"svgtofont-icon-ltd !text-extraLarge text-ltd"},null,-1)),d("div",ee,[s(y,{type:"danger",size:"small",bordered:!1},{default:p(function(){return[m(g(v(n).number),1)]}),_:1}),t[0]||(t[0]=d("span",{class:"ml-[.5rem]"}," 今天的修改被阻止 ",-1))])]),d("div",te,[t[5]||(t[5]=d("div",{class:"tools-img"},[d("span",{class:"svgtofont-left-waf !text-subtitleLarge text-primary"})],-1)),t[6]||(t[6]=d("div",{class:"tools-name"},"Nginx WAF",-1)),s(o,{"model-value":v(r).status,loading:v(i),onChange:v(U)},null,8,["model-value","loading","onChange"]),t[7]||(t[7]=d("i",{class:"svgtofont-icon-ltd !text-extraLarge text-ltd"},null,-1)),d("div",ne,[s(y,{type:"danger",size:"small",bordered:!1},{default:p(function(){return[m(g(v(r).number),1)]}),_:1}),t[4]||(t[4]=d("span",{class:"ml-[.5rem]"}," 恶意请求今天被阻止 ",-1))])]),d("div",ae,[t[8]||(t[8]=d("div",{class:"tools-img"},[d("span",{class:"svgtofont-el-link !text-subtitleLarge text-primary"})],-1)),t[9]||(t[9]=d("div",{class:"tools-name"},"防盗链",-1)),s(o,{"model-value":v(c),loading:v(f),onChange:v(V)},null,8,["model-value","loading","onChange"])])])}}});t("default",j(re,[["__scopeId","data-v-b735174e"]]))}}})}();
