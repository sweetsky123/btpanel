import{_ as e}from"./index109.js?v=1763689792";import{c as a,s,r as t,e as o,D as r,aE as n,x as l,y as i,A as m,C as p,z as c,R as d,aA as u,H as f}from"./base-lib.js?v=1763689792";import{hy as b,e as h,p as j,ao as v,ap as g,k as w}from"./utils-lib.js?v=1763689792";import{u as x}from"./useStore13.js?v=1763689792";import{g as y,d as _,o as C,a as k}from"./useController22.js?v=1763689792";import{a as B}from"./column.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./useController5.js?v=1763689792";import"./site.js?v=1763689792";import"./useStore4.js?v=1763689792";import"./useController6.js?v=1763689792";import"./index110.js?v=1763689792";import"./validator.js?v=1763689792";import"./index107.js?v=1763689792";import"./useMethod5.js?v=1763689792";const V={class:""},z={class:"flex items-end"},A=a({__name:"index",setup(a){const{isRefreshDomain:A,domain:D}=s(x()),H=t(!1),I=g([{label:"删除",value:"delete",event:async(e,a,s,t)=>{k(s.value)}}]),{BtTable:P,BtBatch:R,config:S}=b({request:y,columns:[B(),{label:"域名",prop:"name",width:400,render:e=>o("div",{class:"truncate"},[o(h,{href:"http://".concat(e.name,":").concat(e.port),target:"_blank"},{default:()=>[e.name]})])},{label:"端口",prop:"port"},{label:"操作",align:"right",render:e=>1===S.data.length?o("span",null,[r("不可操作")]):n("span",{class:"cursor-pointer bt-link",onClick:async()=>{await j({title:"删除域名【".concat(e.name,"】"),content:"您确定要删除此域名吗？",onConfirm:async()=>{await _(e)}})}},"删除")}],extension:[I,v(A)]});return(a,s)=>{const t=w,n=u,b=f,h=e;return l(),i("div",V,[m("div",z,[o(n,{ref:"popover",placement:"top-start",width:"36rem","popper-class":"green-tips-popover !p-0 !border-none",visible:c(H),"onUpdate:visible":s[2]||(s[2]=e=>d(H)?H.value=e:null),"trigger-keys":[],trigger:"focus"},{default:p(()=>[...s[3]||(s[3]=[m("div",{class:"!p-[12px] bg-primary text-white leading-[2.4rem]"},[r(" 如需绑定外网，请换行填写，每行一个域名，默认为80端口 "),m("br"),r(" IP地址格式：192.168.1.199 "),m("br"),r(" 泛解析添加方法 *.domain.com "),m("br"),r(" 如另加端口格式为 www.domain.com:88 ")],-1)])]),reference:p(()=>[o(t,{modelValue:c(D),"onUpdate:modelValue":s[0]||(s[0]=e=>d(D)?D.value=e:null),type:"textarea",resize:"none",rows:4,width:"42rem",onFocus:s[1]||(s[1]=e=>H.value=!0),placeholder:"如需绑定外网，请换行填写，每行一个域名，默认为80端口\nIP地址格式：192.168.1.199\n泛解析添加方法 *.domain.com\n如另加端口格式为 www.domain.com:88",class:"domain-textarea"},null,8,["modelValue"])]),_:1},8,["visible"]),o(b,{type:"primary",class:"absolute",style:{right:"4rem",top:"5.5rem"},onClick:c(C)},{default:p(()=>[...s[4]||(s[4]=[r(" 添加 ",-1)])]),_:1},8,["onClick"])]),o(h,null,{content:p(()=>[o(c(P),{"max-height":440})]),"footer-left":p(()=>[o(c(R))]),_:1})])}}});export{A as default};
