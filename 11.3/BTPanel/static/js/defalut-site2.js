import{aK as a,Q as e,$ as s}from"./utils-lib.js?v=1763689792";import{c as l,r as t,v as u,I as n,J as o,z as m,x as i,y as c,A as r,e as v,C as d,F as p,b1 as f,R as y,D as b,an as _,H as j,O as x,am as g}from"./base-lib.js?v=1763689792";import{getDefaultSite as k,setDefaultSite as w}from"./site.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";const V={class:"p-[20px]"},h=l({__name:"defalut-site",setup(l){const h=t(!1),C=t([{name:"默认站点",value:"default"},{name:"自定义站点",value:"custom"}]),H=t("default"),I=async()=>{const a={name:"未设置默认站点"===H.value?"0":H.value};h.value=!0,await e({loading:"正在设置默认站点，请稍后...",request:w(a),message:!0}),h.value=!1};return u(()=>{(async()=>{h.value=!0;try{const{data:a}=await k();H.value=a.defaultSite,a.defaultSite||(H.value="未设置默认站点"),C.value=a.sites,C.value.unshift({name:"未设置默认站点",value:"未设置默认站点"})}catch(e){a(e)}finally{h.value=!1}})()}),(a,e)=>{const l=g,t=_,u=j,k=s,w=n("bt-loading");return o((i(),c("div",V,[e[2]||(e[2]=r("span",{class:"mr-[12px]"},"默认站点",-1)),v(t,{modelValue:m(H),"onUpdate:modelValue":e[0]||(e[0]=a=>y(H)?H.value=a:null),class:"!w-[32rem]"},{default:d(()=>[(i(!0),c(p,null,f(m(C),(a,e)=>(i(),x(l,{key:e,label:a.name,value:a.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),v(u,{type:"primary",onClick:I,class:"!my-[20px] !block"},{default:d(()=>[...e[1]||(e[1]=[b("保存",-1)])]),_:1}),v(k,{options:[{content:"设置默认站点后,所有未绑定的域名和IP都被定向到默认站点"},{content:"可有效防止恶意解析"}]})])),[[w,m(h)]])}}});export{h as default};
