import{c as a,g as e,v as l,a8 as s,I as n,x as i,y as t,A as c,B as o,z as r,F as d,e as p,C as u,D as m,R as v,J as y,O as b,G as f,K as x,am as g,an as h,ak as _,aj as w,V as C}from"./base-lib.js?v=1763689792";import{d as k,N as P,_ as V}from"./utils-lib.js?v=1763689792";import{_ as j}from"./index437.js?v=1763689792";import{v as D,x as E,y as z,z as B,A as I,B as N,C as Y,D as F,E as U,F as q,G as A,H as G,I as H,J,K,L,M as O,N as M,O as R,P as S}from"./useController7.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./validator.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const Q={class:"payment-modal-content"},T={class:"order-info mb-6"},W={class:"info-grid"},X={class:"info-item"},Z={class:"value"},$={class:"info-item"},aa={class:"value price"},ea={class:"info-item"},la={class:"value price"},sa={class:"info-item"},na={class:"info-item"},ia={class:"value price"},ta={class:"info-item"},ca={class:"value"},oa={class:"info-item"},ra={class:"info-item"},da={class:"value price"},pa={class:"info-item"},ua={class:"value"},ma={class:"payment-method"},va={class:"payment-header"},ya={class:"section-title"},ba={class:"payment-options"},fa={class:"balance-info"},xa={class:"payment-content mt-4"},ga={key:0,class:"balance-section"},ha={class:"balance-info"},_a={class:"flex justify-center"},wa={class:"balance-text"},Ca={key:1,class:"qrcode-section"},ka={class:"qrcode-container"},Pa={class:"payment-tip"},Va={key:0},ja={key:2,class:"agreement-section my-24px"},Da={key:0,class:"agreement-tip"},Ea=V(a({__name:"index",props:{compData:{default:()=>({domain:"",firstYearPrice:"¥0.00",renewalPrice:"¥0.00",years:1,accountBalance:"¥0.00",currentExpiry:"",newExpiry:"",type:"purchase"})}},setup(a,{expose:V}){var Ea,za,Ba,Ia,Na,Ya,Fa,Ua,qa;const Aa=a;D.value={domain:(null==(Ea=Aa.compData)?void 0:Ea.domain)||"",firstYearPrice:(null==(za=Aa.compData)?void 0:za.firstYearPrice)||"¥0.00",renewalPrice:(null==(Ba=Aa.compData)?void 0:Ba.renewalPrice)||"¥0.00",totalPrice:"",years:(null==(Ia=Aa.compData)?void 0:Ia.years)||1,currentExpiry:(null==(Na=Aa.compData)?void 0:Na.currentExpiry)||"",newExpiry:(null==(Ya=Aa.compData)?void 0:Ya.newExpiry)||"",suffix:(null==(Fa=Aa.compData)?void 0:Fa.suffix)||"",type:(null==(Ua=Aa.compData)?void 0:Ua.type)||"purchase",accountBalance:(null==(qa=Aa.compData)?void 0:qa.accountBalance)||E.value};const Ga=e(()=>{const a=String(D.value.totalPrice);if(!a)return"...";const e=parseFloat(a.replace(/[¥,]/g,""));return isNaN(e)?"...":"¥".concat(e.toFixed(2))});return V({handleConfirm:z,selectedPayment:B,orderInfo:D,orderNo:I,balancePaymentLoading:N,dialogInstance:Y,handleYearsChange:F}),l(async()=>{U.value=!1,q.value=!0,await A(),await G()}),s(()=>{H(),J.value="",B.value="wechat",q.value=!1,N.value=!1,K.value="",I.value="",L.value.wx="",L.value.ali="",O.value=!1}),(a,e)=>{const l=g,s=h,V=_,I=w,Y=P,U=C,A=n("bt-loading");return i(),t("div",Q,[c("div",T,[c("div",W,[c("div",X,[e[4]||(e[4]=c("span",{class:"label"},"域名：",-1)),c("span",Z,o(r(D).domain),1)]),r(M)?(i(),t(d,{key:1},[c("div",ta,[e[9]||(e[9]=c("span",{class:"label"},"当前到期：",-1)),c("span",ca,o(r(D).currentExpiry),1)]),c("div",oa,[e[10]||(e[10]=c("span",{class:"label"},"续费年限：",-1)),p(s,{modelValue:r(D).years,"onUpdate:modelValue":e[1]||(e[1]=a=>r(D).years=a),disabled:r(q),onChange:r(F),size:"small",style:{width:"80px"}},{default:u(()=>[p(l,{label:"1年",value:1}),p(l,{label:"2年",value:2}),p(l,{label:"3年",value:3}),p(l,{label:"5年",value:5})]),_:1},8,["modelValue","disabled","onChange"])]),c("div",ra,[e[11]||(e[11]=c("span",{class:"label"},"续费价格：",-1)),c("span",da,o(r(Ga)),1)]),c("div",pa,[e[12]||(e[12]=c("span",{class:"label"},"新到期时间：",-1)),c("span",ua,o(r(D).newExpiry),1)])],64)):(i(),t(d,{key:0},[c("div",$,[e[5]||(e[5]=c("span",{class:"label"},"首年价格：",-1)),c("span",aa,o(r(D).firstYearPrice),1)]),c("div",ea,[e[6]||(e[6]=c("span",{class:"label"},"续费价格：",-1)),c("span",la,o(r(D).renewalPrice),1)]),c("div",sa,[e[7]||(e[7]=c("span",{class:"label"},"年限：",-1)),p(s,{modelValue:r(D).years,"onUpdate:modelValue":e[0]||(e[0]=a=>r(D).years=a),onChange:r(F),disabled:r(q),size:"small",style:{width:"80px"}},{default:u(()=>[p(l,{label:"1年",value:1}),p(l,{label:"2年",value:2}),p(l,{label:"3年",value:3}),p(l,{label:"5年",value:5})]),_:1},8,["modelValue","onChange","disabled"])]),c("div",na,[e[8]||(e[8]=c("span",{class:"label"},"总价：",-1)),c("span",ia,o(r(Ga)),1)])],64))])]),c("div",ma,[c("div",va,[c("div",ya,[p(r(k),{name:"credit-card",class:"mr-2 text-primary"}),e[13]||(e[13]=m(" 支付方式： ",-1))]),c("div",ba,[p(I,{modelValue:r(B),"onUpdate:modelValue":e[2]||(e[2]=a=>v(B)?B.value=a:null),disabled:r(q),onChange:r(R),class:"payment-radio-group"},{default:u(()=>[p(V,{value:"wechat",class:"payment-radio"},{default:u(()=>[...e[14]||(e[14]=[c("span",{class:"payment-label"},"微信支付",-1)])]),_:1}),p(V,{value:"alipay",class:"payment-radio"},{default:u(()=>[...e[15]||(e[15]=[c("span",{class:"payment-label"},"支付宝",-1)])]),_:1}),p(V,{value:"balance",class:"payment-radio"},{default:u(()=>[e[16]||(e[16]=c("span",{class:"payment-label"},"账户余额",-1)),c("span",fa,"(余额:"+o(r(E))+")",1)]),_:1})]),_:1},8,["modelValue","disabled","onChange"])])]),y((i(),t("div",xa,["balance"===r(B)?(i(),t("div",ga,[c("div",ha,[c("div",_a,[c("div",wa,"可用余额: "+o(r(E))+" / 需支付: "+o(r(Ga)),1)]),r(M)||r(O)?(i(),b(Y,{key:0,type:"primary",onClick:r(z),loading:r(N)},{default:u(()=>[...e[17]||(e[17]=[m("立即支付",-1)])]),_:1},8,["onClick","loading"])):f("",!0)])])):y((i(),t("div",Ca,[y(c("div",ka,[y(p(r(j),{value:r(J),size:160},null,8,["value"]),[[x,!r(q)]])],512),[[x,r(M)||r(O)]]),c("div",Pa,[r(M)||r(O)?(i(),t("span",Va,"请使用"+o("wechat"===r(B)?"微信":"支付宝")+"扫码支付",1)):f("",!0)])])),[[A,"获取支付二维码中...","title"]]),r(M)||r(q)?f("",!0):(i(),t("div",ja,[p(U,{modelValue:r(O),"onUpdate:modelValue":e[3]||(e[3]=a=>v(O)?O.value=a:null),class:"agreement-checkbox",onChange:r(S)},{default:u(()=>[...e[18]||(e[18]=[m(" 我已阅读并同意",-1),c("a",{href:"https://www.bt.cn/new/agreement_domain_register.html",target:"_blank",class:"agreement-link"},"《宝塔域名注册协议》",-1)])]),_:1},8,["modelValue","onChange"]),r(M)||r(O)?f("",!0):(i(),t("span",Da,"请先同意协议条款"))]))])),[[A,r(q)]])])])}}}),[["__scopeId","data-v-725caaa6"]]);export{Ea as default};
