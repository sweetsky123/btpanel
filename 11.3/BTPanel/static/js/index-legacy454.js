!function(){function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,r,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",c=a.toStringTag||"@@toStringTag";function i(t,a,o,c){var i=a&&a.prototype instanceof s?a:s,l=Object.create(i.prototype);return e(l,"_invoke",function(t,e,a){var o,c,i,s=0,l=a||[],p=!1,f={p:0,n:0,v:n,a:m,f:m.bind(n,4),d:function(t,e){return o=t,c=0,i=n,f.n=e,u}};function m(t,e){for(c=t,i=e,r=0;!p&&s&&!a&&r<l.length;r++){var a,o=l[r],m=f.p,y=o[2];t>3?(a=y===e)&&(i=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=n):o[0]<=m&&((a=t<2&&m<o[1])?(c=0,f.v=e,f.n=o[1]):m<y&&(a=t<3||o[0]>e||e>y)&&(o[4]=t,o[5]=e,f.n=y,c=0))}if(a||t>1)return u;throw p=!0,e}return function(a,l,y){if(s>1)throw TypeError("Generator is already running");for(p&&1===l&&m(l,y),c=l,i=y;(r=c<2?n:i)||!p;){o||(c?c<3?(c>1&&(f.n=-1),m(c,i)):f.n=i:f.v=i);try{if(s=2,o){if(c||(a="next"),r=o[a]){if(!(r=r.call(o,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,c<2&&(c=0)}else 1===c&&(r=o.return)&&r.call(o),c<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=n}else if((r=(p=f.n<0)?i:t.call(e,f))!==u)break}catch(r){o=n,c=1,i=r}finally{s=1}}return{value:r,done:p}}}(t,o,c),!0),l}var u={};function s(){}function l(){}function p(){}r=Object.getPrototypeOf;var f=[][o]?r(r([][o]())):(e(r={},o,function(){return this}),r),m=p.prototype=s.prototype=Object.create(f);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,e(t,c,"GeneratorFunction")),t.prototype=Object.create(m),t}return l.prototype=p,e(m,"constructor",p),e(p,"constructor",l),l.displayName="GeneratorFunction",e(p,c,"GeneratorFunction"),e(m),e(m,c,"Generator"),e(m,o,function(){return this}),e(m,"toString",function(){return"[object Generator]"}),(t=function(){return{w:i,m:y}})()}function e(t,n,r,a){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}e=function(t,n,r,a){function c(n,r){e(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[n]=r:(c("next",0),c("throw",1),c("return",2))},e(t,n,r,a)}function n(t,e,n,r,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,a)}function r(t){return function(){var e=this,r=arguments;return new Promise(function(a,o){var c=t.apply(e,r);function i(t){n(c,a,o,i,u,"next",t)}function u(t){n(c,a,o,i,u,"throw",t)}i(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./index-legacy109.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./useController-legacy4.js?v=1763689792"],function(e,n){"use strict";var a,o,c,i,u,s,l,p,f,m,y,h,_,d,v,g,w,b,x,k,j,T,q,E,N,z,O,$,P,C,L,A,I,S,U,G,R,B,D,F,H,M,W;return{setters:[function(t){a=t.lB,o=t.n,c=t.H,i=t.Q,u=t.lC,s=t.p,l=t.lD,p=t.lE,f=t.aK,m=t.lF,y=t.lG,h=t.cf,_=t.lH,d=t.lI,v=t.lJ,g=t.lK,w=t.lL,b=t.b,x=t.lM,k=t.lN,j=t.lO,T=t.b3,q=t.hy,E=t.ao,N=t.$},function(t){z=t._},function(t){O=t.r,$=t.e,P=t.D,C=t.o,L=t.g,A=t.F,I=t.aT,S=t.c,U=t.x,G=t.y,R=t.C,B=t.z},function(t){D=t.u,F=t.a,H=t.g},function(t){M=t.f},function(t){W=t.n}],execute:function(){var X,K=b(),J=W().siteInfo,Q=O({}),Z=O(!1),V=[{content:"支持添加多个不同目录的代理"},{content:"如添加后访问异常请尝试清理浏览器缓存"}],Y=function(){var e=r(t().m(function e(){var n,r;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a({site_name:J.value.name});case 1:if(n=t.v,r=n.data,Array.isArray(r.data)){t.n=2;break}return t.a(2,{data:[],total:0});case 2:return t.a(2,{data:r.data,total:r.data.length});case 3:return t.p=3,t.v,t.a(2,{data:[],total:0})}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),tt=function(){o({isAsync:!0,title:"添加反向代理",area:60,btn:"确认",component:function(){return c(function(){return n.import("./add-url-proxy-legacy2.js?v=1763689792")},void 0,n.meta.url)}})},et=function(){var e=r(t().m(function e(n,r){return t().w(function(t){for(;;)switch(t.n){case 0:i({loading:"正在修改反向代理备注，请稍后...",request:u({site_name:J.value.name,proxy_path:n.proxy_path,remark:r}),message:!0});case 1:return t.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),nt=function(t){Q.value=t,o({isAsync:!0,title:"反向代理设置【".concat(t.proxy_path,"】"),area:[76,60],component:function(){return c(function(){return n.import("./setting-legacy4.js?v=1763689792")},void 0,n.meta.url)},compData:{row:t}})},rt=function(){var e=r(t().m(function e(n){return t().w(function(t){for(;;)switch(t.n){case 0:if("/"!==n.proxy_path){t.n=1;break}return K.error("根目录不能删除"),t.a(2);case 1:return t.n=2,s({title:"删除反向代理【".concat(n.proxy_path,"】"),width:"35rem",icon:"warning-filled",content:"您真的要删除反向代理【".concat(n.proxy_path,"】吗？")});case 2:return t.n=3,i({loading:"正在删除，请稍后...",request:l({site_name:J.value.name,proxy_path:n.proxy_path}),message:!0});case 3:t.v.status&&(Z.value=!0);case 4:return t.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),at=(e("e",[{content:"目标：可以填写你需要代理的站点，目标如果选URL地址则必须为可正常访问的URL，如果选UNIX则必须是套接字文件"},{content:"http地址示例：http://127.0.0.1:15700"},{content:"unix地址示例：/tmp/panel.sock"},{content:function(){return $("span",null,[P("发送域名：将域名添加到请求头传递到后端服务器，默认为目标URL域名，若设置不当可能导致代理无法正常访问，例如："),$("br",null,null),P("http://192.168.100.20:19888，则发送域名保持$http_host即可"),$("br",null,null),P("http://www.bt.cn，则发送域名应当改为www.bt.cn"),$("br",null,null),P("上面例子仅为常见情况，请以实际为准")])}}]),e("t",[{label:"URL地址",value:"http"},{label:"UNIX地址",value:"unix"}]),e("u",C({targetType:"http",sitename:"",cachetime:1,proxysite:"http://",todomain:"$http_host",path:"",ps:"",websocket:!1}))),ot=(e("p",O(!1)),e("f",O(!1)),e("d",O(!1))),ct=e("b",O()),it=(e("c",C({proxyname:[{required:!0,message:"请输入代理名称",trigger:"blur"},{validator:function(t,e,n){e.length<3?n(new Error("代理名称必须大于3个字符串")):e.match(/^[a-zA-Z0-9_.-]+$/g)?n():n(new Error("代理名称不能包含特殊字符"))}}],proxysite:[{required:!0,message:"请输入目标地址",trigger:"blur"},{validator:function(t,e,n){if(e)if("unix"!==at.targetType){var r=e.replace(/^http[s]?:\/\//,"");r=r.replace(/(:|\?|\/|\\)(.*)$/,""),/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(r)?at.todomain="$http_host":at.todomain=r,n()}else n();else n(new Error("http"===at.targetType?"目标地址不能为空":"请选择sock文件"))}},{}],todomain:[{required:!0,message:"请输入发送域名",trigger:["blur","change"]}],path:[{required:!0,message:"请输入根目录",trigger:"blur"}]})),e("s",r(t().m(function e(){return t().w(function(t){for(;;)switch(t.n){case 0:at.proxysite="http"===at.targetType?"http://":"";case 1:return t.a(2)}},e)}))),e("h",function(t){if("unix"!==at.targetType){var e=t.replace(/^http[s]?:\/\//,"");e=e.replace(/(:|\?|\/|\\)(.*)$/,""),at.todomain=e}else at.todomain="$http_host"}),e("a",function(){M({type:"file",path:at.proxysite||"/www/dk_project/wwwroot",change:function(t){at.proxysite=t}})}),e("i",function(){at.targetType="http",at.sitename="",at.cachetime=1,at.proxysite="http://",at.todomain="$http_host",at.path="",at.ps="",at.websocket=!1}),e("o",function(){var e=r(t().m(function e(n){var r,a,o,c,u,s;return t().w(function(t){for(;;)switch(t.n){case 0:return r=at.path,a=at.proxysite,o=at.todomain,c=at.targetType,u=at.ps,s={site_name:J.value.name,proxy_path:r,proxy_pass:a,proxy_host:o,proxy_type:c,remark:u},t.n=1,ct.value.validate();case 1:return t.n=2,i({loading:ot,request:p(s),message:!0});case 2:t.v.status&&(Z.value=!0,n&&n());case 3:return t.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),e("V",O("proxy"))),ut=e("j",O({proxy_type:"",proxy_path:"",proxy_pass:"",proxy_host:"$http_host",ip_limit:{},basic_auth:{},proxy_cache:{},gzip:{},sub_filter:{},websocket:{},proxy_log:{},custom_config:[],proxy_conf:"",remark:"",template_proxy_conf:""})),st=e("a1",r(t().m(function e(){var n,r;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,a({site_name:J.value.name,proxy_path:Q.value.proxy_path});case 1:if((n=t.v).status){t.n=2;break}return K.error(n.msg),t.a(2);case 2:ut.value=n.data.data,t.n=4;break;case 3:t.p=3,r=t.v,f(r);case 4:return t.a(2)}},e,null,[[0,3]])}))),lt=e("n",O(!1)),pt=e("k",C({targetType:"http",sitename:"",proxysite:"",todomain:"$http_host",path:"",ps:"",websocket:!1,proxy_connect_timeout:30,proxy_send_timeout:30,proxy_read_timeout:30})),ft=(e("r",L(function(){return{proxysite:[{required:!0,message:"http"!==pt.targetType?"请选择sock文件":"请输入目标url",trigger:"blur",validator:function(t,e,n){e?n():n(new Error("http"!==pt.targetType?"请选择sock文件":"请输入目标url"))}}],todomain:[{required:!0,message:"请输入发送域名",trigger:["blur","change"]}],proxy_connect_timeout:[{required:!0,message:"请输入连接超时时间",trigger:["blur","change"],validator:function(t,e,n){e?isNaN(Number(e))?n(new Error("请输入数字")):n():n(new Error("连接超时时间不能为空"))}}],proxy_send_timeout:[{required:!0,message:"请输入后端请求超时时间",trigger:["blur","change"],validator:function(t,e,n){e?isNaN(Number(e))?n(new Error("请输入数字")):n():n(new Error("后端请求超时时间不能为空"))}}],proxy_read_timeout:[{required:!0,message:"请输入代理响应超时时间",trigger:["blur","change"],validator:function(t,e,n){e?isNaN(Number(e))?n(new Error("请输入数字")):n():n(new Error("代理响应超时时间不能为空"))}}]}})),e("g",function(t){var e=t.proxy_type,n=t.proxy_pass,r=t.proxy_host,a=t.proxy_path,o=t.remark,c=t.global_websocket,i=t.websocket,u=t.timeout;pt.targetType=e,pt.proxysite=n,pt.todomain=r,pt.path=a,pt.ps=o,lt.value=c,pt.websocket=null==i?void 0:i.websocket_status,pt.proxy_connect_timeout=null==u?void 0:u.proxy_connect_timeout,pt.proxy_send_timeout=null==u?void 0:u.proxy_send_timeout,pt.proxy_read_timeout=null==u?void 0:u.proxy_read_timeout}),e("m",function(){M({type:"file",path:pt.proxysite||"/www",change:function(t){pt.proxysite=t}})}),e("l",function(t){if("unix"!==pt.targetType){var e=t.replace(/^http[s]?:\/\//,"");e=e.replace(/(:|\?|\/|\\)(.*)$/,""),pt.todomain=e}else pt.todomain="$http_host"}),e("q",r(t().m(function e(){var n,r,a,o,c,u,s,l,p,f;return t().w(function(t){for(;;)switch(t.n){case 0:return n=pt.path,r=pt.proxysite,a=pt.todomain,o=pt.targetType,c=pt.ps,u=pt.websocket,s=pt.proxy_connect_timeout,l=pt.proxy_send_timeout,p=pt.proxy_read_timeout,f={site_name:J.value.name,proxy_path:n,proxy_pass:r,proxy_host:a,proxy_type:o,remark:c,websocket:u?1:0,proxy_connect_timeout:s,proxy_send_timeout:l,proxy_read_timeout:p},t.n=1,ct.value.validate();case 1:return t.n=2,i({loading:ot,request:m(f),message:!0});case 2:return t.a(2)}},e)}))),e("x",'一行一条配置，请以;结尾，例如：\nproxy_set_header Cookie "cookie_name=cookie_value";\nallow 192.168.1.0/24;\naccess_log /www/wwwlogs/xxx.log;'),e("v",C({config:""}))),mt=(e("z",[{content:"注意：一行一条配置，请以;结尾"},{content:function(){return $(A,null,[P("案例："),$("br",null,null),P("重定向请求：return 301 /new-page;"),$("br",null,null),P("重写URL：rewrite ^/blog/(.*)$ /$1 break;"),$("br",null,null),P("文件上传限制：client_max_body_size 10M;"),$("br",null,null),P("处理特定http方法："),$("br",null,null),P("limit_except POST "),"{",P(" "),$("br",null,null),P("    allow 192.168.1.0/24;"),$("br",null,null),P("    deny all;"),$("br",null,null),"}",$("br",null,null),P("限制请求速率：limit_rate 100k;"),$("br",null,null)])}},{content:"保存配置前请核对配置是否正确，错误的配置可能会导致反向代理无法正常访问"}]),e("y",function(){var e=r(t().m(function e(n){var r,a;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,r={site_name:J.value.name,proxy_path:ut.value.proxy_path,custom_conf:ft.config},t.n=1,y(r);case 1:a=t.v,K.request(a),t.n=3;break;case 2:t.p=2,t.v;case 3:return t.a(2)}},e,null,[[0,2]])}));return function(t){return e.apply(this,arguments)}}()),e("w",function(){ft.config=ut.value.custom_conf||""}),e("C",C({subfilter:[]}))),yt=(e("E",[{content:"规则解释如下"},{content:"g：替换所有匹配到的关键字"},{content:"i：不区分大小写"},{content:"o：只替换匹配到的第一个"},{content:"r：使用正则表达式"}]),function(){var e=r(t().m(function e(n){return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i({loading:"正在删除，请稍后...",request:x({site_name:J.value.name,proxy_path:ut.value.proxy_path,oldstr:n.oldstr,newstr:n.newstr}),message:!0});case 1:st();case 2:return t.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),ht=function(t){var e=[t.oldstr,t.newstr],n=t.sub_type.replace(/g/g,""),r=n.includes("i")?"不区分大小写":"",a=n.includes("o")?"只替换第一个":"",o=n.includes("r")?"使用正则表达式":"";switch(n.length){case 0:return"效果:将全部'".concat(e[0],"'替换为'").concat(e[1],"''");case 1:return"效果:将".concat(a?"":"全部","'").concat(e[0],"'替换为'").concat(e[1],"'，匹配时").concat(r||a||o);case 2:return"效果:将".concat(a?"":"全部","'").concat(e[0],"'替换为'").concat(e[1],"'，匹配时").concat(r||a||o,"并且").concat(o||a||r);case 3:return"效果:将'".concat(e[0],"'替换为'").concat(e[1],"'，匹配时").concat(r,"、").concat(a,"并且").concat(o)}},_t=(e("A",function(t){try{mt.subfilter=t.sub_filter_str}catch(e){}}),e("D",O([{label:"原关键词",prop:"oldstr"},{label:"替换词",prop:"newstr"},{label:"规则",prop:"mode",width:50,render:function(t){return $(I,{class:"item",effect:"dark","open-delay":500,content:ht(t),placement:"top-start"},{default:function(){return[$("div",{class:"flex items-center"},["".concat(t.sub_type)])]}})}},D([{title:"删除",onClick:function(t){yt(t)}}])])),e("B",function(){Object.assign(_t,{oldstr:"",newstr:""}),dt.value=[],vt.value="默认效果:将全部'http://www.bt.cn'替换为'https://www.bt.cn'",o({isAsync:!0,title:"添加内容替换【".concat(ut.value.proxy_path,"】"),area:60,btn:"确认",component:function(){return c(function(){return n.import("./setting-replace-add-legacy2.js?v=1763689792")},void 0,n.meta.url)},compData:{proxy_path:ut.value.proxy_path,subs_filter:ut.value.subs_filter}})}),e("a3",C({oldstr:"",newstr:""}))),dt=(e("a9",{oldstr:[h({message:"请输入原关键词"})]}),e("a5",O([]))),vt=e("a7",O("默认效果:将全部'http://www.bt.cn'替换为'https://www.bt.cn'")),gt=e("a8",O()),wt=(e("a4",function(t){wt(dt.value)}),e("a6",function(t){var e=t.includes("i")?"不区分大小写":"",n=t.includes("o")?"只替换第一个":"",r=t.includes("r")?"使用正则表达式":"";switch(t.length){case 0:vt.value="默认效果:将全部".concat(_t.oldstr,"替换为").concat(_t.newstr);break;case 1:vt.value="效果:将".concat(n?"":"全部").concat(_t.oldstr,"替换为").concat(_t.newstr,"，匹配时").concat(e||n||r);break;case 2:vt.value="效果:将".concat(n?"":"全部").concat(_t.oldstr,"替换为").concat(_t.newstr,"，匹配时").concat(e||n||r,"并且").concat(r||n||e);break;case 3:vt.value="效果:将".concat(_t.oldstr,"替换为").concat(_t.newstr,"，匹配时").concat(e,"、").concat(n,"并且").concat(r)}})),bt=(e("a2",function(){var e=r(t().m(function e(n){var r;return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,gt.value.validate();case 1:return r={site_name:J.value.name,oldstr:_t.oldstr,newstr:_t.newstr,proxy_path:ut.value.proxy_path,sub_type:dt.value.length?dt.value.join(""):"g"},t.n=2,i({loading:ot,request:_(r),message:!0});case 2:t.v.status&&(st(),n&&n());case 3:return t.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),e("J",O())),xt=e("F",C({status:!1,time:"",unit:"m"})),kt=(e("H",[{label:"分钟",value:"m"},{label:"小时",value:"h"},{label:"天",value:"d"}]),e("K",[{content:"缓存是一种用于加速网站性能和提高用户体验的技术"},{content:"开启后资源会被缓存，如果影响网站访问请关闭"},{content:"缓存键由主机名、URI 和请求参数组成"},{content:"默认忽略的响应头有：Set-Cookie|Cache-Control|expires|X-Accel-Expires"},{content:"默认缓存的静态资源有：css|js|jpg|jpeg|gif|png|webp|woff|eot|ttf|svg|ico|css.map|js.map"}]),e("G",function(t){kt()}),e("I",r(t().m(function e(){var n;return t().w(function(t){for(;;)switch(t.n){case 0:return n={site_name:J.value.name,proxy_path:ut.value.proxy_path,cache_status:xt.status?1:0,expires:"".concat(xt.time).concat(xt.unit)},t.n=1,bt.value.validate();case 1:return t.n=2,i({loading:ot,request:d(n),message:!0});case 2:return t.a(2)}},e)})))),jt=(e("_",C({status:!1})),e("$",function(){var e=r(t().m(function e(n){var r;return t().w(function(t){for(;;)switch(t.n){case 0:return r={site_name:J.value.name,proxy_path:ut.value.proxy_path,status:n?1:0},t.n=1,i({loading:"正在保存，请稍后...",request:v(r),message:!0});case 1:return t.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),e("a0",[{content:"启用缓冲（默认）：Nginx 会将后端服务器（被代理的服务器）的响应数据先存储在自己的缓冲区中"},{content:"启用缓冲（默认）：提高性能和稳定性，优化资源利用，但也会造成延迟问题，内存占用高"},{content:"关闭缓冲：数据访问实时性增强，降低内存占用风险，但也会对后端服务器（被代理的服务器）压力增大，性能也有一定影响"},{content:"什么业务可以关闭缓冲：例如AI类型的，比如ThinkChat等"}]),e("Q",O())),Tt=e("M",C({status:!1,type:"",level:1,minLength:"",unit:"m"})),qt=(e("O",[{label:"k",value:"k"},{label:"m",value:"m"}]),e("S",[{content:"用于对 HTTP 响应的内容进行压缩，以减少数据传输量，提高网站性能和加载速度"},{content:"压缩级别1-9，例如：1为压缩速度最快，但压缩率较低；9为压缩速度最慢，但压缩率最高，建议默认"},{content:"如果开启gzip后影响网站正常访问，请关闭此功能 和请求参数组成"}]),e("R",{type:[{required:!0,message:"请输入压缩类型",trigger:["blur","change"]}],minLength:[{required:!0,message:"请输入正确的压缩最小长度",trigger:"blur",validator:function(t,e,n){e?isNaN(Number(e))?n(new Error("请输入数字")):Number(e)<1?n(new Error("请输入正确数字")):n():n(new Error("压缩最小长度不能为空"))}},{}]}),e("L",function(t){Tt.status=t.gzip_status,Tt.type=t.gzip_types,Tt.level=t.gzip_comp_level;var e="",n="m";t.gzip_min_length&&t.gzip_min_length.length>1&&(e=t.gzip_min_length.slice(0,-1),n=t.gzip_min_length.slice(-1)),Tt.minLength=e,Tt.unit=n}),e("N",function(t){qt()}),e("P",r(t().m(function e(){var n;return t().w(function(t){for(;;)switch(t.n){case 0:return n={site_name:J.value.name,proxy_path:ut.value.proxy_path,gzip_status:Tt.status?1:0,gzip_min_length:"".concat(Tt.minLength).concat(Tt.unit),gzip_comp_level:Tt.level,gzip_types:Tt.type},t.n=1,jt.value.validate();case 1:return t.n=2,i({loading:ot,request:g(n),message:!0});case 2:return t.a(2)}},e)})))),Et=e("U",C({loading:!1,type:"black",white:[],black:[]})),Nt=e("T",function(t){Et.white=t.ip_white.map(function(t){return{ip:t,type:"white"}}),Et.black=t.ip_black.map(function(t){return{ip:t,type:"black"}})}),zt=function(){var e=r(t().m(function e(n){var r,a,o;return t().w(function(t){for(;;)switch(t.n){case 0:return r=!!Array.isArray(n),t.n=1,s({title:"".concat(r?"批量删除":"删除").concat("white"===Et.type?"白":"黑","名单"),content:"".concat(r?"批量删除选中的ip，是否继续操作？":"删除".concat("white"===Et.type?"白":"黑","名单【").concat(n.ip,"】，是否继续操作？"))});case 1:return a={site_name:J.value.name,proxy_path:ut.value.proxy_path},r?(a.ips=n.map(function(t){return t.ip}).join("\n"),a.ip_type=Et.type):(a.ip=n.ip,a.ip_type=n.type),o=r?k:j,t.n=2,i({loading:"正在删除，请稍后...",request:o(a),message:!0});case 2:t.v.status&&st();case 3:return t.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Ot=(e("Y",O([F(),{label:"IP",prop:"ip",minWidth:120},D([{title:"删除",onClick:function(t){zt(t)}}])])),e("Z",[{label:"删除IP",value:"delete",event:(X=r(t().m(function e(n,r,a,o){return t().w(function(t){for(;;)switch(t.n){case 0:zt(a.value);case 1:return t.a(2)}},e)})),function(t,e,n,r){return X.apply(this,arguments)})}]),e("X",function(){Et.type="ipBlackList"===it.value?"black":"white",Ot.value.types=Et.type,Ot.value.address="",Nt(ut.value.ip_limit)}),e("W",function(){o({isAsync:!0,title:"添加IP".concat("ipBlackList"===it.value?"黑":"白","名单【").concat(ut.value.proxy_path,"】"),area:40,btn:"确认",component:function(){return c(function(){return n.import("./setting-ip-add-legacy2.js?v=1763689792")},void 0,n.meta.url)},compData:{name:J.value.name,proxy_path:ut.value.proxy_path,listType:Et.type,refreshEvent:function(){Ot.value.address="",st()}}})}),e("ab",O({types:Et.type,address:""}))),$t=e("ad",O()),Pt=(e("ac",[{content:"一行一条配置，多个IP请换行"}]),e("ae",{address:[{validator:function(t,e,n){e.length>0?n():n(new Error("请输入IP地址"))},trigger:["blur","change"]}]}),e("aa",function(){var e=r(t().m(function e(n){var r,a,o,c;return t().w(function(t){for(;;)switch(t.n){case 0:return r=Ot.value,a=r.types,o=r.address,c={site_name:J.value.name,proxy_path:ut.value.proxy_path,ip_type:a,ips:o},t.n=1,$t.value.validate();case 1:return t.n=2,i({loading:ot,request:w(c),message:!0});case 2:t.v.status&&(Ot.value.address="",st(),n());case 3:return t.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),S({__name:"index",setup:function(t,e){var n=e.expose,r=T({options:[{label:"添加反向代理",type:"button",active:!0,onClick:tt}]}).BtOperation,a=q({request:Y,columns:[{label:"代理目录",prop:"proxy_path",minWidth:120},{label:"目标",prop:"proxy_pass",minWidth:200},H({request:et,prop:"remark"}),D([{onClick:nt,title:"设置"},{onClick:rt,title:"删除"}])],extension:[E(Z)]}),o=a.BtTable;return n({init:a.refresh}),function(t,e){var n=z,a=N;return U(),G("div",null,[$(n,{class:"h-[59rem]"},{"header-left":R(function(){return[$(B(r))]}),content:R(function(){return[$(B(o),{"max-height":560})]}),_:1}),$(a,{class:"mt-[2rem] ml-[1.6rem]",options:B(V)},null,8,["options"])])}}})),Ct=Object.freeze(Object.defineProperty({__proto__:null,default:Pt},Symbol.toStringTag,{value:"Module"}));e("af",Ct)}}})}();
