!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(t,r,n){return(r=function(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function u(r,n,o,u){var i=n&&n.prototype instanceof c?n:c,s=Object.create(i.prototype);return l(s,"_invoke",function(r,n,o){var u,i,l,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:y,f:y.bind(e,4),d:function(t,r){return u=t,i=0,l=e,p.n=r,a}};function y(r,n){for(i=r,l=n,t=0;!f&&c&&!o&&t<s.length;t++){var o,u=s[t],y=p.p,m=u[2];r>3?(o=m===n)&&(l=u[(i=u[4])?5:(i=3,3)],u[4]=u[5]=e):u[0]<=y&&((o=r<2&&y<u[1])?(i=0,p.v=n,p.n=u[1]):y<m&&(o=r<3||u[0]>n||n>m)&&(u[4]=r,u[5]=n,p.n=m,i=0))}if(o||r>1)return a;throw f=!0,n}return function(o,s,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&y(s,m),i=s,l=m;(t=i<2?e:l)||!f;){u||(i?i<3?(i>1&&(p.n=-1),y(i,l)):p.n=l:p.v=l);try{if(c=2,u){if(i||(o="next"),t=u[o]){if(!(t=t.call(u,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=u.return)&&t.call(u),i<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),i=1);u=e}else if((t=(f=p.n<0)?l:r.call(n,p))!==a)break}catch(t){u=e,i=1,l=t}finally{c=1}}return{value:t,done:f}}}(r,o,u),!0),s}var a={};function c(){}function s(){}function f(){}t=Object.getPrototypeOf;var p=[][n]?t(t([][n]())):(l(t={},n,function(){return this}),t),y=f.prototype=c.prototype=Object.create(p);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e}return s.prototype=f,l(y,"constructor",f),l(f,"constructor",s),s.displayName="GeneratorFunction",l(f,o,"GeneratorFunction"),l(y),l(y,o,"Generator"),l(y,n,function(){return this}),l(y,"toString",function(){return"[object Generator]"}),(i=function(){return{w:u,m:m}})()}function l(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}l=function(e,t,r,n){function u(t,r){l(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(u("next",0),u("throw",1),u("return",2))},l(e,t,r,n)}function a(e,t,r,n,o,u,i){try{var l=e[u](i),a=l.value}catch(e){return void r(e)}l.done?t(a):Promise.resolve(a).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var u=e.apply(t,r);function i(e){a(u,n,o,i,l,"next",e)}function l(e){a(u,n,o,i,l,"throw",e)}i(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./index-legacy109.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./form-item-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy56.js?v=1763689792","./useController-legacy10.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./useStore-legacy7.js?v=1763689792","./index-legacy350.js?v=1763689792","./config-legacy.js?v=1763689792","./index-legacy130.js?v=1763689792","./index-legacy123.js?v=1763689792","./validator-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792","./firewall-legacy.js?v=1763689792","./useStore-legacy8.js?v=1763689792"],function(e,r){"use strict";var n,u,l,a,s,f,p,y,m,d,v,b,g,h,j,w,S,O,_,x,P,C,T,E,F,A,D,k,G,I,L;return{setters:[function(e){n=e.L,u=e.hy,l=e.j,a=e.e,s=e.ci,f=e.X,p=e._},function(e){y=e._},function(e){m=e.c,d=e.s,v=e.g,b=e.r,g=e.w,h=e.v,j=e.x,w=e.y,S=e.e,O=e.C,_=e.D,x=e.z,P=e.A,C=e.R,T=e.H},function(e){E=e.b,F=e.j},function(e){A=e.u},function(e){D=e.s,k=e.a,G=e.b,I=e.d},function(e){L=e.L},null,null,null,null,null,null,null,null,null,null,null],execute:function(){var r={class:"p-[20px]"},V={class:"p-[2rem]"},q={class:"p-[2rem]"},B={class:"list-disc mt-[20px] pl-[28px]"},U={class:"h-[2.4rem]"},H=m({__name:"index",setup:function(e){var p,m=L(),H=d(m),N=(H.sForm,H.sendSource),z=H.logSystemDialog,M=H.logSystemForm,R=(H.sourceForm,H.logSystemData,H.logSystemLoad),X=(H.logSysForm,H.logSystemList),$=m.getLogSystemData,J=m.getLogSystemSite,K=(m.sendSourceConfirm,n({data:M.value,options:function(e){return v(function(){return[E("IP","ip",{attrs:{placeholder:"日志服务系统的ip",clearable:!0,class:"!w-22rem"},rules:[{required:!0,validator:function(e,t,r){s(t)||r(new Error("请输入正确的IP")),r()},trigger:["blur","change"]}]}),E("端口","port",{attrs:{placeholder:"请输入端口号",clearable:!0,"controls-position":"right",class:"!w-22rem",type:"number"},rules:[{required:!0,validator:function(e,t,r){f(t)&&t||r(new Error("请输入正确的端口(范围为1-65535)")),r()},trigger:["blur","change"]}]})]})},submit:(p=c(i().m(function e(t,r,n){return i().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r();case 1:return e.n=2,D(t.value);case 2:return e.a(2,e.v)}},e)})),function(e,t,r){return p.apply(this,arguments)})})),Q=K.BtForm,W=K.submit,Y=b({site:[],ip:M.value.port?M.value.ip+":"+M.value.port:"未配置"});g(M,function(e){X.value[0].ip,Y.value.ip=e.port?e.ip+":"+e.port:"未配置"},{deep:!0});var Z,ee=n({data:Y.value,options:function(e){return v(function(){return[F("网站","site",k.value,{attrs:{multiple:!0,collapseTags:!0,class:"!w-22rem"},rules:[{required:!0,message:"请选择网站",trigger:"change"}]}),E("日志系统","ip",{attrs:{disabled:!0,class:"!w-22rem"}})]})},submit:(Z=c(i().m(function e(t,r,n){return i().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r();case 1:return e.n=2,G(o(o({},t.value),{},{server_id:X.value.length?X.value[0].id:""}));case 2:return e.a(2,e.v)}},e)})),function(e,t,r){return Z.apply(this,arguments)})}),te=ee.BtForm,re=ee.submit,ne=u({request:$,columns:[{label:"已设置站点",prop:"site_name"},A([{onClick:I,title:"删除"}])]}).BtTable;return h(function(){J()}),function(e,n){var o=T,u=y,i=l,c=a;return j(),w("div",r,[S(u,null,{"header-left":O(function(){return[S(o,{onClick:n[0]||(n[0]=function(e){return N.value=!0}),type:"primary"},{default:O(function(){return t(n[5]||(n[5]=[_(" 设置发送源 ",-1)]))}),_:1}),S(o,{onClick:n[1]||(n[1]=function(e){return z.value=!0})},{default:O(function(){return t(n[6]||(n[6]=[_("日志服务系统配置",-1)]))}),_:1})]}),content:O(function(){return[S(x(ne),{"max-height":"360"}),n[7]||(n[7]=P("ul",{class:"list-disc w-[50rem] pl-[1rem] mt-[12px] text-secondary"},[P("li",null,"注意：网站被访问后才会在日志服务系统中显示")],-1))]}),_:1}),S(i,{title:"设置发送源",modelValue:x(N),"onUpdate:modelValue":n[2]||(n[2]=function(e){return C(N)?N.value=e:null}),"show-footer":!0,area:[40],onConfirm:x(re)},{default:O(function(){return[P("div",V,[S(x(te),{"label-width":"80px"})])]}),_:1},8,["modelValue","onConfirm"]),S(i,{title:"日志服务系统配置",modelValue:x(z),"onUpdate:modelValue":n[3]||(n[3]=function(e){return C(z)?z.value=e:null}),"show-footer":!0,area:[40],onConfirm:x(W),onCancel:n[4]||(n[4]=function(e){return z.value=!1,R.value=!1,void(X.value.length>0&&Object.assign(M.value,X.value[0]))})},{default:O(function(){return[P("div",q,[S(x(Q),{"label-width":"80px"}),P("ul",B,[P("li",U,[S(c,{href:"https://www.bt.cn/bbs/thread-120054-1-1.html"},{default:O(function(){return t(n[8]||(n[8]=[_(" 如何配置日志服务系统 ",-1)]))}),_:1})]),n[9]||(n[9]=P("li",null,"端口：日志服务收集端口，请在安装“日志服务系统”的机器通过 btlogs 8 获取",-1))])])]}),_:1},8,["modelValue","onConfirm"])])}}});e("default",p(H,[["__scopeId","data-v-a699a992"]]))}}})}();
