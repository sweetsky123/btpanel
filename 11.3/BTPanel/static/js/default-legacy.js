!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}System.register(["./base-lib-legacy.js?v=1763689792"],function(t,n){"use strict";var u,o,l,i,r,a,s,c,d,v,f,m,p,h,b;return{setters:[function(e){u=e.c,o=e.r,l=e.g,i=e.o,r=e.w,a=e.aG,s=e.a0,c=e.J,d=e.e,v=e.bv,f=e.aB,m=e.i,p=e.n,h=e.K,b=e.R}],execute:function(){var n=function(e,t){var n,u=t.arg;if(u){var o=t.value,l=b(u)?u.value:null===(n=t.instance)||void 0===n?void 0:n.$refs[u];l&&"function"==typeof l.addReference&&(e.$contextmenuKey=u,l.addReference(e,o))}},g=function(e,t){var n,u=e.$contextmenuKey;if(u){var o=b(u)?u.value:null===(n=t.instance)||void 0===n?void 0:n.$refs[u];o&&"function"==typeof o.removeReference&&o.removeReference(e)}},y=(t("c",{mounted:n,updated:function(e,t){g(e,t),n(e,t)},beforeUnmount:g}),"v-contextmenu"),x="v-contextmenu-icon",w="v-contextmenu-inner",C="v-contextmenu-item",j="v-contextmenu-item--hover",k="v-contextmenu-item--disabled",R="v-contextmenu-submenu",S="v-contextmenu-submenu__title",_="v-contextmenu-submenu__menus",M="v-contextmenu-submenu__menus--top",O="v-contextmenu-submenu__menus--right",A="v-contextmenu-submenu__menus--bottom",B="v-contextmenu-submenu__menus--left",E="v-contextmenu-submenu__arrow";var $=["contextmenu"];t("a",u({name:"VContextmenu",props:{modelValue:{type:Boolean,default:!1},autoAdjustPlacement:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},teleport:{type:[String,Object],default:function(){return"body"}},preventContextmenu:{type:Boolean,default:!0}},emits:["show","hide","update:modelValue","contextmenu"],setup:function(e,t){var n=t.emit,u=o(null),c=o(e.modelValue||!1),d=function(e){c.value=e,n("update:modelValue",e)},v=o({top:0,left:0}),f=l(function(){return{top:"".concat(v.value.top,"px"),left:"".concat(v.value.left,"px")}}),m=o(null),h=function(t,o){var l,i,r=t instanceof Event?o:t,a=(null==r?void 0:r.autoAdjustPlacement)||e.autoAdjustPlacement,s={top:(null==r?void 0:r.top)||0,left:(null==r?void 0:r.left)||0};t instanceof Event&&(t.preventDefault(),s.top=null!==(l=null==r?void 0:r.top)&&void 0!==l?l:t.pageY,s.left=null!==(i=null==r?void 0:r.left)&&void 0!==i?i:t.pageX);d(!0),p(function(){if(a){var e=u.value;if(!e)return;var t=e.clientWidth,o=e.clientHeight;if(o+s.top>=window.innerHeight+window.scrollY){var l=s.top-o;l>window.scrollY&&(s.top=l)}if(t+s.left>=window.innerWidth+window.scrollX){var i=s.left-t;i>window.scrollX&&(s.left=i)}}v.value=s,n("show")})},b=function(){m.value=null,d(!1),n("hide")},g=i(new Map),y=o(),x=l(function(){return y.value&&g.get(y.value)}),w=function(e){e.target&&u.value&&y.value&&(u.value.contains(e.target)||x.value&&x.value.triggers.includes("click")&&y.value.contains(e.target)||d(!1))};return r(c,function(e){e?document.addEventListener("click",w):document.removeEventListener("click",w)}),a(function(){document.removeEventListener("click",w)}),s("visible",c),s("autoAdjustPlacement",e.autoAdjustPlacement),s("show",h),s("hide",b),{visible:c,style:f,currentReferenceOptions:x,currentOptions:m,contextmenuRef:u,addReference:function(t,n){var u=null!=n&&n.trigger?Array.isArray(n.trigger)?n.trigger:[n.trigger]:$,o=function(n){e.disabled||(y.value=t,h(n,{}))};u.forEach(function(e){t.addEventListener(e,o)}),g.set(t,{triggers:u,handler:o})},removeReference:function(e){var t=g.get(e);t&&(t.triggers.forEach(function(n){e.removeEventListener(n,t.handler)}),g.delete(e))},toggle:d,show:h,hide:b}},methods:{renderContent:function(){var e,t,n=this;return c(d("div",{class:y,ref:"contextmenuRef",style:this.style,onContextmenu:function(e){n.$props.preventContextmenu&&e.preventDefault(),n.$emit("contextmenu",e)}},[d("ul",{class:w},[null===(e=(t=this.$slots).default)||void 0===e?void 0:e.call(t,{triggerOptions:"currentReferenceOptions",options:"currentOptions"})])]),[[h,"visible"]])}},render:function(){var e,t;return this.visible?this.teleport?d(v,{to:this.teleport},"function"==typeof(t=e=this.renderContent())||"[object Object]"===Object.prototype.toString.call(t)&&!m(t)?e:{default:function(){return[e]}}):this.renderContent():null}}));function P(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var u=t[Symbol.toPrimitive];if(void 0!==u){var o=u.call(t,n||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:String(n)}function V(e,t,n){return(t=P(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t("C",u({name:"VContextmenuItem",props:{disabled:{type:Boolean,default:!1},hideOnClick:{type:Boolean,default:!0},contextmenuAsClick:{type:Boolean,default:!0}},emits:["click","contextmenu","mouseenter","mouseleave"],setup:function(e,t){var n=t.emit,u=f("hide"),i=o(!1);return{classes:l(function(){return V(V(V({},C,!0),k,e.disabled),j,i.value)}),handleClick:function(t){n("click",t),e.disabled||e.hideOnClick&&(null==u||u())},handleContextmenu:function(t){if(n("contextmenu",t),e.contextmenuAsClick){if(e.disabled)return;e.hideOnClick&&(null==u||u())}},handleMouseenter:function(t){n("mouseenter",t),e.disabled||(i.value=!0)},handleMouseleave:function(t){n("mouseleave",t),e.disabled||(i.value=!1)}}},render:function(){var e,t;return d("li",{class:this.classes,onClick:this.handleClick,onContextmenu:this.handleContextmenu,onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave},[null===(e=(t=this.$slots).default)||void 0===e?void 0:e.call(t)])}}));var L=u({name:"VContextmenuIcon",props:{name:{type:String,required:!0}},render:function(){return d("i",{class:[x,"".concat(x,"-").concat(this.name)]},null)}});t("b",u({name:"VContextmenuSubmenu",props:{title:{type:String,required:!0},disabled:{type:Boolean,default:!1}},emits:["mouseenter","mouseleave"],setup:function(e,t){var n=t.emit,u=o(null),i=f("autoAdjustPlacement"),r=o(["top","right"]),a=o(!1),s=l(function(){return V(V(V(V({},C,!0),S,!0),j,a.value),k,e.disabled)}),c=l(function(){return V(V(V(V(V(V({},y,!0),_,!0),M,r.value.includes("top")),O,r.value.includes("right")),A,r.value.includes("bottom")),B,r.value.includes("left"))});return{hover:a,submenuRef:u,titleClasses:s,menusClasses:c,handleMouseenter:function(t){e.disabled||(a.value=!0,n("mouseenter",t),p(function(){var e=[];if(i){var n=t.target.getBoundingClientRect();if(!u.value)return;var o=u.value.clientWidth,l=u.value.clientHeight;n.right+o>=window.innerWidth?e.push("left"):e.push("right"),n.bottom+l>=window.innerHeight?e.push("bottom"):e.push("top")}r.value=e}))},handleMouseleave:function(t){e.disabled||(a.value=!1,n("mouseleave",t))}}},render:function(){var e,t,n,u;return d("li",{class:R,onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave},[d("div",{class:this.titleClasses},[(null===(e=(t=this.$slots).title)||void 0===e?void 0:e.call(t))||this.title,d("span",{class:E},[d(L,{name:"right-arrow"},null)])]),this.hover?d("div",{ref:"submenuRef",class:this.menusClasses},[d("ul",{class:w},[null===(n=(u=this.$slots).default)||void 0===n?void 0:n.call(u)])]):null])}}))}}})}();
