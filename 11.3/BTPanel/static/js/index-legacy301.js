!function(){function n(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(n){if("string"==typeof n)return t(n,e);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(n,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,t,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",o=u.toStringTag||"@@toStringTag";function i(e,u,a,o){var i=u&&u.prototype instanceof c?u:c,s=Object.create(i.prototype);return r(s,"_invoke",function(e,r,u){var a,o,i,c=0,s=u||[],f=!1,p={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return a=t,o=0,i=n,p.n=e,l}};function d(e,r){for(o=e,i=r,t=0;!f&&c&&!u&&t<s.length;t++){var u,a=s[t],d=p.p,m=a[2];e>3?(u=m===r)&&(i=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=n):a[0]<=d&&((u=e<2&&d<a[1])?(o=0,p.v=r,p.n=a[1]):d<m&&(u=e<3||a[0]>r||r>m)&&(a[4]=e,a[5]=r,p.n=m,o=0))}if(u||e>1)return l;throw f=!0,r}return function(u,s,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,m),o=s,i=m;(t=o<2?n:i)||!f;){a||(o?o<3?(o>1&&(p.n=-1),d(o,i)):p.n=i:p.v=i);try{if(c=2,a){if(o||(u="next"),t=a[u]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,o<2&&(o=0)}else 1===o&&(t=a.return)&&t.call(a),o<2&&(i=TypeError("The iterator does not provide a '"+u+"' method"),o=1);a=n}else if((t=(f=p.n<0)?i:e.call(r,p))!==l)break}catch(t){a=n,o=1,i=t}finally{c=1}}return{value:t,done:f}}}(e,a,o),!0),s}var l={};function c(){}function s(){}function f(){}t=Object.getPrototypeOf;var p=[][a]?t(t([][a]())):(r(t={},a,function(){return this}),t),d=f.prototype=c.prototype=Object.create(p);function m(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,r(n,o,"GeneratorFunction")),n.prototype=Object.create(d),n}return s.prototype=f,r(d,"constructor",f),r(f,"constructor",s),s.displayName="GeneratorFunction",r(f,o,"GeneratorFunction"),r(d),r(d,o,"Generator"),r(d,a,function(){return this}),r(d,"toString",function(){return"[object Generator]"}),(e=function(){return{w:i,m:m}})()}function r(n,t,e,u){var a=Object.defineProperty;try{a({},"",{})}catch(n){a=0}r=function(n,t,e,u){function o(t,e){r(n,t,function(n){return this._invoke(t,e,n)})}t?a?a(n,t,{value:e,enumerable:!u,configurable:!u,writable:!u}):n[t]=e:(o("next",0),o("throw",1),o("return",2))},r(n,t,e,u)}function u(n,t,e,r,u,a,o){try{var i=n[a](o),l=i.value}catch(n){return void e(n)}i.done?t(l):Promise.resolve(l).then(r,u)}function a(n){return function(){var t=this,e=arguments;return new Promise(function(r,a){var o=n.apply(t,e);function i(n){u(o,r,a,i,l,"next",n)}function l(n){u(o,r,a,i,l,"throw",n)}i(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./index-legacy124.js?v=1763689792","./index-legacy109.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./firewall-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./index-legacy107.js?v=1763689792"],function(t,r){"use strict";var u,o,i,l,c,s,f,p,d,m,y,v,h,g,b,w,j,_,S,k,x,O,C,I,T,A,H,V,P,F,G,q,E,z,D,N,U;return{setters:[function(n){u=n.u,o=n.n,i=n.H,l=n.Q,c=n.M,s=n.p,f=n.aH,p=n.l,d=n.k,m=n.j},function(n){y=n._},function(n){v=n._},function(n){h=n.c,g=n.r,b=n.b8,w=n.e,j=n.ap,_=n.v,S=n.I,k=n.x,x=n.y,O=n.z,C=n.C,I=n.D,T=n.J,A=n.A,H=n.O,V=n.R,P=n.H},function(n){F=n.a1,G=n.Z,q=n.a2,E=n.a3,z=n.a4,D=n.x},function(n){N=n.u},function(n){U=n.l},null,null,null],execute:function(){var M={key:0},J={class:"p-[2rem] flex items-center"};t("default",h({__name:"index",setup:function(t){var h=u(),Q=(h.mainHeight,h.payment),R=g(!1),Z=g(""),$=g(!1),B=g([]),K=g([]),L=g(!1),W=b({title:"SSH系统账号管理-功能介绍",ps:"SSH系统账号管理通常涉及到在服务器上创建、删除和管理SSH用户账户的过程。这些账户可以用于通过SSH（安全壳层）协议远程访问服务器。这种管理工作通常由系统管理员进行，以确保只有授权的用户可以访问服务器。",source:305,desc:["创建系统用户","修改系统用户密码","删除系统用户","记录日志","防入侵"],isInstall:L.value,tabImgs:[{title:"概览",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/firewall/ssh_system_manage.png"}],pluginInfo:{name:"bt_security"}}),X=function(){var n=a(e().m(function n(){return e().w(function(n){for(;;)switch(n.n){case 0:U({name:"bt_security"});case 1:return n.a(2)}},n)}));return function(){return n.apply(this,arguments)}}(),Y=function(){o({title:"创建系统用户",area:42,showFooter:!0,compData:{refreshFn:un},component:function(){return i(function(){return r.import("./add-user-legacy.js?v=1763689792")},void 0,r.meta.url)}})},nn=function(){var n=a(e().m(function n(t){var u;return e().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,l({loading:"正在获取日志，请稍后...",request:F({user:t[0]}),data:Array});case 1:if((u=n.v).length){n.n=2;break}return n.a(2,c.error("当前暂无日志"));case 2:K.value={user:t[0],dateTime:u[0],dateOptions:u.map(function(n){return{title:n,key:n}})},o({title:"命令日志",area:72,component:function(){return i(function(){return r.import("./index-legacy487.js?v=1763689792")},void 0,r.meta.url)},compData:K.value});case 3:return n.a(2)}},n)}));return function(t){return n.apply(this,arguments)}}(),tn=function(){var n=a(e().m(function n(){return e().w(function(n){for(;;)switch(n.n){case 0:if(Z.value){n.n=1;break}return n.a(2,c.error("请输入新密码"));case 1:return n.n=2,l({loading:"正在设置密码，请稍后...",request:G({username:K.value[0],password:Z.value}),message:!0});case 2:R.value=!1,Z.value="";case 3:return n.a(2)}},n)}));return function(){return n.apply(this,arguments)}}(),en=function(){var n=a(e().m(function n(t){return e().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,s({icon:"warning-filled",title:"删除[".concat(t[0],"]用户"),content:"危险操作，正在删除[".concat(t[0],"]用户，请在下方输入'确认删除'"),input:{content:"确认删除"},type:"input"});case 1:return n.n=2,l({loading:"正在删除中,请稍后...",request:q({username:t[0]}),message:!0});case 2:un();case 3:return n.a(2)}},n)}));return function(t){return n.apply(this,arguments)}}(),rn=function(){var n=a(e().m(function n(t,r,u){return e().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,l({loading:"正在"+(t?"开启":"关闭")+(3===u?"防入侵":"记录日志")+"，请稍后...",request:3===u?E(t,{user:r[0]}):z(t,{uid:r[1]}),message:!0});case 1:un();case 2:return n.a(2)}},n)}));return function(t,e,r){return n.apply(this,arguments)}}(),un=function(){var n=a(e().m(function n(){var t,r,u;return e().w(function(n){for(;;)switch(n.n){case 0:return $.value=!0,n.n=1,D();case 1:if(t=n.v,r=t.data,u=t.msg,r.status||"插件不存在!"!==u){n.n=2;break}return W.isInstall=!1,L.value=!0,an(),n.a(2);case 2:W.isInstall=!0,L.value=!1,B.value=r.system_user,$.value=!1;case 3:return n.a(2)}},n)}));return function(){return n.apply(this,arguments)}}(),an=function(){var n=a(e().m(function n(){var t,r;return e().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,f({sName:"bt_security"});case 1:t=n.v,r=t.data,W.pluginInfo=r,n.n=3;break;case 2:n.p=2,n.v;case 3:return n.a(2)}},n,null,[[0,2]])}));return function(){return n.apply(this,arguments)}}(),on=[{label:"用户名",render:function(n){return n[0]}},{label:"防入侵",width:100,render:function(n){return w(j,{modelValue:n[3],size:"small",onChange:function(t){return rn(t,n,3)}},null)}},{label:"记录日志",width:100,render:function(n){return w(j,{modelValue:n[5],size:"small",onChange:function(t){return rn(t,n,5)}},null)}},{label:"备注",render:function(n){return n[6]}},N([{onClick:nn,title:"命令日志",width:70},{onClick:function(n){K.value=n,R.value=!0},title:"重置密码",width:70},{onClick:en,title:"删除"}])];return _(un),function(t,e){var r=P,u=p,a=v,o=y,i=d,l=m,c=S("bt-loading");return k(),x("div",null,["ltd"!==O(Q).authType||O(L)?(k(),H(o,{key:1,data:O(W),class:"px-[20%] py-[2rem]"},null,8,["data"])):(k(),x("div",M,[w(a,null,{"header-left":C(function(){return[w(r,{type:"primary",onClick:Y},{default:C(function(){return n(e[3]||(e[3]=[I(" 创建系统用户 ",-1)]))}),_:1}),w(r,{onClick:X},{default:C(function(){return n(e[4]||(e[4]=[I("堡塔防入侵",-1)]))}),_:1})]}),content:C(function(){return[T(w(u,{column:on,data:O(B)},null,8,["data"]),[[c,O($)],[c,"正在加载列表，请稍后...","title"]])]}),_:1}),e[5]||(e[5]=A("ul",{class:"mt-[.8rem] leading-8 text-small list-disc ml-[2rem]"},[A("li",null,"开启防提权，系统会针对该用户操作命令进行限制，并记录跟踪"),A("li",null,"不开启防提权，系统只针对该用户操作过的命令做记录跟踪"),A("li",null,"目前防提权默认只针对www,redis,mysql操作引起的提权问题进行处理"),A("li",{class:"text-danger"},"消息推送需要更新至最新面板的版本(2020-06-17日之后安装的版本|或者2020-06-17日之后点击过修复面板)")],-1))])),w(l,{title:"修改密码",modelValue:O(R),"onUpdate:modelValue":e[1]||(e[1]=function(n){return V(R)?R.value=n:null}),area:38,showFooter:"",onConfirm:tn,onCancel:e[2]||(e[2]=function(){return Z.value=""})},{default:C(function(){return[A("div",J,[e[6]||(e[6]=A("span",{class:"inline-block w-[8rem] text-right"},"新密码",-1)),w(i,{class:"ml-[1.2rem]",isNull:!0,iconType:"refresh",modelValue:O(Z),"onUpdate:modelValue":e[0]||(e[0]=function(n){return V(Z)?Z.value=n:null}),placeholder:"请输入新密码"},null,8,["modelValue"])])]}),_:1},8,["modelValue"])])}}}))}}})}();
