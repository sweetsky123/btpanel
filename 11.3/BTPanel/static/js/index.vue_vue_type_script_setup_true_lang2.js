import{M as e,X as l,Q as a,J as t,k as s,e as n,j as o,_ as u,v as r,B as i,n as d,H as c,Y as p,Z as m,f as v,$ as f,l as y}from"./utils-lib.js?v=1763689792";import{c as x,r as _,w as b,x as w,y as h,e as V,C as S,z as g,D as k,A as E,S as P,R as C,H as T,ad as I,ab as K,V as U,o as A,I as j,J as R,B as D,F as L,G as N,b1 as Y,O as z,ap as F,aZ as M,an as q,ak as B,aj as G,aT as O,am as Q}from"./base-lib.js?v=1763689792";import{g as H}from"./useStore.js?v=1763689792";import{Q as X,R as J,S as Z,T as $,U as W,V as ee}from"./config.js?v=1763689792";import{C as le}from"./index117.js?v=1763689792";import{_ as ae}from"./index109.js?v=1763689792";import{_ as te}from"./index108.js?v=1763689792";const se={class:"p-[2rem]"},ne={class:"text-small flex items-center"},oe=u(x({__name:"index",setup(u){const{refs:{safeConfig:r,openPortPopup:i}}=H(),d=_(8888),c=_(!1),p=_(!1),m=()=>{p.value=!0,d.value=r.value.port},v=async()=>{await a({loading:"正在设置面板端口，请稍候...",request:X({port:d.value}),message:!0}),t("".concat(location.protocol,"//").concat(location.hostname,":").concat(d.value).concat(location.pathname),2e3)};return b(()=>i,e=>{e&&(m(),i.value=!1)},{deep:!0}),(a,t)=>{const u=s,i=T,f=I,y=K,x=n,_=U,b=o;return w(),h("div",null,[V(g(le),{label:"面板端口"},{value:S(()=>[V(u,{modelValue:g(r).port,"onUpdate:modelValue":t[0]||(t[0]=e=>g(r).port=e),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),V(i,{type:"primary",class:"!ml-12px",onClick:m},{default:S(()=>[...t[6]||(t[6]=[k("设置",-1)])]),_:1})]),desc:S(()=>[...t[7]||(t[7]=[E("span",null,[E("span",null,"建议端口范围8888 - 65535，"),E("span",{class:"text-danger"},"注意：有安全组的服务器请提前在安全组放行新端口")],-1)])]),_:1}),V(b,{title:"设置面板端口",modelValue:g(p),"onUpdate:modelValue":t[4]||(t[4]=e=>C(p)?p.value=e:null),area:40,"show-footer":!0,onConfirm:t[5]||(t[5]=a=>(()=>{if(!c.value)return e.error("请勾选同意协议"),!1;const a=Number(d.value);if(!l(a))return e.error("端口格式错误，请重新输入");p.value=!1,v()})())},{default:S(()=>[E("div",se,[t[10]||(t[10]=E("ul",{class:"help-list"},[E("li",null,"建议端口范围8888 - 65535，"),E("li",null,"注意：有安全组的服务器请提前在安全组放行新端口"),E("li",null,"如果修改端口导致面板无法访问，请在SSH命令行通过bt命令改回原来的端口")],-1)),V(y,{id:"panelPostFrom",class:"mt-[24px] flex justify-center","label-position":"left",onSubmit:t[2]||(t[2]=P(()=>{},["prevent"]))},{default:S(()=>[V(f,{label:"面板端口"},{default:S(()=>[V(u,{modelValue:g(d),"onUpdate:modelValue":t[1]||(t[1]=e=>C(d)?d.value=e:null),class:"w-[21rem] edit-input"},null,8,["modelValue"])]),_:1})]),_:1}),V(_,{modelValue:g(c),"onUpdate:modelValue":t[3]||(t[3]=e=>C(c)?c.value=e:null),class:"pl-16px"},{default:S(()=>[E("div",ne,[t[9]||(t[9]=k("我已了解,",-1)),V(x,{href:"https://www.bt.cn/bbs/thread-40037-1-1.html"},{default:S(()=>[...t[8]||(t[8]=[k("如何放行端口？",-1)])]),_:1})])]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-90716bc7"]]),ue={class:"p-[2.8rem]"},re=u(x({__name:"index",setup(e){const{refs:{safeConfig:l}}=H(),t=_(""),n=_(!1),u=()=>{t.value=l.value.admin_path,n.value=!0},i=async e=>{e=await r(e),await a({request:J({admin_path:e}),message:!0,loading:"正在设置安全入口，请稍候..."})};return(e,a)=>{const r=s,d=T,c=I,p=K,m=o;return w(),h("div",null,[V(g(le),{label:"安全入口"},{value:S(()=>[V(r,{modelValue:g(l).admin_path,"onUpdate:modelValue":a[0]||(a[0]=e=>g(l).admin_path=e),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),V(d,{type:"primary",class:"!ml-12px",onClick:u},{default:S(()=>[...a[5]||(a[5]=[k("设置",-1)])]),_:1})]),desc:S(()=>[...a[6]||(a[6]=[E("span",null,"面板管理入口，设置后只能通过指定安全入口登录面板,如: /www_bt_cn",-1)])]),_:1}),V(m,{title:"设置面板安全入口",modelValue:g(n),"onUpdate:modelValue":a[2]||(a[2]=e=>C(n)?n.value=e:null),area:40,"show-footer":"",onConfirm:a[3]||(a[3]=e=>(l.value.admin_path=t.value,i(t.value),void(n.value=!1))),onSubmit:a[4]||(a[4]=P(()=>{},["prevent"]))},{default:S(()=>[E("div",ue,[V(p,{class:"flex justify-center","label-position":"right"},{default:S(()=>[V(c,{label:"安全入口"},{default:S(()=>[V(r,{modelValue:g(t),"onUpdate:modelValue":a[1]||(a[1]=e=>C(t)?t.value=e:null),class:"!w-[24rem]"},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-60dff4cb"]]),ie={class:"p-[24px]"},de={class:"inline-block mr-[32px]"},ce={class:"font-bold text-small"},pe={class:"inline-block mr-[32px]"},me={class:"font-bold text-small"},ve={class:"inline-block mr-[32px]"},fe={class:"font-bold text-small"},ye={class:"mt-2 flex items-center"},xe={class:"w-[19rem] flex"},_e={class:"mt-2 flex items-center"},be={class:"mt-6 sslPanel"},we={class:"flex justify-between"},he={class:"flex items-center w-full"},Ve={class:"flex mt-[12px]"},Se={class:"flex-1 mr-[20px]"},ge={class:"flex-1"},ke={class:"list-disc text-secondary px-[20px] pt-[12px] leading-8"},Ee={class:"flex items-center"},Pe={class:"pt-[20px] flex flex-col"},Ce={class:"flex items-center mt-[12px] ml-[4px] px-[20px]"},Te={class:"bg-light footer-btn flex items-center justify-end mt-[20px] p-[12px] w-full"},Ie={class:"p-[2rem]"},Ke={class:"flex items-center justify-center mb-[16px]"},Ue={class:"flex flex-col bg-light p-[20px]"},Ae={key:1},je={class:"w-[24rem]"},Re={class:"w-[24rem]"},De={class:"list-disc ml-[20px] mt-[12px] leading-10 text-secondary"},Le={class:"flex items-center"},Ne={class:"p-[1.5rem]"},Ye={class:"max-h-[38rem] overflow-auto"},ze=u(x({__name:"index",setup(l){var t;const{refs:{safeConfig:u,noPortConfig:r,openSSLPopup:x}}=H(),P=_(!1),X=_(!1),J=_(!1),se=_(!1),ne=_(),oe=_(5),ue=_({sllType:1,privateKey:"",certPem:"",checked:!1,email:"",resource:"http"}),re=_({cert_type:"",domain:"",email:""}),ze=_(!1),Fe=_({certPem:"",download_root:!1,info:{},privateKey:"",rep:!1,root_password:""}),Me=[{title:"自签证书",key:1,disabled:!1},{title:"Let's Encrypt",key:2,disabled:!u.value.domain},{title:"其他证书",key:3,disabled:!1}],qe=_([]),Be=A({index:"",cert_type:"",privateKey:"",certPem:"",email:"",auth_type:""}),Ge=_(!1),Oe=[{content:"解析域名需要一定时间来生效,完成所以上所有解析操作后,请等待1分钟后再点击验证按钮"},{content:"可通过CMD命令来手动验证域名解析是否生效:\n\t\t nslookup -q=txt _acme-challenge.".concat(null==(t=u.value.domain)?void 0:t.replace("*.",""))},{content:"若您使用的是宝塔云解析插件,阿里云DNS,DnsPod作为DNS,可使用DNS接口自动解析"}],Qe=[{label:"解析域名",prop:"domain"},{label:"记录值",showOverflowTooltip:!0,render(e){const l="dns"===ue.value.resource?e.auth_value:e.file_path;return V("div",{class:"flex items-center"},[V("div",{class:"truncate w-[15rem]"},[l]),V("span",{class:"svgtofont-icon-copy ml-[4px] text-secondary text-medium w-[1.6rem] cursor-pointer",onClick:()=>i({value:l})},null)])}},{label:"类型",render:e=>"dns"===ue.value.resource?V("span",null,[e.type]):V("div",{class:"flex items-center"},[V("div",{class:"truncate w-[15rem]"},[e.content]),V("span",{class:"svgtofont-icon-copy ml-[4px] text-secondary text-medium w-[1.6rem] cursor-pointer",onClick:()=>i({value:e.content})},null)])},{label:"必需",prop:"must",width:100}],He=async()=>{try{const l=await sl(),{data:a}=await Z(Be);null==l||l.close(),e.request(a),a.status&&tl(a)}catch(l){}finally{Ge.value=!1}},Xe=e=>{window.open(e,"_blank","noopener,noreferrer")},Je=async(l,a)=>{if(!a)try{const a=await navigator.clipboard.readText(),t="key"===l?[/-----BEGIN PRIVATE KEY-----[\s\S]*?-----END PRIVATE KEY-----/,/-----BEGIN RSA PRIVATE KEY-----[\s\S]*?-----END RSA PRIVATE KEY-----/,/-----BEGIN EC PRIVATE KEY-----[\s\S]*?-----END EC PRIVATE KEY-----/]:[/-----BEGIN CERTIFICATE-----[\s\S]*?-----END CERTIFICATE-----/,/-----BEGIN CERTIFICATE REQUEST-----[\s\S]*?-----END CERTIFICATE REQUEST-----/];for(const s of t){const t=a.match(s);if(t&&t[0])switch(e.success("已从粘贴板检测到".concat("key"===l?"密钥":"证书")),l){case"key":Fe.value.privateKey=t[0];break;case"cert":Fe.value.certPem=t[0]}}}catch(t){}},Ze=e=>{ue.value.sllType=e},$e=async()=>{ze.value=!0;try{await a({loading:"正在保存面板证书配置，请稍候...",request:$({privateKey:Fe.value.privateKey,certPem:Fe.value.certPem}),message:!0,success:el})}catch(e){}finally{ze.value=!1}},We=()=>{d({title:"证书夹",area:70,compData:{onRefresh:e=>{Fe.value.certPem=(null==e?void 0:e.fullchain)||"",Fe.value.privateKey=(null==e?void 0:e.privkey)||"",Fe.value.info=(null==e?void 0:e.info)||{}}},component:()=>c(()=>import("./cert-folder.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})},el=async()=>{ze.value=!0;try{await a({loading:"正在获取面板证书配置，请稍候...",request:W(),success:e=>{var l,a;Fe.value=e.data,ue.value.privateKey=null==(l=e.data)?void 0:l.privateKey,ue.value.certPem=null==(a=e.data)?void 0:a.certPem}})}catch(e){}finally{ze.value=!1}},ll=async()=>{try{const{data:e}=await ee();re.value=e}catch(e){}},al=async(l,a,t)=>{try{const s={cert_type:l,privateKey:a,certPem:t};let n,o,u;0===l&&(delete s.cert_type,s.privateKey,s.certPem),2===ue.value.sllType&&(s.email=ue.value.email,s.auth_type=ue.value.resource),2===ue.value.sllType?setTimeout(async()=>{n=await sl()},500):o=e.load("正在设置面板证书配置，请稍候...");u=(await Z(s)).data,null==n||n.close(),null==o||o.close(),await tl(u,s)}catch(s){}finally{ze.value=!1,J.value=!1}},tl=async(l,a)=>{if(l.status){const l=e.load("正在刷新页面，请稍候...");await new Promise(e=>setTimeout(e,2e3)),l.close(),p(),sessionStorage.clear(),window.location.href="".concat("http:"===location.protocol?"https":"http","://").concat(window.location.host).concat(u.value.admin_path),ze.value=!1}else{const{certPem:e,cert_type:t,privateKey:s}=a;u.value.panelSSl=!u.value.panelSSl,m(l,"auths")&&(qe.value=l.auths,Be.index=l.index,Be.certPem=e,Be.cert_type=t,Be.privateKey=s,Be.email=ue.value.email,Be.auth_type=ue.value.resource,Ge.value=!0)}e.request(l)},sl=()=>d({area:[50,25],component:()=>c(()=>import("./cert-progress.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)});b(r,e=>{e.value&&(Fe.value.privateKey=r.value.key,Fe.value.certPem=r.value.cert,Fe.value.info.subject=r.value.certInfo.subject,Fe.value.info.issuer=r.value.certInfo.issuer,Fe.value.info.notAfter=r.value.certInfo.notAfter)}),b(x,e=>{e&&(J.value=!0,ll(),x.value=!1)},{deep:!0});const nl=e=>{(e?J:X).value&&(e?J.value=!1:X.value=!1,u.value.panelSSl=!u.value.panelSSl)},ol=l=>{(l?J:X).value&&(l=>{if(!se.value&&!l)return e.error("请勾选并同意承担风险");l?al(1,ue.value.privateKey,ue.value.certPem):(al(0),X.value=!1)})(l)};return(l,a)=>{const t=F,r=T,d=n,c=M,p=s,m=o,x=U,_=te,b=v,A=O,H=Q,Z=q,$=I,W=B,ee=G,re=K,Be=y,tl=ae,sl=f,ul=j("bt-loading");return w(),h("div",null,[V(g(le),{label:"面板SSL"},{value:S(()=>[V(t,{modelValue:g(u).panelSSl,"onUpdate:modelValue":a[0]||(a[0]=e=>g(u).panelSSl=e),onChange:a[1]||(a[1]=e=>{return(l=g(u).panelSSl)?(J.value=!0,ll()):X.value=!0,void(l?(clearInterval(ne.value),ne.value=null,oe.value=5):(ne.value&&clearInterval(ne.value),ne.value=setInterval(()=>{oe.value--,oe.value<=0&&(clearInterval(ne.value),ne.value=null,oe.value=5)},1e3)));var l})},null,8,["modelValue"]),V(r,{size:"small",class:"!ml-[12px]",onClick:a[2]||(a[2]=e=>(P.value=!0,void el()))},{default:S(()=>[...a[27]||(a[27]=[k(" 面板SSL配置 ",-1)])]),_:1})]),desc:S(()=>[a[29]||(a[29]=E("span",null,"为面板设置https协议访问，提升面板访问安全性，",-1)),V(d,{href:"https://www.bt.cn/bbs/thread-105443-1-1.html"},{default:S(()=>[...a[28]||(a[28]=[k("了解详情",-1)])]),_:1})]),_:1}),V(m,{title:"自定义面板证书",modelValue:g(P),"onUpdate:modelValue":a[13]||(a[13]=e=>C(P)?P.value=e:null),area:[70]},{default:S(()=>[R((w(),h("div",ie,[V(c,{type:"success",closable:!1},{default:S(()=>[E("div",de,[a[30]||(a[30]=k(" 认证域名：",-1)),E("span",ce,D(g(Fe).info.subject),1)]),E("div",pe,[a[31]||(a[31]=k(" 证书品牌：",-1)),E("span",me,D(g(Fe).info.issuer),1)]),E("div",ve,[a[32]||(a[32]=k(" 到期时间： ",-1)),E("span",fe,D(g(Fe).info.notAfter),1)])]),_:1}),a[50]||(a[50]=E("div",{class:"mt-6 flex items-center text-primary font-bold"},[E("span",null,"堡塔APP IOS端使用https证书需要使用非自签证书")],-1)),g(Fe).download_root?(w(),h(L,{key:0},[E("div",ye,[a[36]||(a[36]=E("span",null,"温馨提示：当前证书为自签证书，需要安装本地根证书，",-1)),V(r,{size:"small",type:"primary",class:"mr-[8px]",onClick:a[3]||(a[3]=e=>Xe("/download?filename=/www/server/panel/ssl/baota_root.pfx"))},{default:S(()=>[...a[33]||(a[33]=[k(" 下载根证书 ",-1)])]),_:1}),g(Fe).root_password?(w(),h(L,{key:0},[a[35]||(a[35]=E("span",null,"证书密码：",-1)),E("div",xe,[V(p,{modelValue:g(Fe).root_password,"onUpdate:modelValue":a[4]||(a[4]=e=>g(Fe).root_password=e),disabled:!0,placeholder:"密码为空"},null,8,["modelValue"]),V(r,{type:"primary",class:"align-sub",onClick:a[5]||(a[5]=l=>(l=>{if(!l)return e.error("当前密码为空，无法复制！");i({value:l})})(g(Fe).root_password||""))},{default:S(()=>[...a[34]||(a[34]=[k("复制 ",-1)])]),_:1})])],64)):N("",!0)]),E("div",_e,[a[38]||(a[38]=E("span",null,[E("span",{class:"text-danger"},"MAC"),k("专用本地根证书：")],-1)),V(r,{size:"small",type:"primary",class:"mr-[8px]",onClick:a[6]||(a[6]=e=>Xe("/download?filename=/www/server/panel/ssl/baota_root.crt"))},{default:S(()=>[...a[37]||(a[37]=[k(" 下载根证书 ",-1)])]),_:1}),a[39]||(a[39]=E("span",null,[k("* 无密码 "),E("span",{class:"text-danger"},"MAC"),k("需要设置信任此证书")],-1))])],64)):N("",!0),E("div",be,[E("div",we,[E("div",he,[a[41]||(a[41]=E("span",{class:"mr-4px"},"面板SSL",-1)),V(t,{modelValue:g(u).panelSSl,"onUpdate:modelValue":a[7]||(a[7]=e=>g(u).panelSSl=e),onChange:a[8]||(a[8]=e=>{return l=g(u).panelSSl,void al(l?1:0,Fe.value.privateKey,Fe.value.certPem);var l})},null,8,["modelValue"]),V(d,{href:"https://www.bt.cn/bbs/thread-105443-1-1.html",class:"ml-[12px]"},{default:S(()=>[...a[40]||(a[40]=[k(" 如何开启证书？ ",-1)])]),_:1})]),V(r,{size:"small",class:"float-right",onClick:We},{default:S(()=>[...a[42]||(a[42]=[k("证书夹",-1)])]),_:1})]),E("div",Ve,[E("div",Se,[a[43]||(a[43]=E("div",{class:"text-small mb-[8px]"},"密钥(KEY)",-1)),V(p,{class:"text-small",type:"textarea",modelValue:g(Fe).privateKey,"onUpdate:modelValue":a[9]||(a[9]=e=>g(Fe).privateKey=e),rows:13,size:"small",onFocus:a[10]||(a[10]=e=>Je("key",g(Fe).privateKey))},null,8,["modelValue"])]),E("div",ge,[a[44]||(a[44]=E("div",{class:"text-small mb-[8px]"},"证书(PEM格式)",-1)),V(p,{type:"textarea",modelValue:g(Fe).certPem,"onUpdate:modelValue":a[11]||(a[11]=e=>g(Fe).certPem=e),rows:13,size:"small",onFocus:a[12]||(a[12]=e=>Je("cert",g(Fe).certPem))},null,8,["modelValue"])])]),V(r,{type:"primary",class:"!mt-4",onClick:$e},{default:S(()=>[...a[45]||(a[45]=[k("保存",-1)])]),_:1})]),E("ul",ke,[E("li",null,[E("div",Ee,[a[47]||(a[47]=k(" 粘贴您的*.key以及*.pem内容，然后保存即可 ",-1)),V(d,{href:"https://www.bt.cn/bbs/thread-105443-1-1.html"},{default:S(()=>[...a[46]||(a[46]=[k("帮助",-1)])]),_:1})])]),a[48]||(a[48]=E("li",null,"如果浏览器提示证书链不完整,请检查是否正确拼接PEM证书",-1)),a[49]||(a[49]=E("li",null,"PEM格式证书 = 域名证书.crt + 根证书(root_bundle).crt",-1))])])),[[ul,g(ze)],[ul,"正在获取证书信息，请稍候...","title"]])]),_:1},8,["modelValue"]),V(m,{title:"关闭面板SSL",area:38,modelValue:g(X),"onUpdate:modelValue":a[17]||(a[17]=e=>C(X)?X.value=e:null),onCancel:a[18]||(a[18]=e=>nl(!1))},{default:S(()=>[E("div",Pe,[a[53]||(a[53]=E("div",{class:"flex items-center px-[20px]"},[E("i",{class:"svgtofont-el-warning-filled text-warningDark !text-titleLarge pr-4"}),E("span",{class:"text-base leading-10 text-danger"},"关闭SSL后请使用安全登录模式进行登录，否则会存在“重放攻击”风险，是否确定关闭？")],-1)),E("div",Ce,[V(x,{modelValue:g(se),"onUpdate:modelValue":a[14]||(a[14]=e=>C(se)?se.value=e:null),class:"!mr-[4px]"},null,8,["modelValue"]),a[51]||(a[51]=k(" 我已了解风险，确认关闭 ",-1))]),E("div",Te,[V(r,{type:"warning",onClick:a[15]||(a[15]=e=>nl(!1))},{default:S(()=>[...a[52]||(a[52]=[k("取消",-1)])]),_:1}),V(r,{type:"danger",onClick:a[16]||(a[16]=e=>ol(!1)),disabled:!!g(ne)||!g(se)},{default:S(()=>[k("确认关闭SSL "+D(g(ne)?"（剩余".concat(g(oe),"秒可操作）"):""),1)]),_:1},8,["disabled"])])])]),_:1},8,["modelValue"]),V(m,{title:"面板证书SSL",area:[54],modelValue:g(J),"onUpdate:modelValue":a[23]||(a[23]=e=>C(J)?J.value=e:null),"show-footer":!0,onConfirm:a[24]||(a[24]=e=>ol(!0)),onCancel:a[25]||(a[25]=e=>nl(!0))},{default:S(()=>[E("div",Ie,[E("div",Ke,[V(_,{name:"scanning-success",size:"3.2"}),a[54]||(a[54]=E("p",{class:"text-extraLarge ml-[4px]"},"立即【开启SSL证书】保护面板安全",-1))]),E("div",Ue,[a[55]||(a[55]=E("span",null,"访问步骤：",-1)),a[56]||(a[56]=E("ul",{class:"list-decimal ml-[20px] mt-[4px] leading-10"},[E("li",null,"开启https"),E("li",null,"使用https网站访问面板"),E("li",null,"如提醒风险（正常现象）点击【高级】或【详情】如下图"),E("li",null,"【继续访问】或【接受风险并继续】")],-1)),V(b,{src:"/other/bt-https.png",class:"block mt-[4px] h-[18rem] w-[28rem]"})]),V(re,{ref:"form",model:g(ue),class:"my-6"},{default:S(()=>[V($,{label:"类型"},{default:S(()=>[V(Z,{modelValue:g(ue).sllType,"onUpdate:modelValue":a[19]||(a[19]=e=>g(ue).sllType=e),class:"!w-[28rem]",onChange:Ze},{default:S(()=>[(w(),h(L,null,Y(Me,e=>V(H,{key:e.key,label:e.title,value:e.key,disabled:e.disabled},{default:S(()=>[2!==e.key||g(u).domain?(w(),h("span",Ae,D(e.title),1)):(w(),z(A,{key:0,class:"item",effect:"dark",content:"Let's Encrypt证书类型需要绑定域名才能选择",placement:"top-start"},{default:S(()=>[E("span",null,D(e.title),1)]),_:2},1024))]),_:2},1032,["label","value","disabled"])),64))]),_:1},8,["modelValue"])]),_:1}),2==g(ue).sllType?(w(),z($,{key:0,label:"验证方法"},{default:S(()=>[V(ee,{modelValue:g(ue).resource,"onUpdate:modelValue":a[20]||(a[20]=e=>g(ue).resource=e)},{default:S(()=>[V(W,{label:"http",value:"http"},{default:S(()=>[...a[57]||(a[57]=[k("文件验证",-1)])]),_:1}),V(W,{label:"dns",value:"dns"},{default:S(()=>[...a[58]||(a[58]=[k("DNS验证",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})):N("",!0),3==g(ue).sllType?(w(),z($,{key:1,label:"密钥(KEY)"},{default:S(()=>[E("div",je,[V(p,{modelValue:g(ue).privateKey,"onUpdate:modelValue":a[21]||(a[21]=e=>g(ue).privateKey=e),type:"textarea",rows:4},null,8,["modelValue"])])]),_:1})):N("",!0),3==g(ue).sllType?(w(),z($,{key:2,label:"证书(PEM格式)"},{default:S(()=>[E("div",Re,[V(p,{modelValue:g(ue).certPem,"onUpdate:modelValue":a[22]||(a[22]=e=>g(ue).certPem=e),type:"textarea",rows:4},null,8,["modelValue"])])]),_:1})):N("",!0)]),_:1},8,["model"]),E("ul",De,[E("li",null,[E("div",Le,[a[60]||(a[60]=k("开启后导致面板不能访问，可以点击查看",-1)),V(d,{href:"https://www.bt.cn/bbs/thread-117246-1-1.html"},{default:S(()=>[...a[59]||(a[59]=[k("解决方法",-1)])]),_:1})])]),a[61]||(a[61]=E("li",null,"自签证书不被浏览器信任，显示不安全是正常现象",-1))])])]),_:1},8,["modelValue"]),V(m,{modelValue:g(Ge),"onUpdate:modelValue":a[26]||(a[26]=e=>C(Ge)?Ge.value=e:null),area:70,title:"手动".concat("dns"===g(ue).resource?"解析TXT记录":"创建验证文件")},{default:S(()=>[E("div",Ne,[a[63]||(a[63]=k(" 请按以下列表做TXT解析: ",-1)),V(tl,null,{content:S(()=>[E("div",Ye,[(w(!0),h(L,null,Y(g(qe),(e,l)=>(w(),h(L,null,[e.data.length?(w(),h("div",{key:l},[E("span",null,"验证域名："+D(e.domain),1),V(Be,{class:"my-[1rem]",column:Qe,data:e.data},null,8,["data"])])):N("",!0)],64))),256))])]),"footer-right":S(()=>[V(r,{onClick:He},{default:S(()=>[...a[62]||(a[62]=[k("验证",-1)])]),_:1})]),_:1}),V(sl,{options:Oe,listStyle:"disc",class:"ml-[20px]"})])]),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-478ec3ca"]]),Fe={class:"w-[26rem]"},Me=x({__name:"index",setup(e){const{refs:{safeConfig:l},saveConfig:a}=H();return(e,t)=>{const n=s,o=T;return w(),z(g(le),{label:"绑定域名"},{value:S(()=>[E("div",Fe,[V(n,{modelValue:g(l).domain,"onUpdate:modelValue":t[0]||(t[0]=e=>g(l).domain=e)},null,8,["modelValue"])]),V(o,{type:"primary",class:"!ml-12px",onClick:t[1]||(t[1]=e=>{a("正在绑定域名，请稍候...")})},{default:S(()=>[...t[2]||(t[2]=[k("保存",-1)])]),_:1})]),desc:S(()=>[...t[3]||(t[3]=[E("span",null,"为面板绑定一个访问域名，",-1),E("span",{class:"text-danger"},"注意：一旦绑定域名，只能通过域名访问面板",-1)])]),_:1})}}});export{oe as P,re as S,Me as _,ze as a};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
