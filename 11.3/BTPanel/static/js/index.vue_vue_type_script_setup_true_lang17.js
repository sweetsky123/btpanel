import{c as s,s as e,g as l,v as t,x as a,y as i,z as n,D as r,A as o,G as p,e as u,C as c,F as m,B as d,H as v,aZ as x}from"./base-lib.js?v=1763689792";import{aj as f}from"./utils-lib.js?v=1763689792";import{u as b,S as k}from"./useStore4.js?v=1763689792";import{t as y,m as g,h as j,j as h,k as S}from"./useController15.js?v=1763689792";import{u as C}from"./useStore12.js?v=1763689792";const _={class:"relative h-full"},z={key:0,class:"bg-light flex items-center justify-center h-full",style:{"min-height":"600px"}},w={key:0,class:"bg-lighter px-[48px] py-[16px] text-default"},T={key:1,class:"bg-lighter px-[48px] py-[16px] text-default"},A={key:1,class:"relative"},B={key:0,class:"mb-[16px]"},E={class:"flex items-center justify-between w-full"},I={class:"flex items-center"},L={class:"mr-[32px] text-small flex items-center"},D=["title"],F=s({__name:"index",setup(s,{expose:F}){const{isBindExtranet:G}=b(),{siteType:H,siteInfo:N}=e(k()),{jumpTabEvent:R}=k(),{sslTabActive:Z,sslAlertState:q,sslInfo:J}=C(),K=l(()=>{var s,e;return"java"===H.value?null!==(null==(s=N.value)?void 0:s.pid):"phpasync"===H.value?!!(null==(e=N.value)?void 0:e.status):N.value.run}),M=l(()=>!K.value&&["java","nodejs","go","python","net"].includes(H.value)),{BtTabs:O}=f({type:"card",options:y,value:Z});return t(g),F({init:g}),(s,e)=>{const l=v,t=x;return a(),i("div",_,[!n(G)||n(M)?(a(),i("div",z,[n(G)?n(M)?(a(),i("div",T,[e[7]||(e[7]=r(" 请 ",-1)),o("span",{class:"!inline-block bt-link",onClick:e[1]||(e[1]=s=>n(R)("state"))}," 启动项目 "),e[8]||(e[8]=r(" 后再管理SSL ",-1))])):p("",!0):(a(),i("div",w,[e[5]||(e[5]=r(" 请开启 ",-1)),o("span",{class:"!inline-block bt-link",onClick:e[0]||(e[0]=s=>n(R)("mapping"))}," 外网映射 "),e[6]||(e[6]=r(" 后查看配置信息 ",-1))]))])):(a(),i("div",A,[n(q)?(a(),i("div",B,[u(t,{type:"error",class:"mb-[16px]",closable:!1},{title:c(()=>{var s,t,v;return[o("div",E,[o("div",I,[(null==(s=n(J))?void 0:s.isStart)?p("",!0):(a(),i(m,{key:0},[e[10]||(e[10]=o("div",{class:"mr-[32px] text-small"},"温馨提示：当前站点未开启SSL证书访问，站点访问可能存在风险。",-1)),u(l,{type:"primary",size:"small",onClick:n(j)},{default:c(()=>[...e[9]||(e[9]=[r(" 申请证书 ",-1)])]),_:1},8,["onClick"])],64)),(null==(t=n(J))?void 0:t.isSupportRenewal)&&(null==(v=n(J))?void 0:v.isStart)?(a(),i(m,{key:1},[o("div",L,[e[11]||(e[11]=r(" 温馨提示：当前[ ",-1)),o("span",{class:"flex max-w-[20rem] truncate leading-[18px] inline-block",title:n(J).dns.join("、")},d(n(J).dns.join("、")),9,D),r(" ]证书"+d(Number(n(J).endtime)<0?"已过期":"即将过期"),1)]),u(l,{type:"primary",size:"small",onClick:e[2]||(e[2]=s=>n(h)())},{default:c(()=>[...e[12]||(e[12]=[r(" 续签证书 ",-1)])]),_:1})],64)):p("",!0)]),o("span",{class:"bt-link absolute top-.7rem z-10 right-1.2rem flex items-center",onClick:e[3]||(e[3]=(...s)=>n(S)&&n(S)(...s))},[...e[13]||(e[13]=[o("span",{class:"svgtofont-desired text-medium"},null,-1),r(" 需求反馈 ",-1)])])])]}),_:1})])):p("",!0),u(n(O)),n(q)?p("",!0):(a(),i("span",{key:1,class:"bt-link absolute top-.7rem z-10 right-0 flex items-center",onClick:e[4]||(e[4]=(...s)=>n(S)&&n(S)(...s))},[...e[14]||(e[14]=[o("span",{class:"svgtofont-desired text-medium"},null,-1),r(" 需求反馈 ",-1)])]))]))])}}});export{F as _};
