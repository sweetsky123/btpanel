import{c as e,t as a,g as l,e as s,V as t,D as o,H as r,v as d,a8 as u,x as n,O as m,C as i,A as p,z as c,y as f,b1 as b,F as v,ag as y,ad as _,B as h,G as j,aA as x}from"./base-lib.js?v=1763689792";import{L as k,bE as C,_ as w}from"./utils-lib.js?v=1763689792";import{ay as V,az as g,aA as D,at as S,aB as A,aC as L,E,aD as U,aE as z,aF as B,aG as F,aH as G,aI as H,aJ as I}from"./useController15.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./site.js?v=1763689792";import"./index109.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./useStore12.js?v=1763689792";import"./useStore4.js?v=1763689792";import"./useController6.js?v=1763689792";import"./validator.js?v=1763689792";import"./index107.js?v=1763689792";import"./useController5.js?v=1763689792";import"./useMethod5.js?v=1763689792";import"./useController4.js?v=1763689792";import"./ssl.js?v=1763689792";const N={class:"p-[12px] border-[1px] w-[50rem] h-[22rem] flex flex-col overflow-auto rounded-default border-lighter checkGroup"},W={class:"w-[41rem] flex items-center justify-between"},J=w(e({__name:"applay-lest-ssl",props:{compData:{}},setup(e,{expose:w}){const J=e;a(J);const{BtForm:M,submit:O,param:P}=k({data:V,options:e=>l(()=>[{type:"radio",label:"验证方法",key:"resource",options:[{label:"文件验证",value:"0"},{label:"DNS验证(支持通配符)",value:"1"}]},..."1"===e.value.resource?[{type:"custom",render:()=>s(C,{label:" "},{default:()=>[s(t,{modelValue:e.value.auth_to,"onUpdate:modelValue":a=>e.value.auth_to=a},{default:()=>[o("手动解析")]})]})},{type:"custom",render:()=>s(C,{label:" "},{default:()=>[s(t,{modelValue:e.value.autoWildcard,"onUpdate:modelValue":a=>e.value.autoWildcard=a},{default:()=>[o("自动组合泛域名")]}),s("div",{class:"text-small"},[o("* 如需申请通配符域名请勾选此项，且不要在下方域名列表中选中泛域名")])]})}]:[],{type:"slots",key:"domain"},{type:"custom",render:()=>s(C,{label:" "},{default:()=>[s(r,{type:"primary",onClick:()=>O()},{default:()=>[o("申请证书")]})]})},{type:"help",options:g.value}]),submit:async e=>await D(e)});return w({onConfirm:O}),d(async()=>{var e;S.value="dns",(null==(e=J.compData)?void 0:e.isRenew)&&(A.value=!0),await L(),await E()}),u(U),(e,a)=>{const l=r,d=x,u=y,k=_;return n(),m(c(M),{class:"p-2rem"},{domain:i(()=>[s(k,{label:"域名"},{default:i(()=>[p("div",N,[s(c(t),{indeterminate:c(z),class:"w-full mb-[6px] !border-none !p-[1rem]",modelValue:c(P).checkAll,"onUpdate:modelValue":a[0]||(a[0]=e=>c(P).checkAll=e),onChange:c(B),border:""},{default:i(()=>[...a[2]||(a[2]=[o(" 全选 ",-1)])]),_:1},8,["indeterminate","modelValue","onChange"]),s(u,{class:"flex flex-col",modelValue:c(P).checkList,"onUpdate:modelValue":a[1]||(a[1]=e=>c(P).checkList=e),onChange:c(F)},{default:i(()=>[(n(!0),f(v,null,b(c(G),e=>(n(),m(d,{placement:"top",effect:"dark",trigger:"hover",width:"280",disabled:1===e.apply_ssl,key:e.name},{default:i(()=>[...a[3]||(a[3]=[p("div",{class:"flex flex-col"},[p("span",null,"Let's Encrypt证书不支持申请IP证书"),p("span",null,"请选择【商用证书】的多域名SSL证书申请")],-1)])]),reference:i(()=>[(n(),m(c(t),{class:"w-full !mx-0 mb-[6px] overflow-hidden",disabled:0===e.apply_ssl,value:e.name,key:e.name,border:""},{default:i(()=>[p("div",W,[p("span",null,h(e.name),1),"1"!==c(P).resource||0!==e.dns_status||c(P).auth_to||c(H)(e.name)?j("",!0):(n(),m(l,{key:0,type:"primary",size:"small",class:"ml-auto",onClick:a=>c(I)(e)},{default:i(()=>[...a[4]||(a[4]=[o(" 配置DNS ",-1)])]),_:1},8,["onClick"]))])]),_:2},1032,["disabled","value"]))]),_:2},1032,["disabled"]))),128))]),_:1},8,["modelValue","onChange"])])]),_:1})]),_:1})}}}),[["__scopeId","data-v-c651bb5a"]]);export{J as default};
