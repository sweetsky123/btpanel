!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,r,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function i(e,o,u,a){var i=o&&o.prototype instanceof c?o:c,l=Object.create(i.prototype);return n(l,"_invoke",function(e,n,o){var u,a,i,c=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,n){return u=e,a=0,i=t,p.n=n,s}};function v(e,n){for(a=e,i=n,r=0;!f&&c&&!o&&r<l.length;r++){var o,u=l[r],v=p.p,m=u[2];e>3?(o=m===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=v&&((o=e<2&&v<u[1])?(a=0,p.v=n,p.n=u[1]):v<m&&(o=e<3||u[0]>n||n>m)&&(u[4]=e,u[5]=n,p.n=m,a=0))}if(o||e>1)return s;throw f=!0,n}return function(o,l,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&v(l,m),a=l,i=m;(r=a<2?t:i)||!f;){u||(a?a<3?(a>1&&(p.n=-1),v(a,i)):p.n=i:p.v=i);try{if(c=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(f=p.n<0)?i:e.call(n,p))!==s)break}catch(r){u=t,a=1,i=r}finally{c=1}}return{value:r,done:f}}}(e,u,a),!0),l}var s={};function c(){}function l(){}function f(){}r=Object.getPrototypeOf;var p=[][u]?r(r([][u]())):(n(r={},u,function(){return this}),r),v=f.prototype=c.prototype=Object.create(p);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,n(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t}return l.prototype=f,n(v,"constructor",f),n(f,"constructor",l),l.displayName="GeneratorFunction",n(f,a,"GeneratorFunction"),n(v),n(v,a,"Generator"),n(v,u,function(){return this}),n(v,"toString",function(){return"[object Generator]"}),(e=function(){return{w:i,m:m}})()}function n(t,e,r,o){var u=Object.defineProperty;try{u({},"",{})}catch(t){u=0}n=function(t,e,r,o){function a(e,r){n(t,e,function(t){return this._invoke(e,r,t)})}e?u?u(t,e,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[e]=r:(a("next",0),a("throw",1),a("return",2))},n(t,e,r,o)}function r(t,e,n,r,o,u,a){try{var i=t[u](a),s=i.value}catch(t){return void n(t)}i.done?e(s):Promise.resolve(s).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(o,u){var a=t.apply(e,n);function i(t){r(a,o,u,i,s,"next",t)}function s(t){r(a,o,u,i,s,"throw",t)}i(void 0)})}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function a(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}System.register(["./base-lib-legacy.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./validator-legacy.js?v=1763689792"],function(t,n){"use strict";var r,i,s,c,l,f,p,v,m,d,y,b,g,h,w,j,_,O,k,x,P,S,I,T,G,N,C,E,q,D,z,B,F,R;return{setters:[function(t){r=t.c,i=t.Y,s=t.r,c=t.Z,l=t.g,f=t.w,p=t.v,v=t.I,m=t.x,d=t.O,y=t.C,b=t.J,g=t.z,h=t.y,w=t.A,j=t.e,_=t.B,O=t.L,k=t.G,x=t.bi,P=t.bj,S=t.H,I=t.aA},function(t){T=t.aH,G=t.p,N=t.Q,C=t.bW,E=t.f,q=t.d,D=t.Z,z=t.b2,B=t._},function(t){F=t._},function(t){R=t.l}],execute:function(){var n={class:"flex items-center justify-center"},A={class:"h-[2.2rem] w-[2.2rem] flex overflow-hidden justify-center items-center status-icon <2xl:hidden"},H={class:"<2xl:hidden"},W=function(t){return t.stop="停止",t.start="启动",t.restart="重启",t.reload="重载",t}(W||{}),Z=r({__name:"index",props:i({pluginInfo:{default:function(){return{title:"",name:"defalut",status:!1,version:"",admin:!1,setup:!1,s_version:"",s_status:!1}}},pluginName:{default:"defalut"},isRequest:{type:Boolean,default:!0}},{pluginInfo:{default:{title:"",name:"",status:!0,version:"",admin:!1,s_version:""}},pluginInfoModifiers:{}}),emits:["update:pluginInfo"],setup:function(t){var r=t,i=s(!1),B=s(!1),Z=s(0),J=s(!1),L=c(t,"pluginInfo"),M=l(function(){return W[L.value.s_status?"stop":"start"]});f(function(){return r.pluginInfo},function(t){if(i.value=!1,!r.isRequest){if(D(t,"s_status"))L.value=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},t);else{var e=t.title_en,n=t.name,o=t.version,s=t.admin,c=t.s_version,l=t.status;L.value={title:e,name:n,status:l,version:o,admin:s,s_version:c,s_status:l}}i.value=!0}},{immediate:!0,deep:!0});var Q=function(){var t=o(e().m(function t(){var n,o;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,B.value=!0,t.n=1,T({sName:r.pluginInfo.name||r.pluginName});case 1:n=t.v,o=n.data,L.value=o,J.value=!0,t.n=3;break;case 2:t.p=2,t.v,L.value.s_status=!1,J.value=!0;case 3:return t.p=3,B.value=!1,i.value=!1,t.f(3);case 4:return t.a(2)}},t,null,[[0,2,3,4]])}));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=o(e().m(function t(){var n,r,o;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,n=["nginx","apache","openlitespeed"].includes(L.value.name)?"web":"pureftpd"===L.value.name?"pure-ftpd":L.value.name,t.n=1,z({name:n});case 1:r=t.v,o=r.data,setTimeout(function(){L.value=o,J.value=!0},100),t.n=3;break;case 2:t.p=2,t.v,L.value.status=!1;case 3:return t.a(2)}},t,null,[[0,2]])}));return function(){return t.apply(this,arguments)}}(),$=function(){R({name:L.value.name})},K=function(){var t=o(e().m(function t(n){var u,a;return e().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,u=W[n],a=r.pluginInfo.s_version,t.n=1,G({title:u+a,icon:"warning-filled",content:"你确定要".concat(u).concat(a,"服务，是否继续？")});case 1:return t.n=2,N({loading:B,request:C({name:a,type:n}),message:!0,success:function(){var t=o(e().m(function t(){return e().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Y();case 1:J.value=!0;case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()});case 2:t.n=4;break;case 3:t.p=3,t.v;case 4:return t.a(2)}},t,null,[[0,3]])}));return function(e){return t.apply(this,arguments)}}(),U=function(){Z.value=document.body.clientWidth};return p(function(){(r.pluginInfo.title||r.pluginName)&&r.isRequest&&Q(),U(),window.onresize=U}),function(e,r){var o=F,u=E,a=q,s=S,c=I,l=v("bt-loading");return m(),d(c,{placement:"top-start",width:"redis"===L.value.name?140:200,class:"","popper-class":"white-tips-popover",trigger:"hover"},{reference:y(function(){return[b((m(),h("div",x(P(e.$attrs)),[g(i)?(m(),d(s,{key:0,type:L.value.s_status?"default":"danger",class:"plugin-status-btn",plain:"",onClick:$},{default:y(function(){return[w("div",{class:O(["h-full inline-block flex items-center",L.value.s_status?"hover:text-primary":"hover:text-danger"])},[w("span",A,[j(u,{src:"/static/icons/soft/ico-".concat(L.value.name||t.pluginName||"defalut",".svg"),class:"inline-block",all:!0},null,8,["src"])]),w("span",null,_(L.value.title),1),w("span",H," "+_(L.value.version),1),j(a,{icon:"icon-"+(L.value.s_status?"start":"stop"),class:O(["ml-[4px]",L.value.s_status?"!text-primary":"!text-danger"])},null,8,["icon","class"])],2)]}),_:1},8,["type"])):k("",!0)],16)),[[l,g(B)],[l,"small","size"]])]}),default:y(function(){return[w("div",n,[w("span",{class:"bt-link",onClick:r[0]||(r[0]=function(t){return K(L.value.s_status?"stop":"start")})},_(g(M)),1),j(o),w("span",{class:"bt-link",onClick:r[1]||(r[1]=function(t){return K("restart")})},"重启"),j(o),w("span",{class:"bt-link",onClick:r[2]||(r[2]=function(t){return K("reload")})},"重载"),"redis"!==L.value.name?(m(),d(o,{key:0})):k("",!0),"redis"!==L.value.name?(m(),h("span",{key:1,class:"bt-link",onClick:r[3]||(r[3]=function(t){return g(R)({name:L.value.name})})},"告警设置")):k("",!0)])]}),_:1},8,["width"])}}});t("B",B(Z,[["__scopeId","data-v-ef61e40a"]]))}}})}();
