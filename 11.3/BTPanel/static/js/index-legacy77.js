!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=["type_id"];function n(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function c(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof u?r:u,l=Object.create(c.prototype);return s(l,"_invoke",function(n,r,o){var i,u,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,n){return i=e,u=0,c=t,p.n=n,a}};function v(n,r){for(u=n,c=r,e=0;!f&&l&&!o&&e<s.length;e++){var o,i=s[e],v=p.p,y=i[2];n>3?(o=y===r)&&(c=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=v&&((o=n<2&&v<i[1])?(u=0,p.v=r,p.n=i[1]):v<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,u=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&v(s,y),u=s,c=y;(e=u<2?t:c)||!f;){i||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(l=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(f=p.n<0)?c:n.call(r,p))!==a)break}catch(e){i=t,u=1,c=e}finally{l=1}}return{value:e,done:f}}}(n,o,i),!0),l}var a={};function u(){}function c(){}function f(){}e=Object.getPrototypeOf;var p=[][r]?e(e([][r]())):(s(e={},r,function(){return this}),e),v=f.prototype=u.prototype=Object.create(p);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t}return c.prototype=f,s(v,"constructor",f),s(f,"constructor",c),c.displayName="GeneratorFunction",s(f,o,"GeneratorFunction"),s(v),s(v,o,"Generator"),s(v,r,function(){return this}),s(v,"toString",function(){return"[object Generator]"}),(l=function(){return{w:i,m:y}})()}function s(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}s=function(t,e,n,r){function i(e,n){s(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},s(t,e,n,r)}function f(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){f(i,r,o,a,u,"next",t)}function u(t){f(i,r,o,a,u,"throw",t)}a(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./index-legacy109.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./useController-legacy6.js?v=1763689792","./useStore-legacy4.js?v=1763689792","./index-legacy147.js?v=1763689792","./validator-legacy.js?v=1763689792","./index.vue_vue_type_style_index_0_scoped_cdc7f4d3_lang-legacy.js?v=1763689792","./site-legacy.js?v=1763689792"],function(t,o){"use strict";var i,a,c,s,f,v,y,d,m,b,g,h,j,O,_,w,S,x,k,C,P,T,E,I,A,G,B,D,F,L,N,U,M,q,J,R,V,z,H,K,Q,$,W,X,Y,Z,tt,et,nt,rt,ot,it,at,ut,ct,lt,st,ft,pt;return{setters:[function(t){i=t.n,a=t.H,c=t.Q,s=t.az,f=t.b,v=t.u,y=t.b3,d=t.an,m=t.q,b=t.x,g=t.ap},function(t){h=t._},function(t){j=t.r,O=t.c,_=t.s,w=t.e,S=t.D,x=t.w,k=t.v,C=t.n,P=t.x,T=t.O,E=t.C,I=t.z,A=t.A,G=t.y,B=t.b1,D=t.F,F=t.R,L=t.an,N=t.am},function(t){U=t.c,M=t.a,q=t.d,J=t.g,R=t.u},function(t){V=t.c,z=t.h,H=t.e,K=t.l,Q=t.g,$=t.i,W=t.s,X=t.j,Y=t.u,Z=t.a,tt=t.k},function(t){et=t.u,nt=t.S},function(t){rt=t.u},function(t){ot=t.i,it=t.o,at=t.h},null,function(t){ut=t.getVersionList,ct=t.setGoEnvironment,lt=t.modifyProject,st=t.createProject,ft=t.batchStatus,pt=t.batchDelSite}],execute:function(){var vt=f(),yt=et(),dt=yt.siteInfo,mt=yt.isRefreshList,bt=yt.activeType,gt=nt().setSiteInfo,ht=j(""),jt=j([]),Ot=function(){dt.value=null,i({title:"添加Go项目",area:62,component:function(){return a(function(){return o.import("./index-legacy392.js?v=1763689792")},void 0,o.meta.url)},showFooter:!0})},_t=function(t){gt(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:""),i({title:"Go项目管理["+t.name+"] -- 添加时间["+t.addtime+"]",area:[84,72],component:function(){return a(function(){return o.import("./index-legacy393.js?v=1763689792")},void 0,o.meta.url)}})},wt=function(){var t=p(l().m(function t(){var e;return l().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,ut("go");case 1:e=t.v,ht.value=e.data.used,jt.value=e.data.sdk.all.filter(function(t){return t.installed}).map(function(t){return{label:t.version,value:t.version}}),t.n=3;break;case 2:t.p=2,t.v;case 3:return t.a(2)}},t,null,[[0,2]])}));return function(){return t.apply(this,arguments)}}(),St=function(){var t=p(l().m(function t(){return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,c({loading:"正在设置，请稍后...",request:ct({name:ht.value}),message:!0});case 1:t.v.status&&wt();case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),xt=function(t){var e=t.split("\n").filter(function(t){return""!==t}),n=[];return e.forEach(function(t){var e=t.split("=");n.push({k:e[0],v:e[1]})}),n},kt=(t("a",function(){var t=p(l().m(function t(e,n,r){var o,i,a,u,f,p;return l().w(function(t){for(;;)switch(t.n){case 0:return""!==(o=Object.assign({},e.value)).domains?(o.bind_extranet=1,o.domains=s(o.domains)?o.domains.split("\n"):o.domains):(o.bind_extranet=0,delete o.domains),i=e.value.env,1===r&&(i=xt(i)),o.env_file=2===r?e.value.envPath:"",o.env_list=JSON.stringify(1===r?i:[]),t.n=1,n();case 1:return a={data:JSON.stringify(o)},u=dt.value?lt:st,t.n=2,c({request:u(a,"go")});case 2:return f=t.v,p=f.data,vt.msg({dangerouslyUseHTMLString:!0,message:p.status?p.data:p.error_msg,type:p.status?"success":"error",duration:p.status?2e3:0,showClose:!p.status,customClass:"!max-w-[66rem]"}),f.status&&(mt.value=!0),t.a(2,f.status)}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()),function(){var t=p(l().m(function t(e,n,r,o,i,a){var c,s,f,v,y,d;return l().w(function(t){for(;;)switch(t.n){case 0:return c=o.label,s=o.value,f=a.enable,v=a.exclude,y=new Map([["start","批量启动选中项目后，项目将正常访问"],["stop","批量停用选中的项目后，项目将会停止运行"],["restart","批量重启选中的项目后，项目将会重新启动"],["delete","批量删除选中的项目后，项目将无法恢复"]]),d=function(){var t=p(l().m(function t(e){var n,o,i,a,u,c;return l().w(function(t){for(;;)switch(t.n){case 0:n=new Map([["start",ft],["stop",ft],["restart",ft],["delete",pt]]),o=n.get(s),c=s,t.n="start"===c||"stop"===c||"restart"===c?1:"delete"===c?4:6;break;case 1:if(!o){t.n=3;break}return i=r.value.map(function(t){return{project_name:t.name}}),a=at(!1,v,f,{params:{site_list:JSON.stringify(i),status:s,project_type:bt.value.toUpperCase()}}),t.n=2,o(a,bt.value);case 2:case 5:return t.a(2,t.v);case 3:return t.a(3,6);case 4:if(!o){t.n=6;break}return u=at(r.value,v,f,{params:{project_type:bt.value.toUpperCase()}}),t.n=5,o(u);case 6:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),t.n=1,e({title:"批量".concat(c),content:"".concat(y.get(s),"，是否继续操作？"),column:[{label:"项目名称",prop:"name"},U()],onConfirm:function(){var t=p(l().m(function t(){var e,n,r;return l().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,d();case 1:e=t.v,mt.value=!0,i&&i(),n=ot(e.data),r=(r=n.data).map(function(t){return u(u({},t),{},{name:t.name||t.project_name})}),it(r,{title:"".concat(c,"网站")});case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}()});case 1:return t.a(2)}},t)}));return function(e,n,r,o,i,a){return t.apply(this,arguments)}}()),Ct={class:"flex items-center mx-12px"},Pt=O({__name:"index",setup:function(t){v();var i=nt(),c=i.getSiteList,s=i.setSiteInfo,f=_(nt()),j=(f.activeType,f.isRefreshList),O=f.siteInfo,U=y({options:[{type:"button",label:"添加项目",active:!0,onClick:Ot},{type:"button",label:"SDK版本管理",onClick:function(){K("go",wt)}}]}).BtOperation,et=rt({key:"type_id",name:"Go分类",options:function(){return[{label:"全部分类",value:"all"}]},event:$,ignore:["0"],field:"type_name"}),ot=g([{label:"启用项目",value:"start",event:kt},{label:"停用项目",value:"stop",event:kt},{label:"重启项目",value:"restart",event:kt},Y(),Z({classList:tt}),{label:"删除项目",value:"delete",event:kt}]),it=d({request:function(t){var n=t.type_id,r=function(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(t,e);return c({data:JSON.stringify(u(u({},r),{},{type_id:m(n)||"all"===n?"":n}))})},columns:[M({type:"page",key:"id"}),V({onClick:function(t){_t(t)}}),z({onClick:function(t,e){if("setting"!==e){var n=t.run?"stop":"start";W(t,"restart"===e?e:n)}else _t(t,"state")}}),{label:"PID",isCustom:!1,render:function(t){var e;return m(t.load_info)||0===(null===(e=Object.keys(t.load_info))||void 0===e?void 0:e.length)?"--":Object.entries(t.load_info).map(function(t){var e=r(t,2),n=e[0];e[1];return"".concat(n)}).join(", ")}},{label:"监听端口",isCustom:!1,render:function(t){var e,n;return m(t.listen)||0===(null===(e=t.listen)||void 0===e?void 0:e.length)?"--":(null===(n=t.listen)||void 0===n?void 0:n.join(","))||"--"}},{label:"CPU",isCustom:!1,render:function(t){var e;return m(t.load_info)||0===(null===(e=Object.keys(t.load_info))||void 0===e?void 0:e.length)?"--":Object.entries(t.load_info).map(function(t){var e=r(t,2),n=(e[0],e[1]);return"".concat(n.cpu_percent.toFixed(2),"%")}).join(", ")}},{label:"内存",isCustom:!1,render:function(t){var e;return m(t.load_info)||0===(null===(e=Object.keys(t.load_info))||void 0===e?void 0:e.length)?"--":Object.entries(t.load_info).map(function(t){var e=r(t,2),n=(e[0],e[1]);return"".concat(b(n.memory_used))}).join(", ")}},q(),J({table:"sites",width:200}),H({onClick:function(t){_t(t,"ssl")}}),R([{title:"设置",onClick:function(t){_t(t)}},{title:"删除",onClick:function(t){X(t)}}])],extension:[et,ot],empty:function(){return w("span",null,[S("您的列表为空，您可以"),w("span",{class:"bt-link",onClick:Ot},[S("添加一个项目")])])}}),at=it.BtTable,ut=it.BtPage,ct=it.BtRefresh,lt=it.BtSearch,st=it.BtColumn,ft=it.BtBatch,pt=it.BtTableCategory,vt=it.refresh,yt=it.config;return x(j,function(){var t=p(l().m(function t(e){var n,r;return l().w(function(t){for(;;)switch(t.n){case 0:if(!e){t.n=2;break}return t.n=1,vt();case 1:null!==(n=O.value)&&void 0!==n&&n.name&&(r=yt.data.find(function(t){return t.name===O.value.name}))&&s(r),j.value=!1;case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()),k(function(){wt(),C(function(){a(function(){return o.import("./index-legacy392.js?v=1763689792")},void 0,o.meta.url),a(function(){return o.import("./index-legacy393.js?v=1763689792")},void 0,o.meta.url)})}),function(t,e){var r=N,o=L,i=h;return P(),T(i,null,{"header-left":E(function(){return[w(I(U)),A("div",Ct,[e[4]||(e[4]=A("span",{class:"mr-4px"},"命令行版本",-1)),w(o,{class:"!w-[10rem]",placeholder:"未设置",modelValue:I(ht),"onUpdate:modelValue":e[1]||(e[1]=function(t){return F(ht)?ht.value=t:null}),options:I(jt),onChange:I(St)},{footer:E(function(){return[A("div",{class:"flex items-center justify-center py-[.8rem] cursor-pointer",onClick:e[0]||(e[0]=function(t){return I(K)("go",I(wt))})},n(e[3]||(e[3]=[A("span",{class:"bt-link"},"前往管理",-1)])))]}),default:E(function(){return[(P(!0),G(D,null,B(I(jt),function(t,e){return P(),T(r,{key:e,label:t.label,value:t.value},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","options","onChange"])]),A("div",{class:"flex items-center ml-1rem",onClick:e[2]||(e[2]=function(){return I(Q)&&I(Q).apply(void 0,arguments)})},n(e[5]||(e[5]=[A("i",{class:"svgtofont-desired text-medium"},null,-1),A("span",{class:"bt-link"},"需求反馈",-1)])))]}),"header-right":E(function(){return[w(I(pt),{class:"!w-[200px] mr-[10px]"}),w(I(lt),{class:"mr-[10px]",placeholder:"请输入项目名称或备注"}),w(I(ct),{class:"mr-[10px]"}),w(I(st))]}),content:E(function(){return[w(I(at))]}),"footer-left":E(function(){return[w(I(ft))]}),"footer-right":E(function(){return[w(I(ut))]}),_:1})}}}),Tt=Object.freeze(Object.defineProperty({__proto__:null,default:Pt},Symbol.toStringTag,{value:"Module"}));t("i",Tt)}}})}();
