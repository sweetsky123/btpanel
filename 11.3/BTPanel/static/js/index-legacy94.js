!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",u=n.toStringTag||"@@toStringTag";function a(n,r,i,u){var a=r&&r.prototype instanceof s?r:s,l=Object.create(a.prototype);return o(l,"_invoke",function(n,r,o){var i,u,a,s=0,l=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return i=e,u=0,a=t,p.n=n,c}};function d(n,r){for(u=n,a=r,e=0;!f&&s&&!o&&e<l.length;e++){var o,i=l[e],d=p.p,v=i[2];n>3?(o=v===r)&&(a=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=n<2&&d<i[1])?(u=0,p.v=r,p.n=i[1]):d<v&&(o=n<3||i[0]>r||r>v)&&(i[4]=n,i[5]=r,p.n=v,u=0))}if(o||n>1)return c;throw f=!0,r}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&d(l,v),u=l,a=v;(e=u<2?t:a)||!f;){i||(u?u<3?(u>1&&(p.n=-1),d(u,a)):p.n=a:p.v=a);try{if(s=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,a)))throw TypeError("iterator result is not an object");if(!e.done)return e;a=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=t}else if((e=(f=p.n<0)?a:n.call(r,p))!==c)break}catch(e){i=t,u=1,a=e}finally{s=1}}return{value:e,done:f}}}(n,i,u),!0),l}var c={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var p=[][i]?e(e([][i]())):(o(e={},i,function(){return this}),e),d=f.prototype=s.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,o(t,u,"GeneratorFunction")),t.prototype=Object.create(d),t}return l.prototype=f,o(d,"constructor",f),o(f,"constructor",l),l.displayName="GeneratorFunction",o(f,u,"GeneratorFunction"),o(d),o(d,u,"Generator"),o(d,i,function(){return this}),o(d,"toString",function(){return"[object Generator]"}),(r=function(){return{w:a,m:v}})()}function o(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}o=function(t,e,n,r){function u(e,n){o(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(u("next",0),u("throw",1),u("return",2))},o(t,e,n,r)}function i(t,e,n,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var u=t.apply(e,n);function a(t){i(u,r,o,a,c,"next",t)}function c(t){i(u,r,o,a,c,"throw",t)}a(void 0)})}}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(e){s(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function s(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}System.register(["./base-lib-legacy.js?v=1763689792","./index-legacy423.js?v=1763689792","./version-compare.vue_vue_type_script_setup_true_lang-legacy.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./index-legacy107.js?v=1763689792"],function(t,n){"use strict";var o,i,a,s,l,f,p,d,v,m,b,y,h,x,g,_,w,j,O,S,k,P,T,D,A,E,C,F,G,I,q;return{setters:[function(t){o=t.c,i=t.bU,a=t.e,s=t.m,l=t.aY,f=t.i,p=t.s,d=t.j,v=t.r,m=t.D,b=t.F,y=t.w,h=t.x,x=t.y,g=t.C,_=t.A,w=t.B,j=t.z,O=t.G},function(t){S=t._},function(t){k=t._},function(t){P=t.x,T=t.hW,D=t.hX,A=t.b,E=t.hF,C=t.R,F=t.u,G=t.hy},function(t){I=t.u},function(t){q=t.aJ},null,null,null],execute:function(){var n=o({name:"BtCard",props:c({},i),setup:function(t,e){var n=e.attrs,r=e.slots;return function(){return a(l,s(n,t),"function"==typeof(e=r)||"[object Object]"===Object.prototype.toString.call(e)&&!f(e)?r:{default:function(){return[r]}});var e}}}),H=A().request,W=d("VHOST-STORAGE-STORE",function(){var t=v({device:"",mountpoint:"",fstype:"",total:0,used:0,free:0,used_percent:0,inodes_total:0,inodes_used:0,inodes_free:0,inodes_used_percent:0,is_group_quota:!1,is_user_quota:!1,is_default:!1,account_allocate:0,account_percent:0}),e=v(0),n=v(!1),o=v([{label:"挂载点",prop:"mountpoint",minWidth:120},{label:"装置",prop:"device",minWidth:120},{label:"磁盘配额",prop:"is_group_quota",minWidth:140,render:function(t){return t.is_user_quota?a("span",null,[m("是")]):a("div",null,[a("span",{class:"text-warning"},[m("否")]),m(" |")," ",a("span",{class:"text-primary cursor-pointer",onClick:function(){return f(t)}},[m("设置磁盘配额")])])}},{label:"总大小",prop:"total",minWidth:60,render:function(t){return P(t.total)}},{label:"已使用",prop:"used",minWidth:180,render:function(t){var e=Math.round(t.used_percent);return a(b,null,[a("div",{class:"mr-[10px]"},[e,m("% / "),P(t.used)]),a(S,{class:"w-[100px]",percentage:Number(e.toFixed(2)),"text-inside":!0,"stroke-width":14,status:i(e)},null)])}},I([{width:100,disabled:!0,isHide:function(t){return t.is_default&&!n.value},render:function(){return a("span",null,[m("默认磁盘")])}},{title:"重启服务",width:100,onClick:function(){return q()},isHide:function(t){return t.is_default&&!n.value}},{title:"设置默认磁盘",width:100,onClick:function(t){return p(t)},isHide:function(t){return t.is_default&&!n.value}}])]),i=function(t){var e=Math.round(t);return e>80?"exception":e>60?"warning":"success"},s=function(){var e=u(r().m(function e(){var n,o,i,u;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,E();case 1:if(n=e.v,o=n.data,!C(o)){e.n=2;break}return(i=o.find(function(t){return t.is_default}))&&((u=c({},i)).account_percent=Math.round(u.account_allocate/u.total*100),t.value=u),e.a(2,{data:o,total:o.length});case 2:return e.a(2,{data:[],total:0})}},e)}));return function(){return e.apply(this,arguments)}}(),l=function(){e.value=(new Date).getTime()},f=function(){var t=u(r().m(function t(e){var n;return r().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,T(e.mountpoint);case 1:return n=t.v,t.n=2,H(n);case 2:l();case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=u(r().m(function t(e){var o;return r().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,D({mountpoint:e.mountpoint});case 1:return o=t.v,t.n=2,H(o);case 2:l(),n.value=!0;case 3:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}();return{defaultDiskInfo:t,columns:o,diskColor:i,refreshInfo:e,refreshList:l,getDiskList:s}}),N={class:"p-[10px]"},M={class:"flex items-center mb-[16px]"},B={class:"flex-1"},L={class:"flex items-center mb-[16px]"},R={class:"flex-1"},U={class:"flex items-center mb-[16px]"},z={class:"flex w-[50rem]"},J={class:"mr-[2rem] max-w-[20rem] w-[16rem]"},V={class:"flex-1"},X={class:"flex items-center mb-[16px]"},Y={class:"flex w-[50rem]"},$={class:"mr-[2rem] max-w-[20rem] w-[16rem]"},K={class:"flex-1"},Q={key:0,class:"text-center text-danger"};t("default",o({__name:"index",setup:function(t){var r,o,i=F().mainHeight,u=(r=W(),o=p(r),c(c({},r),o)),s=u.columns,l=u.getDiskList,f=u.defaultDiskInfo,d=u.diskColor,v=u.refreshInfo,m=G({request:l,columns:s.value}),b=m.BtTable,T=m.refresh;return y(function(){return v.value},T),function(t,r){var o=S,u=n;return h(),x("div",null,[a(k),a(u,{class:"!border-none mb-[20px]"},{header:g(function(){return e(r[0]||(r[0]=[_("div",{class:"card-header"},[_("span",null,"预设存储盘")],-1)]))}),default:g(function(){return[r[5]||(r[5]=_("div",{class:"p-[16px] text-base"},"创建用户时，用户信息将存储在此空间中",-1)),_("div",N,[_("div",M,[r[1]||(r[1]=_("div",{class:"w-[150px] font-black text-base text-right h-[24px]"},"默认磁盘配额：",-1)),_("div",B,w(j(f).mountpoint),1)]),_("div",L,[r[2]||(r[2]=_("div",{class:"w-[150px] font-black text-base text-right h-[24px]"},"装配：",-1)),_("div",R,w(j(f).device),1)]),_("div",U,[r[3]||(r[3]=_("div",{class:"w-[150px] font-black text-base text-right h-[24px]"},"已使用：",-1)),_("div",z,[_("div",J,w(j(P)(j(f).used))+"/ "+w(j(P)(j(f).total)),1),_("div",V,[a(o,{percentage:Number(j(f).used_percent.toFixed(2)),"text-inside":"","stroke-width":18,status:j(d)(j(f).used_percent)},null,8,["percentage","status"])])])]),_("div",X,[r[4]||(r[4]=_("div",{class:"w-[150px] font-black text-base text-right h-[24px]"},"已分配：",-1)),_("div",Y,[_("div",$,w(j(P)(j(f).account_allocate))+"/ "+w(j(P)(j(f).total)),1),_("div",K,[a(o,{percentage:Number((j(f).account_allocate/j(f).total*100).toFixed(2)),"text-inside":"","stroke-width":18,status:j(d)(j(f).account_percent)},null,8,["percentage","status"]),j(f).account_percent>100?(h(),x("div",Q,"PS:您的空间分配已达上限")):O("",!0)])])])])]}),_:1}),a(u,{class:"!border-none"},{header:g(function(){return e(r[6]||(r[6]=[_("div",{class:"card-header"},[_("span",null,"可用存储盘")],-1)]))}),default:g(function(){return[a(j(b),{class:"mt-[16px]","min-height":j(i)},null,8,["min-height"])]}),_:1})])}}}))}}})}();
