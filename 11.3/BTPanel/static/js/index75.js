import{u as e,b3 as t,an as s,q as a,bR as l,ak as i,x as o,ao as n,H as r,ap as p,e as m}from"./utils-lib.js?v=1763689792";import{_ as d}from"./index109.js?v=1763689792";import{c,s as u,e as _,D as b,v as f,n as v,x,O as C,C as h,z as k,A as y,L as j}from"./base-lib.js?v=1763689792";import{a as g,d as w,g as B,u as T}from"./column.js?v=1763689792";import{c as L,h as R,s as S,d as D,e as J,g as O,i as P,j as E,u as H,a as A,k as I}from"./useController6.js?v=1763689792";import{S as q}from"./useStore4.js?v=1763689792";import{u as V}from"./index147.js?v=1763689792";import"./validator.js?v=1763689792";import"./index.vue_vue_type_style_index_0_scoped_cdc7f4d3_lang.js?v=1763689792";import{o as z,a as F,b as K,c as N,d as U,r as W,u as G}from"./useController13.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index110.js?v=1763689792";import"./site.js?v=1763689792";import"./index131.js?v=1763689792";import"./index107.js?v=1763689792";const M={class:"flex items-center ml-[12px]"},Q=c({__name:"index",setup(c){const{mainHeight:Q,enterpriseRec:X}=e(),{getSiteList:Y}=q(),{activeType:Z,isRefreshList:$,searchWidth:ee}=u(q()),{BtOperation:te}=t({options:[{type:"button",label:"添加项目",active:!0,onClick:z},...X.value?[{type:"button",label:"漏洞扫描",onClick:F}]:[],{type:"dropdown",label:"Java环境管理",onClick:()=>K(),options:[{label:"JDK管理",onClick:()=>K("jdkSettings")},{label:"Tomcat管理",onClick:()=>K("newTomCat")}]},{type:"button",label:"项目组",onClick:N}]}),se=V({key:"type_id",name:"Java分类",options:()=>[{label:"全部分类",value:"all"}],event:P,ignore:["0"],field:"type_name"}),ae=p([{label:"启动项目",value:"start",event:G},{label:"停用项目",value:"stop",event:G},{label:"重启项目",value:"restart",event:G},H(),A({classList:I}),{label:"删除项目",value:"delete",event:G}]),{BtTable:le,BtPage:ie,BtRefresh:oe,BtSearch:ne,BtColumn:re,BtBatch:pe,BtTableCategory:me,refresh:de}=s({request:e=>{const{type_id:t,...s}=e;return Y({data:JSON.stringify({...s,type_id:a(t)||"all"===t?"":t})})},columns:[g({type:"page",key:"id"}),L({type:Z.value,onClick:e=>{U(e)}}),{label:"项目PID",isCustom:!0,render:e=>e.pid?e.pid:"--"},R({type:Z.value,prop:"pid",onClick:(e,t)=>{if("setting"===t)return void U(e,"state");const s=null!==e.pid?"stop":"start";S(e,"restart"===t?t:s)}}),{label:"端口",isCustom:!0,render:e=>l(e.listen,"array",[]).length?e.listen.join(","):"--"},{label:"CPU / 内存",isCustom:!1,width:200,render:e=>(i(e.pid_info)?e.pid_info.cpu_percent.toFixed(2):"--")+"% / "+(i(e.pid_info)?o(e.pid_info.memory_used):"--")},w(),D(),B({table:"sites",width:200}),J({onClick:e=>{U(e,"ssl")}}),T([{isHide:e=>!e.server_config_error,onClick:W,title:"修复"},,{title:"设置",onClick:e=>{U(e)}},{title:"删除",onClick:e=>{E(e,Z.value)}}])],extension:[se,ae,n($)],empty:()=>_("span",null,[b("您的列表为空，您可以"),_("span",{class:"bt-link",onClick:z},[b("添加一个项目")])])});return f(()=>{v(()=>{r(()=>import("./index384.js?v=1763689792"),__vite__mapDeps([]),import.meta.url),r(()=>import("./index385.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})}),(e,t)=>{const s=m,a=d;return x(),C(a,null,{"header-left":h(()=>[_(k(te)),y("div",M,[_(s,{href:"https://www.bt.cn/bbs/thread-132714-1-1.html"},{default:h(()=>[...t[1]||(t[1]=[b("Java项目教程",-1)])]),_:1}),t[2]||(t[2]=y("i",{class:"svgtofont-el-link text-primary text-medium ml-[4px]"},null,-1))]),y("div",{class:"flex items-center ml-1rem <xl:hidden",onClick:t[0]||(t[0]=(...e)=>k(O)&&k(O)(...e))},[...t[3]||(t[3]=[y("i",{class:"svgtofont-desired text-medium"},null,-1),y("span",{class:"bt-link"},"需求反馈",-1)])])]),"header-right":h(()=>[_(k(me),{class:"!w-[140px] mr-[10px]"}),_(k(ne),{class:j(["mr-[10px]","!w-[".concat(k(ee),"px]")]),placeholder:"请输入项目名称或备注"},null,8,["class"]),_(k(oe),{class:"mr-[10px]"}),_(k(re))]),content:h(()=>[_(k(le))]),"footer-left":h(()=>[_(k(pe))]),"footer-right":h(()=>[_(k(ie))]),_:1})}}});export{Q as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
