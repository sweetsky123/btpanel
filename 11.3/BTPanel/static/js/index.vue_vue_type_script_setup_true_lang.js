import{Q as e,v as a,J as l,k as s,j as n,y as r,u as t,p as o,S as u,n as d,H as i,e as m}from"./utils-lib.js?v=1763689792";import{c as p,r as c,o as f,v as w,x as g,O as _,C as b,e as v,z as V,D as y,A as h,R as C,H as x,ad as k,ab as U,n as q,y as I,F as j,G as A,ap as P}from"./base-lib.js?v=1763689792";import{g as M}from"./useStore.js?v=1763689792";import{n as E,o as T,p as H,q as L,r as R}from"./config.js?v=1763689792";import{C as F}from"./index117.js?v=1763689792";import{_ as S}from"./index107.js?v=1763689792";import{b as z,a as D}from"./validator.js?v=1763689792";import{o as G}from"./useMethod.js?v=1763689792";const O={class:"p-[2.5rem]"},J=p({__name:"index",setup(r){const{refs:{panelConfig:t,openNamePopup:o}}=M(),u=c(!1),d=c(),i=f({username1:"",username2:""}),m={username1:[{required:!0,message:"请输入用户名",trigger:["blur","input"]}],username2:[{required:!0,message:"请再次输入用户名",trigger:["blur","input"]},{trigger:["blur","input"],validator:(e,a,l)=>{a!==i.username1?l(new Error("两次用户名不一致")):l()}}]},p=()=>{i.username1=t.value.username,u.value=!0},q=async()=>{await d.value.validate(),await e({loading:"正在设置面板账号，请稍候...",request:E({username1:await a(i.username1),username2:await a(i.username2)}),message:!0}),l("/login?dologin=True",1500)},I=()=>{var e;null==(e=d.value)||e.resetFields(),i.username1=t.value.username,i.username2=""};return w(()=>{}),(e,a)=>{const l=s,r=x,o=k,c=U,f=n;return g(),_(V(F),{label:"面板账号"},{value:b(()=>[v(l,{modelValue:V(t).username,"onUpdate:modelValue":a[0]||(a[0]=e=>V(t).username=e),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),v(r,{type:"primary",class:"!ml-12px",onClick:p},{default:b(()=>[...a[4]||(a[4]=[y("设置",-1)])]),_:1}),v(f,{title:"修改面板用户名",modelValue:V(u),"onUpdate:modelValue":a[3]||(a[3]=e=>C(u)?u.value=e:null),"show-footer":!0,area:40,onConfirm:q,confirmText:"提交",onCancel:I},{default:b(()=>[h("div",O,[v(c,{ref_key:"formRef",ref:d,model:V(i),rules:m},{default:b(()=>[v(o,{label:"用户名",prop:"username1"},{default:b(()=>[v(l,{modelValue:V(i).username1,"onUpdate:modelValue":a[1]||(a[1]=e=>V(i).username1=e),width:"21rem"},null,8,["modelValue"])]),_:1}),v(o,{label:"重复",prop:"username2"},{default:b(()=>[v(l,{modelValue:V(i).username2,"onUpdate:modelValue":a[2]||(a[2]=e=>V(i).username2=e),width:"21rem"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["modelValue"])]),desc:b(()=>[...a[5]||(a[5]=[h("span",null,"设置面板账号",-1)])]),_:1})}}}),N={class:"w-[26rem]"},Q={class:"p-[2.5rem] pb-0"},B=p({__name:"index",setup(t){const o=c("********"),u=c(),d=c(!1),i=()=>{m.password1=r(10),d.value=!0,q(()=>{})},m=f({password1:"",password2:""}),p={password1:[{required:!0,message:"请输入密码",trigger:["blur","input"]},{trigger:["blur","input"],validator:(e,a,l)=>{a.length<6?l(new Error("密码长度必须大于5位")):l()}}],password2:[{required:!0,message:"请再次输入密码",trigger:["blur","input"]},{trigger:["blur","input"],validator:(e,a,l)=>{a!==m.password1?l(new Error("两次密码不一致")):l()}}]},I=()=>{m.password1=r(10)},j=async()=>{var s;await(null==(s=u.value)?void 0:s.validate()),await e({loading:"正在设置面板密码，请稍候...",request:T({password1:await a(m.password1),password2:await a(m.password2)}),message:!0,success:e=>{e.status&&l("/login?dologin=True",1500)}})},A=()=>{var e;null==(e=u.value)||e.resetFields(),m.password1="",m.password2=""};return w(()=>{m.password1=r(10)}),(e,a)=>{const l=s,r=x,t=S,c=k,f=U,w=n;return g(),_(V(F),{label:"面板密码"},{value:b(()=>[h("div",N,[v(l,{modelValue:V(o),"onUpdate:modelValue":a[0]||(a[0]=e=>C(o)?o.value=e:null),type:"password",disabled:""},null,8,["modelValue"])]),v(r,{type:"primary",class:"!ml-12px",onClick:i},{default:b(()=>[...a[4]||(a[4]=[y("设置",-1)])]),_:1}),v(w,{title:"修改面板密码",modelValue:V(d),"onUpdate:modelValue":a[3]||(a[3]=e=>C(d)?d.value=e:null),"show-footer":!0,area:40,onConfirm:j,confirmText:"提交",onCancel:A},{default:b(()=>[h("div",Q,[v(f,{ref_key:"formRef",ref:u,model:V(m),rules:p},{default:b(()=>[v(c,{label:"密码",class:"flex items-center",prop:"password1"},{default:b(()=>[v(t,{modelValue:V(m).password1,"onUpdate:modelValue":a[1]||(a[1]=e=>V(m).password1=e),icon:"el-refresh",onIconClick:I,width:"20rem"},null,8,["modelValue"])]),_:1}),v(c,{label:"重复",prop:"password2"},{default:b(()=>[v(l,{modelValue:V(m).password2,"onUpdate:modelValue":a[2]||(a[2]=e=>V(m).password2=e),width:"20rem"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["modelValue"])]),desc:b(()=>[...a[5]||(a[5]=[h("span",null,"设置面板密码",-1)])]),_:1})}}}),K={key:0,class:"text-danger"},W=p({__name:"index",setup(a){const{refs:{panelConfig:l},getGlobalConfig:n}=M(),{forceLtd:r,aliyunEcsLtd:d,payment:i,resetAuthState:m}=t(),p=()=>z(),c=async()=>{await o({icon:"warning-filled",title:"解绑宝塔账号",content:"解绑宝塔账号后，将无法正常使用面板功能，是否继续操作？"}),await e({loading:"正在解绑宝塔账号，请稍候...",request:H(),message:!0}),m(),setTimeout(async()=>{u("/bind")},2e3)};return(e,a)=>{const n=s,r=x;return g(),_(V(F),{label:"绑定宝塔账号"},{value:b(()=>[a[4]||(a[4]=h("div",null,null,-1)),v(n,{modelValue:V(l).account,"onUpdate:modelValue":a[0]||(a[0]=e=>V(l).account=e),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),!V(d)&&V(i).bindUser?(g(),I(j,{key:0},[v(r,{type:"primary",class:"!ml-12px",onClick:p},{default:b(()=>[...a[1]||(a[1]=[y("设置",-1)])]),_:1}),v(r,{class:"!ml-12px",onClick:c},{default:b(()=>[...a[2]||(a[2]=[y("解绑",-1)])]),_:1})],64)):(g(),_(r,{key:1,type:"primary",class:"!ml-12px",onClick:p},{default:b(()=>[...a[3]||(a[3]=[y("绑定",-1)])]),_:1}))]),desc:b(()=>[h("span",null,[V(d)?(g(),I("span",K,"(当前为企业版，绑定账号后无法切换账号)，")):A("",!0),a[5]||(a[5]=y("面板大多数功能依赖云端服务(证书申请，产品购买，软件列表等)，该功能仅用于云端服务，不涉及敏感操作",-1))])]),_:1})}}}),X=p({__name:"index",setup(a){const{refs:{panelConfig:l}}=M(),s=async e=>{l.value.debugMode=!e,e?n():r()},n=()=>{G({title:"风险操作,此功能普通用户别开启!",content:['<span class="text-danger">仅第三方开发者开发使用，普通用户请勿开启；</span>',"提交请不要在生产环境开启，这可能增加服务器安全风险；","开启开发者模式可能会占用大量内存"],checkTip:"我已了经解详情，并愿意承担风险，开启开发模式",onConfirm:async()=>{await e({loading:"正在设置开发者模式，请稍候...",request:L(),message:!0,success:()=>{l.value.debugMode=!l.value.debugMode}})}})},r=async()=>{await o({icon:"warning-filled",title:"关闭开发者模式",content:"是否关闭开发者模式?"}),await e({loading:"正在设置开发者模式，请稍候...",request:L(),message:!0,success:()=>{l.value.debugMode=!1}})};return(e,a)=>{const n=P;return g(),_(V(F),{label:"开发者模式"},{value:b(()=>[v(n,{modelValue:V(l).debugMode,"onUpdate:modelValue":a[0]||(a[0]=e=>V(l).debugMode=e),onChange:s},null,8,["modelValue"])]),desc:b(()=>[...a[1]||(a[1]=[h("span",null,"仅第三方开发者开发阶段使用（普通用户请勿开启）",-1)])]),_:1})}}}),Y=p({__name:"index",setup(a){const{refs:{panelConfig:l}}=M(),s=e=>{e?n():t()},n=async()=>{(await t()).status&&r()},r=()=>{d({area:50,title:"配置面板API",component:()=>i(()=>import("./api-config.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})},t=async()=>await e({loading:"正在设置API配置，请稍候...",request:R({t_type:2}),message:!0,success:e=>{e.status||(l.apiInterface=!l.apiInterface)}});return(e,a)=>{const n=P,t=x,o=m;return g(),_(V(F),{label:"API接口"},{value:b(()=>[v(n,{modelValue:V(l).apiInterface,"onUpdate:modelValue":a[0]||(a[0]=e=>V(l).apiInterface=e),onChange:s},null,8,["modelValue"]),v(t,{size:"small",class:"!ml-12px",onClick:r},{default:b(()=>[...a[1]||(a[1]=[y(" API接口配置 ",-1)])]),_:1})]),desc:b(()=>[h("span",null,[a[4]||(a[4]=y(" 提供面板API接口访问的支持（ ",-1)),v(o,{class:"!inline-block",href:"https://www.bt.cn/new/product_app.html"},{default:b(()=>[...a[2]||(a[2]=[y("堡塔APP",-1)])]),_:1}),a[5]||(a[5]=y("/ ",-1)),v(o,{class:"!inline-block",href:"https://www.bt.cn/new/product_pc.html"},{default:b(()=>[...a[3]||(a[3]=[y("堡塔多机管理",-1)])]),_:1}),a[6]||(a[6]=y(" 需要开启该功能）， ",-1))]),v(o,{class:"!inline-block",href:"https://www.bt.cn/bbs/thread-20376-1-1.html"},{default:b(()=>[...a[7]||(a[7]=[y(" 了解详情 ",-1)])]),_:1})]),_:1})}}}),Z=p({__name:"index",setup(e){const{refs:{panelConfig:a},getMenuListEvent:l}=M();return w(()=>{l()}),(e,l)=>{const n=s,r=x;return g(),_(V(F),{label:"面板菜单栏隐藏"},{value:b(()=>[v(n,{modelValue:V(a).menuHide,"onUpdate:modelValue":l[0]||(l[0]=e=>V(a).menuHide=e),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),v(r,{type:"primary",class:"!ml-12px",onClick:l[1]||(l[1]=e=>V(D)())},{default:b(()=>[...l[2]||(l[2]=[y("设置",-1)])]),_:1})]),desc:b(()=>[...l[3]||(l[3]=[h("span",null,"隐藏左侧菜单栏目",-1)])]),_:1})}}});export{J as _,B as a,W as b,X as c,Y as d,Z as e};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
