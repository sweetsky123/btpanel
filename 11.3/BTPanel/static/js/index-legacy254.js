!function(){function n(n){return function(n){if(Array.isArray(n))return t(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(n){if("string"==typeof n)return t(n,e);var r={}.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(n,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,t,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.toStringTag||"@@toStringTag";function i(e,a,o,u){var i=a&&a.prototype instanceof c?a:c,s=Object.create(i.prototype);return r(s,"_invoke",function(e,r,a){var o,u,i,c=0,s=a||[],f=!1,d={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(t,e){return o=t,u=0,i=n,d.n=e,l}};function p(e,r){for(u=e,i=r,t=0;!f&&c&&!a&&t<s.length;t++){var a,o=s[t],p=d.p,v=o[2];e>3?(a=v===r)&&(i=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=n):o[0]<=p&&((a=e<2&&p<o[1])?(u=0,d.v=r,d.n=o[1]):p<v&&(a=e<3||o[0]>r||r>v)&&(o[4]=e,o[5]=r,d.n=v,u=0))}if(a||e>1)return l;throw f=!0,r}return function(a,s,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,v),u=s,i=v;(t=u<2?n:i)||!f;){o||(u?u<3?(u>1&&(d.n=-1),p(u,i)):d.n=i:d.v=i);try{if(c=2,o){if(u||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,u<2&&(u=0)}else 1===u&&(t=o.return)&&t.call(o),u<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=n}else if((t=(f=d.n<0)?i:e.call(r,d))!==l)break}catch(t){o=n,u=1,i=t}finally{c=1}}return{value:t,done:f}}}(e,o,u),!0),s}var l={};function c(){}function s(){}function f(){}t=Object.getPrototypeOf;var d=[][o]?t(t([][o]())):(r(t={},o,function(){return this}),t),p=f.prototype=c.prototype=Object.create(d);function v(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,r(n,u,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=f,r(p,"constructor",f),r(f,"constructor",s),s.displayName="GeneratorFunction",r(f,u,"GeneratorFunction"),r(p),r(p,u,"Generator"),r(p,o,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:i,m:v}})()}function r(n,t,e,a){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}r=function(n,t,e,a){function u(t,e){r(n,t,function(n){return this._invoke(t,e,n)})}t?o?o(n,t,{value:e,enumerable:!a,configurable:!a,writable:!a}):n[t]=e:(u("next",0),u("throw",1),u("return",2))},r(n,t,e,a)}function a(n,t,e,r,a,o,u){try{var i=n[o](u),l=i.value}catch(n){return void e(n)}i.done?t(l):Promise.resolve(l).then(r,a)}function o(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var u=n.apply(t,e);function i(n){a(u,r,o,i,l,"next",n)}function l(n){a(u,r,o,i,l,"throw",n)}i(void 0)})}}System.register(["./index-legacy109.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./form-item-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./site-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792"],function(t,r){"use strict";var a,u,i,l,c,s,f,d,p,v,y,m,g,h,b,x,w,k,_,O,j,D,V,G,P,S,A,C,T,R,q,U,X,Y,E,F,H,I,L,M,z,N,J,K,$;return{setters:[function(n){a=n._},function(n){u=n.p,i=n.aK,l=n.Q,c=n.L,s=n.n,f=n.l,d=n.j,p=n.k,v=n.$,y=n.b},function(n){m=n.c,g=n.r,h=n.o,b=n.v,x=n.aG,w=n.I,k=n.x,_=n.y,O=n.e,j=n.C,D=n.z,V=n.R,G=n.D,P=n.O,S=n.G,A=n.J,C=n.A,T=n.K,R=n.b2,q=n.c5,U=n.al,X=n.aj,Y=n.H,E=n.ad,F=n.ab},function(n){H=n.h},function(n){I=n.m},function(n){L=n.getPyVersion,M=n.getVersionList,z=n.setGoEnvironment,N=n.installPyVersionNew,J=n.installVersion,K=n.uninstallVersion,$=n.setGoProxy},null,null,null,null],execute:function(){var r={class:"p-[20px]"},B={class:"bg-default p-[12px] h-[36rem] text-white overflow-auto logMsg"},Q=["innerHTML"],W={class:"p-2rem"};t("default",m({__name:"index",props:{compData:{default:{}}},setup:function(t){var m=t,Z=g(""),nn=y(),tn=g(!1),en=g("正在请求安装..."),rn=g([]),an=g(""),on=[{label:"版本号",width:200,render:function(n){return O("div",null,[n.version.replace(m.compData.type,""),G(" "),"stable"===n.type&&"go"===m.compData.type?"(正式版)":""])}},{label:"安装状态",render:function(n){return"string"==typeof n.installed&&(n.installed="1"===n.installed),O("div",null,[!0===n.is_install?O("span",{class:"text-tertiary"},[G("安装中")]):n.installed?O("span",{class:"text-primary"},[G("已安装")]):O("span",{class:"text-danger"},[G("未安装")])])}},{label:"操作",align:"right",render:function(n){return n.version.replace(m.compData.type,""),O("div",null,[A(O("div",{class:"inline-block"},[n.installed&&n.version!==Z.value&&"go"===m.compData.type?O("span",{class:"cursor-pointer bt-link",onClick:function(){vn(n.version)}},[G("应用至命令行")]):"go"===m.compData.type&&n.installed?O("span",{class:"shrink-0 text-secondary"},[G("正在使用")]):null,O(R,{direction:"vertical"},null)]),[[T,"go"===m.compData.type]]),n.installed?O("span",{class:"cursor-pointer text-danger",onClick:function(){mn(n.version)}},[G("卸载")]):!0===n.is_install||!0===n.installing?O("span",{class:"cursor-pointer text-tertiary",onClick:function(){I()}},[G("安装中...")]):O("span",{class:"cursor-pointer bt-link",onClick:function(){yn(n.version)}},[G("安装")])])}}],un=g([]),ln=g(!1);g("");var cn=g([]),sn=g("py"===m.compData.type?"常用版本":"所有版本"),fn=h({version:"",extended:"",status:!1}),dn=g([{content:"填写时请勿添加换行符等特殊符号，这可能会导致参数不生效"},{content:"多个参数时以空格隔开"},{content:'"--prefix"参数已被使用'},{content:"验证参数是否生效，可查看安装日志并搜索对应名称"}]),pn=function(){var n=o(e().m(function n(t){var r,a,o,l,c;return e().w(function(n){for(;;)switch(n.p=n.n){case 0:if(r="all","常用版本"===sn.value&&(r="streamline"),n.p=1,"py"!==m.compData.type){n.n=4;break}if(!(!0===t)){n.n=2;break}return n.n=2,u({title:"提示",width:"35rem",icon:"warning-filled",content:"将从镜像源获取版本列表，是否继续？"});case 2:return l={force:!0===t?"true":"false"},ln.value=!0,n.n=3,L(l);case 3:a=n.v,un.value=a.data.sdk[r],Z.value=(null===(o=a.data.command_path.find(function(n){return n.python_path===a.data.used}))||void 0===o?void 0:o.version)||"",n.n=7;break;case 4:if(!(!0===t)){n.n=5;break}return n.n=5,u({title:"提示",width:"35rem",icon:"warning-filled",content:"将从镜像源获取版本列表，是否继续？"});case 5:return ln.value=!0,n.n=6,M(m.compData.type,!0===t?"true":"false");case 6:a=n.v,cn.value=a.data,an.value=a.data.goproxy.now||"",rn.value=a.data.goproxy.list.map(function(n){return{label:"".concat(n.name,"(").concat(n.proxy,")"),value:n.proxy}}),a.data.sdk[r].sort(function(n,t){return t.installed-n.installed}),Z.value=a.data.used,un.value=a.data.sdk[r];case 7:n.n=9;break;case 8:n.p=8,c=n.v,i(c);case 9:return n.p=9,ln.value=!1,n.f(9);case 10:return n.a(2)}},n,null,[[1,8,9,10]])}));return function(t){return n.apply(this,arguments)}}(),vn=function(){var n=o(e().m(function n(t){var r;return e().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,l({loading:"正在设置默认版本，请稍后...",request:z({name:t}),message:!0});case 1:n.v.status&&pn(),m.compData&&"function"==typeof(null===(r=m.compData)||void 0===r?void 0:r.refresh)&&m.compData.refresh();case 2:return n.a(2)}},n)}));return function(t){return n.apply(this,arguments)}}(),yn=function(){var n=o(e().m(function n(t){var r,a;return e().w(function(n){for(;;)switch(n.n){case 0:if(!("py"===m.compData.type)){n.n=4;break}if(fn.status){n.n=1;break}fn.version=t,fn.status=!0,n.n=3;break;case 1:return a={data:JSON.stringify({version:fn.version,extended:fn.extended})},n.n=2,l({request:N(a),message:!0});case 2:fn.status=!1,I(),m.compData&&"function"==typeof(null===(r=m.compData)||void 0===r?void 0:r.refresh)&&m.compData.refresh(),pn();case 3:return n.a(2);case 4:return n.n=5,u({title:"安装",content:"是否安装[".concat(t,"]版本？"),icon:"warning-filled"});case 5:return n.n=6,l({loading:"正在安装，请稍后...",request:J({version:t}),message:!0});case 6:n.v.status&&I();case 7:return n.a(2)}},n)}));return function(t){return n.apply(this,arguments)}}(),mn=function(){var n=o(e().m(function n(t){var r,a;return e().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,u({title:"卸载sdk",content:"卸载[".concat(t,"]版本后，相关项目将无法启动，是否继续？"),icon:"warning-filled"});case 1:return n.n=2,l({loading:"正在卸载，请稍后...",request:K({version:t},m.compData.type)});case 2:((a=n.v).status||Array.isArray(a.data)&&a.data[0].status)&&pn(),Array.isArray(a.data)&&!a.data[0].status&&nn.error(null===(r=a.data)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.msg);case 3:return n.a(2)}},n)}));return function(t){return n.apply(this,arguments)}}(),gn=function(){var n=o(e().m(function n(){var t,r,a,u;return e().w(function(n){for(;;)switch(n.n){case 0:t=function(n,t){t(rn.value)},r=c({data:{proxy:an.value},options:function(n){return g([H("GOPROXY源",function(){return O(q,{modelValue:n.value.proxy,"onUpdate:modelValue":function(t){return n.value.proxy=t},placeholder:"请输入或选择GOPROXY源","value-key":"label","fetch-suggestions":t,onSelect:function(t){n.value.proxy=t.value}},{default:function(t){var e=t.item;return O("div",{class:e.value===n.value.proxy?" bt-link":""},[e.label])}})},"proxy",{rules:[{required:!0,message:"请输入或选择GOPROXY源"}]})])},submit:function(){var n=o(e().m(function n(t,r,a){var o;return e().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,r();case 1:return n.n=2,l({loading:"正在设置GOPROXY源，请稍后...",request:$({proxy:t.value.proxy}),message:!0});case 2:return o=n.v,pn(),n.a(2,o.status)}},n)}));return function(t,e,r){return n.apply(this,arguments)}}()}),a=r.BtForm,u=r.submit,s({title:"切换GOPROXY源",area:65,btn:!0,component:O(a,{class:"!p-[2rem]"},null),onConfirm:u});case 1:return n.a(2)}},n)}));return function(){return n.apply(this,arguments)}}();return b(function(){pn()}),x(function(){}),function(t,e){var o=U,u=X,i=Y,l=f,c=d,s=p,y=E,g=F,h=v,b=a,x=w("bt-loading");return k(),_("div",r,[O(b,null,{"header-left":j(function(){return[O(u,{modelValue:D(sn),"onUpdate:modelValue":e[0]||(e[0]=function(n){return V(sn)?sn.value=n:null}),size:"default",onChange:pn},{default:j(function(){return[O(o,{value:"常用版本"},{default:j(function(){return n(e[7]||(e[7]=[G("常用版本",-1)]))}),_:1}),O(o,{value:"所有版本"},{default:j(function(){return n(e[8]||(e[8]=[G("所有版本",-1)]))}),_:1})]}),_:1},8,["modelValue"])]}),"header-right":j(function(){return["go"===m.compData.type?(k(),P(i,{key:0,type:"default",onClick:gn},{default:j(function(){return n(e[9]||(e[9]=[G(" 切换GOPROXY源 ",-1)]))}),_:1})):S("",!0),O(i,{type:"default",onClick:e[1]||(e[1]=function(n){return pn(!0)})},{default:j(function(){return n(e[10]||(e[10]=[G(" 更新版本列表 ",-1)]))}),_:1})]}),content:j(function(){return[A(O(l,{height:"400",column:on,data:D(un)},null,8,["data"]),[[x,D(ln)]])]}),popup:j(function(){return[O(c,{title:"安装信息",modelValue:D(tn),"onUpdate:modelValue":e[2]||(e[2]=function(n){return V(tn)?tn.value=n:null}),area:[50,36],onCancel:e[3]||(e[3]=function(){return en.value="正在请求安装..."})},{default:j(function(){return[C("div",B,[C("pre",{innerHTML:D(en),class:"whitespace-pre-wrap"},null,8,Q)])]}),_:1},8,["modelValue"]),O(c,{title:"安装版本【".concat(D(fn).version,"】"),modelValue:D(fn).status,"onUpdate:modelValue":e[5]||(e[5]=function(n){return D(fn).status=n}),area:50,"show-footer":!0,onConfirm:e[6]||(e[6]=function(n){return yn(D(fn).version)})},{default:j(function(){return[C("div",W,[O(g,{model:D(fn)},{default:j(function(){return[O(y,{label:"自定义参数"},{default:j(function(){return[O(s,{modelValue:D(fn).extended,"onUpdate:modelValue":e[4]||(e[4]=function(n){return D(fn).extended=n}),name:"extended",width:"32rem",placeholder:"可为空，实例：--enable-optimizations"},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model"]),O(h,{class:"pl-4rem mt-1rem",options:D(dn)},null,8,["options"])])]}),_:1},8,["title","modelValue"])]}),_:1})])}}}))}}})}();
