import{r as a,c as e,w as i,a8 as s,I as l,x as r,y as t,A as n,e as c,C as o,z as d,D as m,R as u,Q as p,J as _,F as v,b1 as f,G as y,H as b,U as k,ay as w,L as x,B as g,O as h,be as j}from"./base-lib.js?v=1763689792";import{b as C,n as H,H as D,N as I,d as z,_ as O}from"./utils-lib.js?v=1763689792";import{q as V,s as N,u as P}from"./useController7.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./validator.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const S=a(""),q=a([]),A=a(!1),B=a(!1),E=C(),K=async()=>{if(S.value.trim()){B.value=!0;try{const a=await V({url:"/api/v1/domain/query/check",domain:S.value.trim(),rows:20,p:1});a.data&&a.data.data?q.value=a.data.data.data.map(a=>{var e,i,s,l,r,t;return{name:a.domain,price:(null==(e=a.price_info)?void 0:e.first_year_discount_price)||(null==(i=a.price_info)?void 0:i.first_year_price)||0,isHot:a.premium||!1,available:a.available,premium:a.premium,premium_price:a.premium_price||0,status:a.status,status_desc:a.status_desc,first_year_price:(null==(s=a.price_info)?void 0:s.first_year_price)||0,renew_price:(null==(l=a.price_info)?void 0:l.renew_price)||0,first_year_discount_price:(null==(r=a.price_info)?void 0:r.first_year_discount_price)||0,renewal_discount_price:(null==(t=a.price_info)?void 0:t.renewal_discount_price)||0,suffix:a.suffix}}):(E.error(a.msg),q.value=[])}catch(a){q.value=[]}finally{B.value=!1}}else E.warn("请输入要查询的域名")},L=a=>{N({domain:a.name,firstYearPrice:"¥".concat(a.first_year_discount_price),renewalPrice:"¥".concat(a.renewal_discount_price),years:1,accountBalance:"¥1250.50",suffix:a.suffix},"payment")},R=a=>{H({title:"WHOIS查询",area:70,compData:{domainName:a.name},component:()=>D(()=>import("./index279.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})},U={class:"domain-search-content"},W={class:"search-input-group mb-4"},F={class:"domain-list min-h-[400px]"},G={class:"domain-info flex flex-1 items-center"},J={class:"domain-status ml-2"},Q={class:"domain-actions"},T={key:0,class:"domain-price"},Y={class:"price-info"},M={class:"current-price"},X={class:"original-price"},Z={class:"renewal-price"},$=["onClick"],aa={key:0,class:"empty-state"},ea=O(e({__name:"index",props:{compData:{default:()=>({})}},setup(a){const{domainSearchDialog:e}=P(),C=a;i(()=>{var a;return null==(a=C.compData)?void 0:a.domainName},a=>{var e;a&&(e=a,S.value=e,e?K():(q.value=[],A.value=!1,B.value=!1))},{immediate:!0});return s(()=>{q.value=[],S.value="",e.value=null}),(a,e)=>{const i=b,s=k,C=j,H=I,D=z,O=w,V=l("bt-loading");return r(),t("div",U,[n("div",W,[c(s,{modelValue:d(S),"onUpdate:modelValue":e[0]||(e[0]=a=>u(S)?S.value=a:null),placeholder:"请输入要注册的域名",class:"search-input",onKeyup:p(d(K),["enter"])},{append:o(()=>[c(i,{type:"primary",onClick:d(K),loading:d(B)},{default:o(()=>[...e[1]||(e[1]=[m("查询",-1)])]),_:1},8,["onClick","loading"])]),_:1},8,["modelValue","onKeyup"])]),_((r(),t("div",F,[(r(!0),t(v,null,f(d(q),(a,i)=>{return r(),t("div",{key:i,class:x(["domain-item",{"last-item":i===d(q).length-1}])},[n("div",G,[n("div",{class:x(["domain-name",{"registered-domain":!a.available}])},[m(g(a.name)+" ",1),a.isHot?(r(),h(C,{key:0,type:"danger",size:"small",class:"ml-2"},{default:o(()=>[...e[2]||(e[2]=[m("热门",-1)])]),_:1})):y("",!0),a.premium?(r(),h(C,{key:1,type:"warning",size:"small",class:"ml-2"},{default:o(()=>[...e[3]||(e[3]=[m("溢价",-1)])]),_:1})):y("",!0)],2),n("div",J,[a.available?y("",!0):(r(),t("span",{key:0,class:x((s=a.available,a.status,s?"status-available":"status-default"))},g(a.status_desc),3))])]),n("div",Q,[a.available?(r(),t("div",T,[n("div",Y,[n("div",M,[n("div",X," ¥"+g(a.first_year_price),1),m(" ¥"+g(a.first_year_discount_price)+"元/首年 ",1)]),n("div",Z," 续费¥"+g(a.renewal_discount_price)+"/年 ",1)])])):y("",!0),a.available?(r(),h(H,{key:1,type:"primary",size:"small",onClick:e=>d(L)(a)},{default:o(()=>[...e[4]||(e[4]=[m(" 立即购买 ",-1)])]),_:1},8,["onClick"])):(r(),t("span",{key:2,class:"bt-link",onClick:e=>d(R)(a)},[c(D,{name:"search",class:"mr-1"}),e[5]||(e[5]=m(" 查看WHOIS ",-1))],8,$))])],2);var s}),128)),0!==d(q).length||d(B)?y("",!0):(r(),t("div",aa,[c(O,{description:"暂无可用域名"})]))])),[[V,d(B)]])])}}}),[["__scopeId","data-v-c39f3300"]]);export{ea as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
