!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach(function(n){u(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function u(n,t,r){return(t=function(n){var t=function(n,t){if("object"!=e(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var a=r.call(n,t||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==e(t)?t:t+""}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function u(t,r,a,u){var o=r&&r.prototype instanceof c?r:c,s=Object.create(o.prototype);return l(s,"_invoke",function(t,r,a){var u,o,l,c=0,s=a||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return u=n,o=0,l=e,d.n=t,i}};function p(t,r){for(o=t,l=r,n=0;!f&&c&&!a&&n<s.length;n++){var a,u=s[n],p=d.p,m=u[2];t>3?(a=m===r)&&(l=u[(o=u[4])?5:(o=3,3)],u[4]=u[5]=e):u[0]<=p&&((a=t<2&&p<u[1])?(o=0,d.v=r,d.n=u[1]):p<m&&(a=t<3||u[0]>r||r>m)&&(u[4]=t,u[5]=r,d.n=m,o=0))}if(a||t>1)return i;throw f=!0,r}return function(a,s,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),o=s,l=m;(n=o<2?e:l)||!f;){u||(o?o<3?(o>1&&(d.n=-1),p(o,l)):d.n=l:d.v=l);try{if(c=2,u){if(o||(a="next"),n=u[a]){if(!(n=n.call(u,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,o<2&&(o=0)}else 1===o&&(n=u.return)&&n.call(u),o<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),o=1);u=e}else if((n=(f=d.n<0)?l:t.call(r,d))!==i)break}catch(n){u=e,o=1,l=n}finally{c=1}}return{value:n,done:f}}}(t,a,u),!0),s}var i={};function c(){}function s(){}function f(){}n=Object.getPrototypeOf;var d=[][r]?n(n([][r]())):(l(n={},r,function(){return this}),n),p=f.prototype=c.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,a,"GeneratorFunction")),e.prototype=Object.create(p),e}return s.prototype=f,l(p,"constructor",f),l(f,"constructor",s),s.displayName="GeneratorFunction",l(f,a,"GeneratorFunction"),l(p),l(p,a,"Generator"),l(p,r,function(){return this}),l(p,"toString",function(){return"[object Generator]"}),(o=function(){return{w:u,m:m}})()}function l(e,n,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}l=function(e,n,t,r){function u(n,t){l(e,n,function(e){return this._invoke(n,t,e)})}n?a?a(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(u("next",0),u("throw",1),u("return",2))},l(e,n,t,r)}function i(e,n,t,r,a,u,o){try{var l=e[u](o),i=l.value}catch(e){return void t(e)}l.done?n(i):Promise.resolve(i).then(r,a)}function c(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var u=e.apply(n,t);function o(e){i(u,r,a,o,l,"next",e)}function l(e){i(u,r,a,o,l,"throw",e)}o(void 0)})}}System.register(["./index-legacy119.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792","./validator-legacy.js?v=1763689792","./useController-legacy6.js?v=1763689792","./site-legacy.js?v=1763689792","./useStore-legacy4.js?v=1763689792","./ace-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./column-legacy.js?v=1763689792"],function(e,t){"use strict";var r,u,l,i,s,f,d,p,m,v,h,y,g,b,w,_,k,V,P,x,j,C,S,O,T,I,U,F,q,A,G,L,D,E,N,H,R,z,B,K,M,J,Q,W,$,X,Y,Z,ee,ne,te,re,ae,ue,oe,le,ie,ce,se,fe,de,pe,me,ve,he,ye,ge,be,we;return{setters:[function(e){r=e.B},function(e){u=e.u,l=e.E,i=e.M,s=e.b6,f=e.p,d=e.Q,p=e.aH,m=e.H,v=e.n,h=e.aK,y=e.y,g=e.e,b=e.k,w=e.j,_=e._},function(e){k=e.r,V=e.o,P=e.s,x=e.n,j=e.e,C=e.c,S=e.v,O=e.I,T=e.J,I=e.z,U=e.x,F=e.y,q=e.A,A=e.C,G=e.D,L=e.F,D=e.b1,E=e.R,N=e.K,H=e.O,R=e.G,z=e.H,B=e.an,K=e.ap,M=e.b2,J=e.ad,Q=e.ab,W=e.am},function(e){$=e._},function(e){X=e.f,Y=e.k,Z=e.p,ee=e.l},function(e){ne=e.o},function(e){te=e.setHasPwd,re=e.closeHasPwd,ae=e.setPath,ue=e.setSiteRunPath,oe=e.getSitesFtp,le=e.setSitesFtp,ie=e.delSiteRsync,ce=e.removeSendTask,se=e.delGitTask,fe=e.getGitTask,de=e.addGitTask,pe=e.runSiteTask,me=e.getFileBody,ve=e.setDirUserINI,he=e.writeAccessLog,ye=e.getCatalogueKey,ge=e.getDirUserINI,be=e.getBtSyncStatus},function(e){we=e.u},null,null,null,null],execute:function(){var _e=u().payment,ke=we().siteInfo,Ve=_e.value.authType,Pe=k(!1),xe=k(),je=k(),Ce=V({path:"",runPath:"",dirs:[],userini:!1,sync_git:!1,logs:!1,pass:!1}),Se=k(!1),Oe=V({ftp_status:!1,ftp_name:"",ftp_pwd:""}),Te=k(!1),Ie=k(""),Ue=k([]),Fe=k(!1),qe=V({git_addr:"",branch:"",cycle:1}),Ae=k(""),Ge=k(!1),Le=k(!1),De={git_addr:[{required:!0,message:"请输入git地址",trigger:"blur"}]};k({mode:"ace/mode/nginx",theme:l.value?"ace/theme/clouds_midnight":"ace/theme/monokai",wrap:!0,showInvisibles:!1,showFoldWidgets:!1,useSoftTabs:!0,tabSize:2,showPrintMargin:!1,readOnly:!0,fontSize:"12px"});var Ee=V({status:!1,username:"",password:"",rePass:""}),Ne={username:[{required:!0,message:"账号不能为空",trigger:["blur"]}],password:[{required:!0,message:"密码不能为空",trigger:["blur"]}],rePass:[{required:!0,message:"重复密码不能为空",trigger:["blur"]},{validator:function(e,n,t){n!==Ee.password?t(new Error("两次输入密码不一致")):t()},trigger:["blur","change"]}]},He=function(){var e=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:xe.value.validate(function(){var e=c(o().m(function e(n){var t,r;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!n){e.n=5;break}return t=i.load("正在设置,请稍后..."),e.p=1,e.n=2,te({id:ke.value.id,username:Ee.username,password:Ee.password});case 2:r=e.v,i.request(r),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,t.close(),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(n){return e.apply(this,arguments)}}());case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=c(o().m(function e(n){var t,r,a;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,n){e.n=2;break}return t=i.load("正在关闭密码访问,请稍后..."),e.n=1,re({id:ke.value.id});case 1:r=e.v,t.close(),i.request(r);case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,null===(a=t)||void 0===a||a.close(),e.f(4);case 5:return e.a(2)}},e,null,[[0,3,4,5]])}));return function(n){return e.apply(this,arguments)}}(),ze=function(){var e=c(o().m(function e(){var n;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ye({table:"sites",key:"path",id:ke.value.id});case 1:n=e.v,Ce.path=n.data,e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),Be=function(){X({type:"dir",path:Ce.path,change:function(e){Ce.path=e}})},Ke=function(){var e=c(o().m(function e(){var n;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ge({path:Ce.path,id:ke.value.id});case 1:n=e.v,Ce.dirs=n.data.runPath.dirs,Ce.runPath=n.data.runPath.runPath,Ce.sync_git=n.data.sync_git,Ce.logs=n.data.logs,Ce.userini=n.data.userini,Ee.status=n.data.pass,e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),Me=function(){var e=c(o().m(function e(){var n,t;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=i.load("正在保存中..."),e.p=1,e.n=2,ae({path:Ce.path,id:ke.value.id});case 2:t=e.v,i.request(t),t.status&&(ke.value.path=Ce.path),Ke(),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,n.close(),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=c(o().m(function e(){var n,t;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=i.load("正在设置,请稍后..."),e.p=1,e.n=2,ue({runPath:Ce.runPath,id:ke.value.id});case 2:t=e.v,i.request(t),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,n.close(),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=c(o().m(function e(){var n,t,r,a;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,oe({site_id:ke.value.id});case 1:t=e.v,null!==(n=t.data.info)&&void 0!==n&&n.id?(Oe.ftp_status=!0,Oe.ftp_id=null===(r=t.data.info)||void 0===r?void 0:r.id,Oe.ftp_name=null===(a=t.data.info)||void 0===a?void 0:a.name,Oe.ftp_pwd=t.data.info.password):(Oe.ftp_status=!1,Oe.ftp_name="",Oe.ftp_pwd="",Oe.ftp_id=""),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),We=function(){var e=c(o().m(function e(n,t){var r,u,l,c;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!t){e.n=9;break}if(r=i.load("正在处理中,请稍后..."),e.p=1,Oe.ftp_id){e.n=2;break}return We(!0,!1),e.a(2);case 2:return delete(u=a(a({site_id:ke.value.id},Oe),{},{siteName:ke.value.name})).ftp_status,e.n=3,le(u);case 3:if(l=e.v,i.request(l),Qe(),!l.data.status){e.n=4;break}Se.value=!1,e.n=5;break;case 4:return e.a(2,!1);case 5:e.n=7;break;case 6:e.p=6,e.v;case 7:return e.p=7,r.close(),e.f(7);case 8:e.n=12;break;case 9:return n&&(Oe.ftp_name=Oe.ftp_name||s(12),Oe.ftp_pwd=Oe.ftp_pwd||s(12)),(c=a(a({site_id:ke.value.id},Oe),{},{siteName:ke.value.name})).ftp_id||delete c.ftp_id,Oe.ftp_status=!n,e.n=10,f({title:"FTP状态",content:n?"创建FTP将会同步到FTP界面，是否继续操作？":"关闭FTP后，将会删除当前网站的FTP账号，是否继续操作？",icon:"warning-filled"});case 10:return e.n=11,d({loading:"正在处理中,请稍后...",request:le(c),message:!0});case 11:Qe();case 12:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(n,t){return e.apply(this,arguments)}}(),$e=function(){var e=c(o().m(function e(){var n,t,r,a,u;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,be({path:Ce.path});case 1:n=e.v,Te.value=n.data.have_sync,Te.value&&(Ue.value=Array.isArray(null===(t=n.data)||void 0===t?void 0:t.data)?null===(r=n.data)||void 0===r?void 0:r.data:[],null!==(a=n.data)&&void 0!==a&&null!==(a=a.data)&&void 0!==a&&a.name&&(Ie.value=null===(u=n.data)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.name)),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=c(o().m(function e(n){var r,u,l,s,h,y,g,b,w,_,k;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,Te.value=n,!n){e.n=11;break}return e.n=1,p({sName:"rsync"});case 1:if(r=e.v,!((u=r.data).setup&&u.endtime>=0)){e.n=6;break}if(!(parseFloat(u.version)>=parseFloat("3.9.3"))){e.n=3;break}return e.n=2,m(function(){return t.import("./validator-legacy.js?v=1763689792").then(function(e){return e.dj})},void 0,t.meta.url);case 2:l=e.v,s=l.default,h=s(),y=P(h),g=y.compData,b=y.isSuccess,g.value={row:{path:ke.value.path,type:"site",refreshEvent:$e}},v({isAsync:!0,title:"【".concat(ke.value.name,"】设置数据同步"),area:56,component:function(){return m(function(){return t.import("./index-legacy159.js?v=1763689792")},void 0,t.meta.url)},onCancel:function(){x(function(){b.value||(Te.value=!1)})}}),e.n=5;break;case 3:return e.n=4,f({title:"更新提示",content:"当前版本过低，无法使用此功能，是否继续更新？",icon:"warning-filled"});case 4:return e.n=5,Ye(u);case 5:e.n=10;break;case 6:if(!(u.endtime>=0)){e.n=8;break}return e.n=7,f({title:"安装提示",content:"检测到【".concat(u.title,"】未安装，是否立即安装开启使用？"),icon:"warning-filled"});case 7:Y({name:u.name,type:"i",pluginInfo:u}),e.n=9;break;case 8:Z({sourceId:120});case 9:x(function(){Te.value=!1});case 10:e.n=16;break;case 11:return e.n=12,f({title:"删除同步任务",content:"即将删除该同步任务，是否继续操作？",icon:"warning-filled"});case 12:if(!Ue.value.length){e.n=14;break}return w=i.load("正在删除同步任务，请稍后..."),_=Ue.value.map(function(){var e=c(o().m(function e(n){var t,r;return o().w(function(e){for(;;)switch(e.n){case 0:if("modules"!==n.type){e.n=2;break}return e.n=1,ie({mName:n.data.name});case 1:return t=e.v,e.a(2,a(a({},t.data),{},{title:"接收任务",name:n.data.name}));case 2:return e.n=3,ce({send_id:n.data.id});case 3:return r=e.v,e.a(2,a(a({},r.data),{},{title:"发送任务",name:n.data.name}));case 4:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}()),e.n=13,Promise.all(_);case 13:k=e.v,w.close(),k.length>1?ne({title:"删除同步任务",autoTitle:"删除同步任务完成",resultData:k,resultColumn:[{label:"任务名称",prop:"name"},{label:"任务类型",prop:"title"},{label:"操作结果",prop:"msg",align:"rigth",render:function(e){return j("span",{class:e.status?"text-primary":"text-danger"},[e.msg])}}]}):i.request(k[0]),e.n=15;break;case 14:return e.n=15,d({loading:"正在删除同步任务，请稍后...",request:ie({mName:Ie.value}),message:!0});case 15:$e();case 16:e.n=18;break;case 17:e.p=17,e.v,Te.value=!n;case 18:return e.a(2)}},e,null,[[0,17]])}));return function(n){return e.apply(this,arguments)}}(),Ye=function(){var e=c(o().m(function e(n){return o().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}));return function(n){return e.apply(this,arguments)}}(),Ze=function(){var e=c(o().m(function e(){var n,t;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,p({sName:"rsync"});case 1:return n=e.v,t=n.data,e.n=2,ee({name:"rsync",softData:t});case 2:e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),en=function(){var e=c(o().m(function e(n){var t;return o().w(function(e){for(;;)switch(e.n){case 0:if("ltd"===Ve){e.n=1;break}return e.a(2,Z({sourceId:310,disablePro:!0}));case 1:if(n){e.n=4;break}return Ce.sync_git=!0,e.n=2,f({title:"关闭git同步",content:"关闭后将不在同步git文件到网站目录，是否继续操作？",icon:"warning-filled"});case 2:return e.n=3,d({loading:"正在关闭，请稍后...",request:se({site_id:ke.value.id}),message:!0});case 3:(t=e.v).status&&(Ce.sync_git=!t.status),e.n=5;break;case 4:return Ce.sync_git=!1,e.n=5,tn();case 5:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),nn=function(){var e=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:if("ltd"===Ve){e.n=1;break}return e.a(2,Z({sourceId:310,disablePro:!0}));case 1:return e.n=2,tn();case 2:Fe.value=!0;case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),tn=function(){var e=c(o().m(function e(){var n,t,r;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fe({site_id:ke.value.id});case 1:t=e.v,r=t.data,null!==(n=r.msg)&&void 0!==n&&n.git_addr?(qe.git_addr=r.msg.git_addr,qe.branch=r.msg.branch,qe.cycle=r.msg.cycle):(qe.git_addr="",qe.branch="",qe.cycle=1,Fe.value=!0),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),rn=function(){var e=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,je.value.validate();case 1:return e.n=2,f({title:"git同步覆盖提示",content:"从git同步文件到网站目录将覆盖网站目录的文件，是否继续操作？",icon:"warning-filled"});case 2:return e.n=3,d({loading:"正在设置，请稍后...",request:de(a({site_id:ke.value.id},qe)),message:!0});case 3:e.v.status&&(Fe.value=!1,Ke());case 4:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),an=function(){var e=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:if("ltd"===Ve){e.n=1;break}return e.a(2,Z({sourceId:310,disablePro:!0}));case 1:d({request:pe({site_id:ke.value.id}),message:!0});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),un=function(){var e=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,on();case 1:Le.value=!0;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),on=function(){var e=c(o().m(function e(){var n,t;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return Ge.value=!0,e.p=1,e.n=2,me({path:"/www/wwwlogs/syncsite/"+ke.value.id+".log"});case 2:n=e.v,Ae.value=n.data.data||"暂无日志数据",e.n=4;break;case 3:e.p=3,t=e.v,h(t);case 4:return e.p=4,Ge.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),ln=function(){var e=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,d({loading:"正在设置防跨站，请稍后...",request:ve({path:Ce.path}),message:!0});case 1:e.v.status&&Ke();case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),cn=function(){var e=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,d({loading:"正在设置写访问日志，请稍后...",request:he({id:ke.value.id}),message:!0});case 1:e.v.status&&Ke();case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),sn=function(){var e=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return Pe.value=!0,e.p=1,e.n=2,ze();case 2:return e.n=3,Ke();case 3:return e.n=4,Qe();case 4:return e.n=5,$e();case 5:e.n=7;break;case 6:e.p=6,e.v;case 7:return e.p=7,Pe.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}));return function(){return e.apply(this,arguments)}}(),fn={class:""},dn={class:"formItem"},pn={class:"formItem"},mn={class:"formItem"},vn={class:"formItem"},hn={class:"formItem"},yn={class:"formItem"},gn={class:"formItem"},bn={class:"flex items-center"},wn={class:"p-[20px]"},_n={class:"p-[20px]"},kn={class:"p-[20px]"},Vn={class:"flex items-center justify-between"};e("default",_(C({__name:"cataluge-setting",setup:function(e,t){var a=t.expose,o=u().enterpriseRec;return S(sn),a({init:sn}),function(e,t){var a=$,u=z,l=W,i=B,c=K,s=g,f=M,d=b,p=J,m=Q,v=w,h=r,_=O("bt-loading");return T((U(),F("div",fn,[q("div",dn,[t[26]||(t[26]=q("span",{class:"formLabel"},"网站目录",-1)),j(a,{class:"mr-[12px]",modelValue:I(Ce).path,"onUpdate:modelValue":t[0]||(t[0]=function(e){return I(Ce).path=e}),icon:"el-folder-opened",onIconClick:I(Be),width:"32rem"},null,8,["modelValue","onIconClick"]),j(u,{type:"primary",onClick:I(Me)},{default:A(function(){return n(t[25]||(t[25]=[G("保存",-1)]))}),_:1},8,["onClick"])]),t[50]||(t[50]=q("span",{class:"formTips"},"当前网站的部署目录，可以选择其他目录",-1)),q("div",pn,[t[28]||(t[28]=q("span",{class:"formLabel"},"运行目录",-1)),j(i,{class:"mr-[12px] !w-[32rem]",modelValue:I(Ce).runPath,"onUpdate:modelValue":t[1]||(t[1]=function(e){return I(Ce).runPath=e})},{default:A(function(){return[(U(!0),F(L,null,D(I(Ce).dirs,function(e){return U(),H(l,{key:e,label:e,value:e},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"]),j(u,{type:"primary",onClick:I(Je)},{default:A(function(){return n(t[27]||(t[27]=[G("保存",-1)]))}),_:1},8,["onClick"])]),t[51]||(t[51]=q("span",{class:"formTips"},"部分程序需要指定二级目录作为运行目录，如ThinkPHP5,Laravel",-1)),q("div",mn,[t[30]||(t[30]=q("span",{class:"formLabel"},"添加FTP",-1)),j(c,{class:"mr-[12px]",modelValue:I(Oe).ftp_status,"onUpdate:modelValue":t[2]||(t[2]=function(e){return I(Oe).ftp_status=e}),onChange:I(We)},null,8,["modelValue","onChange"]),t[31]||(t[31]=q("span",{class:"text-tertiary"},"为当前目录添加一个FTP账号，以支持访问",-1)),j(s,{onClick:t[3]||(t[3]=function(e){return Se.value=!0})},{default:A(function(){return n(t[29]||(t[29]=[G("点击配置>>",-1)]))}),_:1})]),q("div",vn,[t[33]||(t[33]=q("span",{class:"formLabel"},"文件同步",-1)),j(c,{class:"mr-[12px]",modelValue:I(Te),"onUpdate:modelValue":t[4]||(t[4]=function(e){return E(Te)?Te.value=e:null}),onChange:I(Xe)},null,8,["modelValue","onChange"]),t[34]||(t[34]=q("i",{class:"svgtofont-icon-ltd text-extraLarge text-ltd mr-4px"},null,-1)),t[35]||(t[35]=q("span",{class:"text-tertiary"},"可以同步网站文件至其他服务节点",-1)),j(s,{onClick:I(Ze)},{default:A(function(){return n(t[32]||(t[32]=[G("点击配置>>",-1)]))}),_:1},8,["onClick"])]),T(q("div",hn,[t[39]||(t[39]=q("span",{class:"formLabel"},"git同步",-1)),j(c,{class:"mr-[12px]",modelValue:I(Ce).sync_git,"onUpdate:modelValue":t[5]||(t[5]=function(e){return I(Ce).sync_git=e}),onChange:I(en)},null,8,["modelValue","onChange"]),t[40]||(t[40]=q("i",{class:"svgtofont-icon-ltd text-extraLarge text-ltd mr-4px"},null,-1)),t[41]||(t[41]=q("span",{class:"text-tertiary"},"可以从git中下载文件到网站目录中",-1)),j(s,{onClick:I(nn)},{default:A(function(){return n(t[36]||(t[36]=[G("点击配置>>",-1)]))}),_:1},8,["onClick"]),j(f,{direction:"vertical"}),j(s,{onClick:I(un)},{default:A(function(){return n(t[37]||(t[37]=[G("查看日志",-1)]))}),_:1},8,["onClick"]),j(f,{direction:"vertical"}),j(s,{onClick:I(an)},{default:A(function(){return n(t[38]||(t[38]=[G("立即同步",-1)]))}),_:1},8,["onClick"])],512),[[N,I(o)]]),j(f),q("div",yn,[t[42]||(t[42]=q("span",{class:"formLabel"},"防跨站攻击",-1)),j(c,{class:"mr-[12px]",modelValue:I(Ce).userini,"onUpdate:modelValue":t[6]||(t[6]=function(e){return I(Ce).userini=e}),onChange:I(ln)},null,8,["modelValue","onChange"]),t[43]||(t[43]=q("span",{class:"text-tertiary"},"防跨站攻击(open_basedir)，防止黑客通过其他网站目录进行入侵攻击",-1))]),q("div",gn,[t[44]||(t[44]=q("span",{class:"formLabel"},"写访问日志",-1)),j(c,{class:"mr-[12px]",modelValue:I(Ce).logs,"onUpdate:modelValue":t[7]||(t[7]=function(e){return I(Ce).logs=e}),onChange:I(cn)},null,8,["modelValue","onChange"]),t[45]||(t[45]=q("span",{class:"text-tertiary"},"允许当前日志增加访问日志",-1))]),j(f),q("div",bn,[t[46]||(t[46]=q("span",{class:"mr-[20px] w-[7rem] text-right"},"密码访问",-1)),j(c,{modelValue:I(Ee).status,"onUpdate:modelValue":t[8]||(t[8]=function(e){return I(Ee).status=e}),onChange:I(Re)},null,8,["modelValue","onChange"])]),I(Ee).status?(U(),H(m,{key:0,model:I(Ee),ref_key:"passVisitFormRef",ref:xe,rules:I(Ne),class:"mt-[20px]","label-width":"70px","label-position":"right"},{default:A(function(){return[j(p,{label:"账号",prop:"username"},{default:A(function(){return[j(d,{width:"20rem",modelValue:I(Ee).username,"onUpdate:modelValue":t[9]||(t[9]=function(e){return I(Ee).username=e}),placeholder:"不修改请留空"},null,8,["modelValue"])]}),_:1}),j(p,{label:"访问密码",prop:"password"},{default:A(function(){return[j(d,{width:"20rem",modelValue:I(Ee).password,"onUpdate:modelValue":t[10]||(t[10]=function(e){return I(Ee).password=e}),type:"password",placeholder:"不修改请留空"},null,8,["modelValue"])]}),_:1}),j(p,{label:"重复密码",prop:"rePass"},{default:A(function(){return[j(d,{width:"20rem",modelValue:I(Ee).rePass,"onUpdate:modelValue":t[11]||(t[11]=function(e){return I(Ee).rePass=e}),type:"password",placeholder:"不修改请留空"},null,8,["modelValue"])]}),_:1}),j(p,{label:" "},{default:A(function(){return[j(u,{type:"primary",onClick:I(He)},{default:A(function(){return n(t[47]||(t[47]=[G("保存",-1)]))}),_:1},8,["onClick"])]}),_:1})]}),_:1},8,["model","rules"])):R("",!0),j(v,{title:"FTP配置",modelValue:I(Se),"onUpdate:modelValue":t[16]||(t[16]=function(e){return E(Se)?Se.value=e:null}),area:42,showFooter:"",onConfirm:t[17]||(t[17]=function(e){return I(We)(!1,!0)}),onClose:t[18]||(t[18]=function(e){return I(Qe)()})},{default:A(function(){return[q("div",wn,[j(m,{"label-position":"right",model:I(Oe)},{default:A(function(){return[j(p,{label:"用户名"},{default:A(function(){return[j(d,{modelValue:I(Oe).ftp_name,"onUpdate:modelValue":t[12]||(t[12]=function(e){return I(Oe).ftp_name=e}),placeholder:"请输入ftp用户名",style:{width:"100%"}},null,8,["modelValue"])]}),_:1}),j(p,{label:"密码"},{default:A(function(){return[j(a,{modelValue:I(Oe).ftp_pwd,"onUpdate:modelValue":t[13]||(t[13]=function(e){return I(Oe).ftp_pwd=e}),icon:"el-refresh",onIconClick:t[14]||(t[14]=function(){return I(Oe).ftp_pwd=I(y)(16)}),width:"32rem"},null,8,["modelValue"])]}),_:1}),j(p,{label:"根目录"},{default:A(function(){return[j(d,{modelValue:I(Ce).path,"onUpdate:modelValue":t[15]||(t[15]=function(e){return I(Ce).path=e}),disabled:"",style:{width:"100%"}},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model"])])]}),_:1},8,["modelValue"]),j(v,{title:"配置GIT同步",modelValue:I(Fe),"onUpdate:modelValue":t[22]||(t[22]=function(e){return E(Fe)?Fe.value=e:null}),area:42,showFooter:"",onConfirm:I(rn)},{default:A(function(){return[q("div",_n,[j(m,{"label-position":"right",ref_key:"gitFormRef",ref:je,model:I(qe),rules:I(De)},{default:A(function(){return[j(p,{label:"git地址",prop:"git_addr"},{default:A(function(){return[j(d,{modelValue:I(qe).git_addr,"onUpdate:modelValue":t[19]||(t[19]=function(e){return I(qe).git_addr=e}),placeholder:"请输入git地址",width:"24rem"},null,8,["modelValue"])]}),_:1}),j(p,{label:"分支"},{default:A(function(){return[j(d,{modelValue:I(qe).branch,"onUpdate:modelValue":t[20]||(t[20]=function(e){return I(qe).branch=e}),placeholder:"请输入git分支,为空默认主分支",width:"24rem"},null,8,["modelValue"])]}),_:1}),j(p,{label:"同步周期"},{default:A(function(){return[j(d,{modelValue:I(qe).cycle,"onUpdate:modelValue":t[21]||(t[21]=function(e){return I(qe).cycle=e}),"text-type":"天",type:"number",min:1,width:"24rem"},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model","rules"])])]}),_:1},8,["modelValue","onConfirm"]),j(v,{title:"Git日志",modelValue:I(Le),"onUpdate:modelValue":t[24]||(t[24]=function(e){return E(Le)?Le.value=e:null}),area:70},{default:A(function(){return[q("div",kn,[q("div",Vn,[j(u,{type:"primary",onClick:I(on)},{default:A(function(){return n(t[48]||(t[48]=[G("刷新",-1)]))}),_:1},8,["onClick"]),t[49]||(t[49]=q("span",{class:"text-tertiary mt-[8px]"},"提示：支持Ctrl + F，快捷搜索日志内容",-1))]),T(j(h,{class:"!h-[54rem] !w-full my-[12px]",modelValue:I(Ae),"onUpdate:modelValue":t[23]||(t[23]=function(e){return E(Ae)?Ae.value=e:null}),config:e.config},null,8,["modelValue","config"]),[[_,I(Ge)]])])]}),_:1},8,["modelValue"])])),[[_,I(Pe)]])}}}),[["__scopeId","data-v-404542ec"]]))}}})}();
