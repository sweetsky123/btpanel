!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function u(n,o,a,i){var u=o&&o.prototype instanceof l?o:l,s=Object.create(u.prototype);return r(s,"_invoke",function(n,r,o){var a,i,u,l=0,s=o||[],f=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,n){return a=e,i=0,u=t,p.n=n,c}};function v(n,r){for(i=n,u=r,e=0;!f&&l&&!o&&e<s.length;e++){var o,a=s[e],v=p.p,m=a[2];n>3?(o=m===r)&&(u=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=t):a[0]<=v&&((o=n<2&&v<a[1])?(i=0,p.v=r,p.n=a[1]):v<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,p.n=m,i=0))}if(o||n>1)return c;throw f=!0,r}return function(o,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&v(s,m),i=s,u=m;(e=i<2?t:u)||!f;){a||(i?i<3?(i>1&&(p.n=-1),v(i,u)):p.n=u:p.v=u);try{if(l=2,a){if(i||(o="next"),e=a[o]){if(!(e=e.call(a,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,i<2&&(i=0)}else 1===i&&(e=a.return)&&e.call(a),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=t}else if((e=(f=p.n<0)?u:n.call(r,p))!==c)break}catch(e){a=t,i=1,u=e}finally{l=1}}return{value:e,done:f}}}(n,a,i),!0),s}var c={};function l(){}function s(){}function f(){}e=Object.getPrototypeOf;var p=[][a]?e(e([][a]())):(r(e={},a,function(){return this}),e),v=f.prototype=l.prototype=Object.create(p);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,r(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t}return s.prototype=f,r(v,"constructor",f),r(f,"constructor",s),s.displayName="GeneratorFunction",r(f,i,"GeneratorFunction"),r(v),r(v,i,"Generator"),r(v,a,function(){return this}),r(v,"toString",function(){return"[object Generator]"}),(n=function(){return{w:u,m:m}})()}function r(t,e,n,o){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}r=function(t,e,n,o){function i(e,n){r(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},r(t,e,n,o)}function o(t,e,n,r,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var i=t.apply(e,n);function u(t){o(i,r,a,u,c,"next",t)}function c(t){o(i,r,a,u,c,"throw",t)}u(void 0)})}}System.register(["./index-legacy123.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./site-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792"],function(e,r){"use strict";var o,i,u,c,l,s,f,p,v,m,d,y,g,b,h,w,x,j,_,k;return{setters:[function(t){o=t._},function(t){i=t.c,u=t.r,c=t.w,l=t.v,s=t.aG,f=t.x,p=t.y,v=t.A,m=t.B,d=t.z,y=t.e,g=t.C,b=t.D,h=t.H},function(t){w=t.b,x=t.p,j=t.Q},function(t){_=t.getBackupLogs,k=t.stopBackup},null],execute:function(){var r={class:"p-2rem flex-wrap"},O={class:"relative w-full text-medium flex items-center leading-4rem mb-1rem justify-between"},S={class:"ml-1rem"},T={class:"grid grid-cols-3 leading-3rem py-1rem text-base"},A={class:"flex items-center mr-1rem"},C={class:"truncate flex-1"},G={class:"flex items-center mr-1rem"},P={class:"truncate flex-1"},D={class:"flex items-center"},E={class:"truncate flex-1"};e("default",i({__name:"backup-log",props:{compData:{default:function(){return{type:"scan",endMsg:"扫描结束",logPath:"",successMsg:"修复成功",isClear:!1,completeEvent:null,id:""}}}},emits:["close","onCancel"],setup:function(e,i){var B=i.expose,F=i.emit,H=e,I=F,M=u(""),L=u(""),q=u(""),z=u("");c(function(){return H.compData},function(t){U.value=!0,K()});var N=w(),Q=u("获取中...\t"),U=u(!0),$=u(null),J=!1,K=function(){var t=a(n().m(function t(){var e,r;return n().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!J){t.n=1;break}return t.a(2);case 1:return t.p=1,t.n=2,_({id:H.compData.id});case 2:if(e=t.v,r=e.data,Q.value!==r.msg&&(Q.value=r.msg),null!=r&&r.total&&(M.value=r.total,L.value=r.speed,q.value=r.site_name,z.value=r.title),!r.stop){t.n=3;break}return U.value=!1,r.status?(N.success(r.title),I("close"),V()):(N.error(r.title),U.value=!1),t.a(2);case 3:!r.stop&&U.value&&($.value=setTimeout(function(){K()},1e3)),t.n=5;break;case 4:t.p=4,t.v,U.value&&K();case 5:return t.a(2)}},t,null,[[1,4]])}));return function(){return t.apply(this,arguments)}}(),R=function(){var t=a(n().m(function t(){return n().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,x({width:"40rem",title:"取消备份",content:'<p>取消选中站点备份文件后，<span class="text-danger">该站点备份文件将永久消失</span>，是否继续？</p>',icon:"warning-filled",isHtml:!0});case 1:return t.n=2,j({loading:"正在取消备份，请稍后...",request:k({id:H.compData.id}),message:!0});case 2:I("close");case 3:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),V=function(){$.value&&clearTimeout($.value)},W=function(){H.compData.isClear&&clearTimeout($.value)};return I("onCancel",W),l(function(){K()}),s(function(){V(),J=!0}),B({onCancel:W}),function(e,n){var a=h,i=o;return f(),p("div",r,[v("div",O,[v("div",null,[n[0]||(n[0]=v("i",{class:"svgtofont-el-loading text-iconLarge"},null,-1)),v("span",S,m(d(z)||"正在备份，请稍后..."),1)]),y(a,{type:"warning",plain:"",onClick:R},{default:g(function(){return t(n[1]||(n[1]=[b("取消备份",-1)]))}),_:1})]),n[5]||(n[5]=v("hr",{class:"!border-dark"},null,-1)),v("div",T,[v("div",A,[n[2]||(n[2]=v("span",null,"备份网站：",-1)),v("div",C,m(d(q)||"--"),1)]),v("div",G,[n[3]||(n[3]=v("div",null,"已备份：",-1)),v("div",P,m(d(M)||"--"),1)]),v("div",D,[n[4]||(n[4]=v("div",null,"备份速度：",-1)),v("div",E,m(d(L)||"--"),1)])]),y(i,{class:"h-[30rem]",content:d(Q)},null,8,["content"])])}}}))}}})}();
