import{c as a,o as e,r as s,W as l,v as r,x as o,y as t,e as m,C as n,z as u,S as i,ad as c,ab as d}from"./base-lib.js?v=1763689792";import{Q as p,cA as f,lP as v,ax as _,_ as b}from"./utils-lib.js?v=1763689792";import{p as x}from"./useMethods.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./column.js?v=1763689792";import"./index110.js?v=1763689792";const y={class:"flex flex-col p-[1.6rem] lib-box"},j=b(a({__name:"pull-mirror-select-dialog",props:{compData:{default:()=>({})}},setup(a,{expose:b}){const j=a,g=e({name:"",id:""}),h=s(),q={name:[{required:!0,message:"请选择仓库",trigger:"blur"}]},D=l([]);return r(async()=>{g.id=j.compData.id,p({request:f(),data:Array,success:a=>{var e;a.forEach(a=>{D.value.push({value:a.url,label:"".concat(a.name).concat("docker.io"===a.url?"":"(".concat(a.url,")")),url:a.url,name:a.name})}),g.name=null==(e=D.value[0])?void 0:e.value}})}),b({onConfirm:async a=>{try{await h.value.validate(async e=>{if(e){let e={template_id:j.compData.id,name:D.value.find(a=>a.url==g.name).name,url:D.value.find(a=>a.url==g.name).url};p({request:v({data:JSON.stringify(e)})}),x(),a()}})}catch(e){}}}),(a,e)=>{const s=_,l=c,r=d;return o(),t("div",y,[m(r,{ref_key:"cmdFormRef",ref:h,model:u(g),rules:q,onSubmit:e[1]||(e[1]=i(()=>{},["prevent"]))},{default:n(()=>[m(l,{prop:"name",label:"仓库名"},{default:n(()=>[m(s,{modelValue:u(g).name,"onUpdate:modelValue":e[0]||(e[0]=a=>u(g).name=a),options:u(D),class:"w-[44rem]"},null,8,["modelValue","options"])]),_:1})]),_:1},8,["model"])])}}}),[["__scopeId","data-v-b63e8269"]]);export{j as default};
