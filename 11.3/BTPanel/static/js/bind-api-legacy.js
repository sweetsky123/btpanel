!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.toStringTag||"@@toStringTag";function i(r,o,a,c){var i=o&&o.prototype instanceof s?o:s,l=Object.create(i.prototype);return n(l,"_invoke",function(r,n,o){var a,c,i,s=0,l=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,c=0,i=e,d.n=r,u}};function p(r,n){for(c=r,i=n,t=0;!f&&s&&!o&&t<l.length;t++){var o,a=l[t],p=d.p,m=a[2];r>3?(o=m===n)&&(i=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=r<2&&p<a[1])?(c=0,d.v=n,d.n=a[1]):p<m&&(o=r<3||a[0]>n||n>m)&&(a[4]=r,a[5]=n,d.n=m,c=0))}if(o||r>1)return u;throw f=!0,n}return function(o,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),c=l,i=m;(t=c<2?e:i)||!f;){a||(c?c<3?(c>1&&(d.n=-1),p(c,i)):d.n=i:d.v=i);try{if(s=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(f=d.n<0)?i:r.call(n,d))!==u)break}catch(t){a=e,c=1,i=t}finally{s=1}}return{value:t,done:f}}}(r,a,c),!0),l}var u={};function s(){}function l(){}function f(){}t=Object.getPrototypeOf;var d=[][a]?t(t([][a]())):(n(t={},a,function(){return this}),t),p=f.prototype=s.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,n(e,c,"GeneratorFunction")),e.prototype=Object.create(p),e}return l.prototype=f,n(p,"constructor",f),n(f,"constructor",l),l.displayName="GeneratorFunction",n(f,c,"GeneratorFunction"),n(p),n(p,c,"Generator"),n(p,a,function(){return this}),n(p,"toString",function(){return"[object Generator]"}),(r=function(){return{w:i,m:m}})()}function n(e,t,r,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}n=function(e,t,r,o){function c(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(c("next",0),c("throw",1),c("return",2))},n(e,t,r,o)}function o(e,t,r,n,o,a,c){try{var i=e[a](c),u=i.value}catch(e){return void r(e)}i.done?t(u):Promise.resolve(u).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var c=e.apply(t,r);function i(e){o(c,n,a,i,u,"next",e)}function u(e){o(c,n,a,i,u,"throw",e)}i(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./statusbar-legacy2.js?v=1763689792","./api-legacy2.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792"],function(t,n){"use strict";var o,c,i,u,s,l,f,d,p,m,y,v,b,h,g;return{setters:[function(e){o=e.e},function(e){c=e.a},function(e){i=e.s,u=e.j,s=e.u},function(e){l=e.c,f=e.x,d=e.y,p=e.O,m=e.z,y=e.G,v=e.A,b=e.e,h=e.D,g=e.C},null],execute:function(){var n={class:"tx_key_bind px-[2rem] py-[4rem]"},w={class:"tx_key_title"},_={class:"flex items-center justify-center"},I={class:"flex items-center gap-1rem"},j={class:"leading-2rem text-base px-[2rem]"};t("default",l({__name:"bind-api",props:{compData:{default:function(){return{}}}},setup:function(t){var l=t,S=l.compData.dependencies.vueMethods,x=S.unref,A=S.ref,k=S.reactive,D=x(l.compData.dependencies.components),K=D.BtInput,O=D.ElForm,P=D.ElFormItem,E=D.ElAlert,G=D.ElButton,T=x(l.compData.dependencies.hooks),F=T.useAxios,V=T.useMessage,C=T.useConfirm,q=V(),M=A(),U=k({secretId:l.compData.secretId||"",secretKey:l.compData.secretKey||""}),B=k({secretId:[{validator:function(e,t,r){U.secretId?r():r(new Error("请输入SecretId"))},message:"请输入SecretId",trigger:"blur"}],secretKey:[{validator:function(e,t,r){U.secretKey?r():r(new Error("请输入secretKey"))},message:"请输入SecretKey",trigger:"blur"}]}),z=function(){var e=a(r().m(function e(){var t,n;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,M.value.validate();case 1:return e.p=1,t=q.load("正在关联密钥，请稍后..."),e.n=2,u({secretId:U.secretId,secretKey:U.secretKey});case 2:n=e.v,t.close(),q.request(n),window.location.reload(),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=a(r().m(function e(){var t,n;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,C({title:"解绑阿里云API密钥",content:"是否取消关联阿里云API密钥,是否继续？"});case 1:return t=q.load("正在取消关联密钥，请稍后..."),e.n=2,s();case 2:n=e.v,t.close(),q.request(n),window.location.reload();case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return i(F),function(r,a){var i=o;return f(),d("div",n,[t.compData.tips||t.compData.alert?(f(),p(m(E),{key:0,type:"error",description:t.compData.tips||t.compData.alert,class:"!mb-1.6rem",closable:!1},null,8,["description"])):y("",!0),v("div",w,[v("span",_,[b(c,{class:"mr-[0.5rem]"}),a[3]||(a[3]=h(" 关联阿里云API密钥 ",-1))])]),b(m(O),{ref_key:"configFormRef",ref:M,rules:m(B),"label-position":"right","label-width":"100px","hide-required-asterisk":true,"show-message":true,model:m(U),class:"demo-form-inline mb-2rem"},{default:g(function(){return[b(m(P),{label:"SecretId",prop:"secretId"},{default:g(function(){return[b(m(K),{modelValue:m(U).secretId,"onUpdate:modelValue":a[0]||(a[0]=function(e){return m(U).secretId=e}),width:"24.8rem",placeholder:"请输入SecretId"},null,8,["modelValue"])]}),_:1}),b(m(P),{label:"SecretKey",prop:"secretKey"},{default:g(function(){return[b(m(K),{modelValue:m(U).secretKey,"onUpdate:modelValue":a[1]||(a[1]=function(e){return m(U).secretKey=e}),width:"24.8rem",class:"password","show-password":"",placeholder:"请输入SecretKey"},null,8,["modelValue"])]}),_:1}),b(m(P),{label:" "},{default:g(function(){return[v("div",I,[b(m(G),{type:"primary",onClick:z},{default:g(function(){return e(a[4]||(a[4]=[h("关联API密钥",-1)]))}),_:1}),l.compData.isEdit||t.compData.tips?(f(),p(m(G),{key:0,type:"define",onClick:a[2]||(a[2]=function(e){return H()})},{default:g(function(){return e(a[5]||(a[5]=[h("取消关联密钥",-1)]))}),_:1})):y("",!0)])]}),_:1})]}),_:1},8,["rules","model"]),a[8]||(a[8]=v("div",{class:"leading-2rem text-base mb-[0.5rem] px-[2rem]",style:{color:"red"}},"温馨提示：请确保当前关联的密钥是本服务器的，如果不一致，将会导致数据获取异常和不正确，请须知",-1)),v("div",j,[a[7]||(a[7]=h("您正在使用宝塔面板阿里云联合定制版，请关联您的阿里云API密钥，如何获取阿里云API密钥，",-1)),b(i,{href:"https://console.cloud.tencent.com/cam/capi",target:"_blank",class:"btlink"},{default:g(function(){return e(a[6]||(a[6]=[h("点击查看",-1)]))}),_:1})])])}}}))}}})}();
