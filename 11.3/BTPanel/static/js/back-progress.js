import{c as s,r as a,v as e,a8 as t,x as l,y as o,A as c,B as r,z as n,L as i,e as u,G as m,C as p,D as d,b6 as f,bP as b,bO as x,H as _}from"./base-lib.js?v=1763689792";import{l as v,_ as g}from"./utils-lib.js?v=1763689792";import{_ as j}from"./index123.js?v=1763689792";import{i as k,L as y,M as h,N as D,p as C,O as w,P as z,Q as M,R as O,S as H}from"./useMethod3.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./config.js?v=1763689792";import"./useMethod2.js?v=1763689792";import"./validator.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const L={class:"p-2rem pt-0"},N={key:0,class:"flex-col flex"},P={class:"text-base"},A={class:"mb-1.2rem mt-[0.4rem] flex items-center"},B={key:1,class:"flex flex-col pl-8px leading-[22px] pb-2rem"},F={class:"w-[28rem] truncate inline-block"},G={key:2,class:"flex flex-col pl-8px"},I={key:0,class:"mt-8px"},Q={class:"flex justify-end mt-[1.2rem]"},R=g(s({__name:"back-progress",props:{compData:{type:Object,default:()=>({})}},setup(s){const g=a(k.value?"还原":"备份"),R=s;return e(()=>{var s;y.status=1,y.msg="即将开始"+g.value,y.progress=0,y.time=0,h.value="正在获取"+g.value+"日志",D(null==(s=R.compData)?void 0:s.type)}),t(()=>{C.value=null}),(s,a)=>{const e=f,t=j,D=b,C=x,R=v,S=_;return l(),o("div",L,[c("p",{class:i(["mt-1.2rem my-2rem font-bold text-base",{"text-dangerDark":3===n(y).status}])},r(1===n(y).status?"".concat(n(g),"进度条"):"".concat(3===n(y).status?"失败":"成功","详情")),3),[0,1,4,5].includes(n(y).status)?(l(),o("div",N,[c("span",P,r(n(y).msg),1),c("div",A,[u(e,{class:"w-full","text-inside":!0,"stroke-width":20,percentage:n(y).progress,status:"success"},null,8,["percentage"]),c("i",{class:"svgtofont-el-circle-close text-dangerDark !text-large pl-4px cursor-pointer",onClick:a[0]||(a[0]=(...s)=>n(w)&&n(w)(...s))})]),u(t,{class:"h-22rem !rounded-none",content:n(h)},null,8,["content"])])):m("",!0),2===n(y).status||3===n(y).status?(l(),o("div",B,[u(C,{title:!1,column:1,size:"small",border:"",class:"table-descriptions"},{default:p(()=>[u(D,{label:"".concat(n(g),"名称：")},{default:p(()=>[d(r(n(z).name),1)]),_:1},8,["label"]),u(D,{label:"".concat(n(g),"时间：")},{default:p(()=>[d(r(n(z).end_time),1)]),_:1},8,["label"]),u(D,{label:"".concat(n(g),"大小：")},{default:p(()=>[d(r(n(z).files_size),1)]),_:1},8,["label"]),u(D,{label:"backup_file_sha256"},{default:p(()=>[c("span",F,r(n(z).backup_file_sha256),1)]),_:1}),u(D,{label:"耗时"},{default:p(()=>[d(r(Number(n(z).time_count).toFixed(2))+" 秒 ",1)]),_:1}),u(D,{label:"状态："},{default:p(()=>[...a[1]||(a[1]=[d(" 成功",-1)])]),_:1})]),_:1})])):m("",!0),3===n(y).status?(l(),o("div",G,[u(R,{column:n(M),data:n(O)},null,8,["column","data"]),n(k)?(l(),o("span",I,"提示：还原失败项已经自动恢复到还原前")):m("",!0),c("div",Q,[u(S,{type:"danger",onClick:n(H)},{default:p(()=>[...a[2]||(a[2]=[d("重试",-1)])]),_:1},8,["onClick"])])])):m("",!0)])}}}),[["__scopeId","data-v-2fc0f578"]]);export{R as default};
