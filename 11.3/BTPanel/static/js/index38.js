import{_ as e}from"./index109.js?v=1763689792";import{_ as s}from"./index137.js?v=1763689792";import{u as a,N as t,b3 as i,an as n,ao as l,cM as r,_ as o}from"./utils-lib.js?v=1763689792";import{_ as c}from"./index113.js?v=1763689792";import{c as p,v as d,r as u,e as m,ad as _,U as h,H as g,D as f,aT as v,x as y,y as x,C as k,A as b,z as w,O as C,B as j,L as B,G as I}from"./base-lib.js?v=1763689792";import{u as L}from"./column.js?v=1763689792";import{u as V,l as S,a as D,h as H,b as P,c as W,r as U,g as R,d as A,e as M,f as O,i as T,o as q,j as z,k as E,m as G,n as K}from"./useController7.js?v=1763689792";import{b as N}from"./validator.js?v=1763689792";import"./index110.js?v=1763689792";import"./index.vue_vue_type_style_index_0_scoped_cdc7f4d3_lang.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index107.js?v=1763689792";const F={class:"domain-register module-ui"},J={key:0,class:"domain-access-restricted"},Q={class:"action-buttons"},X={key:1,class:"domain-access-restricted"},Y={class:"ip-display"},Z={class:"ip-address"},$={class:"action-buttons"},ee={key:2},se=o(p({__name:"index",setup(o){const{mainHeight:p}=a(),{searchWidth:se,domainSearchValue:ae,ipSearchValue:te,isRegListRefresh:ie,publicIp:ne,isLoadingIp:le,showMask:re,whoisSearchValue:oe,isUserBound:ce}=V(),pe=()=>{window.open("https://www.bt.cn/domain/domain-security","_blank")};d(async()=>{await S(),await D()});const de=u([{type:"custom",render:()=>m("div",{class:"flex items-center domain-register-input-group mr-[12px]"},[m(_,{prop:"domain",class:"!mb-0"},{default:()=>[m(h,{modelValue:ae.value,"onUpdate:modelValue":e=>ae.value=e,onKeyupEnter:()=>H(ae),placeholder:"输入要注册的域名"},{append:()=>m(g,{type:"primary",onClick:()=>H(ae)},{default:()=>[f("立即注册")]})})]})])},{label:"Whois查询",type:"button",onClick:()=>P(oe)},{type:"divider"},{type:"custom",render:()=>m("div",{class:"flex items-center ip-edit-input-group mr-[12px]"},[m(_,{prop:"ip",class:"!mb-0"},{default:()=>[m(h,{disabled:!0,modelValue:te.value,"onUpdate:modelValue":e=>te.value=e,value:"解析IP：".concat(te.value),placeholder:"解析IP：".concat(te.value)},{append:()=>m(g,{type:"primary",onClick:()=>W(te.value)},{default:()=>[f("修改")]})})]})])},{type:"custom",render:()=>m(v,{content:"本地缓存用于申请证书时自动解析dns记录，每24小时自动刷新，遇到新域名自动解析失败时请刷新后重试",placement:"top",showAfter:300},{default:()=>[m(t,{type:"default",onClick:()=>{U()}},{default:()=>[f("刷新本地缓存")]})]})}]),{BtOperation:ue}=i({options:de}),{BtTable:me,BtPage:_e,BtSearch:he,BtRefresh:ge,BtColumn:fe}=n({request:e=>R(e),columns:[{label:"域名",width:"auto",prop:"full_domain",minWidth:150},A(),{label:"注册时间",prop:"register_time",minWidth:120,isCustom:!0,render:e=>e.register_time?new Date(1e3*e.register_time).toLocaleDateString():"--"},{label:"到期时间",prop:"expire_time",minWidth:120,isCustom:!0,render:e=>e.expire_time?new Date(1e3*e.expire_time).toLocaleDateString():"--"},M(),O(),L(e=>{const s=[];return 5===e.status?s.push({onClick:()=>{T(e)},title:"删除"}):(s.push({onClick:q,title:"创建网站",isHide:e=>2!==e.real_name_status}),s.push({onClick:z,title:"解析",isHide:e=>2!==e.real_name_status||0===e.ns_status}),s.push({onClick:E,title:"续费"}),s.push({onClick:e=>{2===e.real_name_status?G(e):K(e)},title:2===e.real_name_status?"查看实名信息":"立即实名",render:(e,s)=>{const a=2===e.real_name_status;return m("span",{onClick:()=>{a?G(e):K(e)},class:a?"bt-link":"cursor-pointer text-danger"},[a?"查看实名信息":"立即实名"])}})),s},{width:300})],extension:[l(ie),r()],empty:()=>m("span",null,[f("您的域名列表为空，您可以"),m("span",{class:"bt-link cursor-pointer",onClick:()=>H(ae)},[f("注册一个新域名")])])});return(a,i)=>{const n=c,l=t,r=s,o=e;return y(),x("div",F,[m(n,{class:"!mb-[12px]",type:"warning","show-icon":""},{title:k(()=>[...i[1]||(i[1]=[b("div",null," 请确保实名认证信息完整且准确，否则可能影响域名归属及使用 ",-1),b("div",null," 实名认证完成后至少 72 小时才可进行网站备案，详情请咨询相关备案平台。 ",-1)])]),_:1}),w(re)?(y(),C(r,{key:0,class:"domain-register-install-mask"},{content:k(()=>[w(ce)?(y(),x("div",X,[i[8]||(i[8]=b("div",{class:"warning-icon"},[b("i",{class:"svgtofont-el-warning text-warning !text-titleLarge"})],-1)),i[9]||(i[9]=b("h3",{class:"title"},"域名列表访问权限受限",-1)),b("div",Y,[i[6]||(i[6]=b("span",null,"当前服务器公网IP:",-1)),b("span",Z,j(w(le)?"获取中...":w(ne)),1)]),i[10]||(i[10]=b("p",{class:"instruction"},"如需访问权限，请登录官网后台，将此IP地址添加至宝塔面板域名访问权限的白名单列表中",-1)),b("div",$,[m(l,{type:"primary",onClick:pe},{default:k(()=>[...i[7]||(i[7]=[f("前往官网后台",-1)])]),_:1})])])):(y(),x("div",J,[i[3]||(i[3]=b("div",{class:"warning-icon"},[b("i",{class:"svgtofont-el-warning text-warning !text-titleLarge"})],-1)),i[4]||(i[4]=b("h3",{class:"title"},"请先绑定宝塔账号",-1)),i[5]||(i[5]=b("p",{class:"instruction"},"使用域名注册功能需要先绑定宝塔账号，绑定后可享受更多服务",-1)),b("div",Q,[m(l,{type:"primary",onClick:i[0]||(i[0]=()=>w(N)())},{default:k(()=>[...i[2]||(i[2]=[f("立即绑定账号",-1)])]),_:1})])]))]),_:1})):(y(),C(o,{key:1},{"header-left":k(()=>[m(w(ue))]),"header-right":k(()=>[m(w(he),{class:B(["mr-[10px]","!w-[".concat(w(se),"px]")]),placeholder:"请输入域名"},null,8,["class"]),m(w(ge),{class:"mr-[10px]"}),m(w(fe))]),content:k(()=>[m(w(me),{"min-height":w(p)},null,8,["min-height"])]),"footer-right":k(()=>[m(w(_e))]),_:1})),w(re)?(y(),x("div",ee,[...i[11]||(i[11]=[b("div",{class:"h-[50rem]"},null,-1)])])):I("",!0)])}}}),[["__scopeId","data-v-f528ec60"]]);export{se as default};
