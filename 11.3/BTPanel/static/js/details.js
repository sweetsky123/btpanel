import{c as a,r as e,g as l,v as s,I as t,x as o,y as n,J as r,z as i,O as p,e as u,C as c,D as d,B as _,A as m,G as b,bP as f,bO as y}from"./base-lib.js?v=1763689792";import{_ as v}from"./index123.js?v=1763689792";import{V as g,lj as h,ak as x,ho as j}from"./utils-lib.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";const k={key:1,class:"p-24px"},D=["innerHTML"],w=a({__name:"details",props:{compData:{}},setup(a){const w=a,S=e(""),z=e(!1),H=l(()=>w.compData.id),C=e({data:"",id:0,pid:0,push_title:"",push_type:"",self_type:""}),L=async()=>{try{z.value=!0;const{data:a}=await h({msg_id:H.value});if(a){const{sub:e}=a;if(!x(e))return;switch(a.sub_type){case"push_msg":C.value=e,C.value.data=C.value.data.replace(/\n/g,"<br>");break;case"soft_install":await M(e)}}}finally{z.value=!1}},M=async a=>{const{data:e}=await j({path:a.file_name});S.value=e.data};return s(()=>{L()}),(e,l)=>{const s=v,h=f,x=y,j=t("bt-loading");return o(),n("div",null,["soft_install"===a.compData.sub_type?r((o(),p(s,{key:0,class:"h-50rem !rounded-none",content:i(S),fullScreen:{title:"安装日志",onRefresh:L},"element-loading-background":"rgba(var(--el-color-black-rgb), 0.6)"},null,8,["content","fullScreen"])),[[j,i(z)]]):"push_msg"===a.compData.sub_type?r((o(),n("div",k,[u(x,{column:1,border:!0,"content-style":{color:"var(--el-base-primary)",fontSize:"13px"},"label-style":{width:"100px",backgroundColor:"var(--el-fill-color-light)",color:"var(--el-base-primary)",fontSize:"13px"}},{default:c(()=>[u(h,{label:"消息名称"},{default:c(()=>[d(_(i(C).push_title||"--"),1)]),_:1}),u(h,{label:"类型"},{default:c(()=>[d(_(i(C).push_type||"--"),1)]),_:1}),u(h,{label:"来源"},{default:c(()=>[d(_(a.compData.msg_types.join(">")),1)]),_:1}),u(h,{label:"时间"},{default:c(()=>[d(_(i(g)(a.compData.create_time)),1)]),_:1}),u(h,{label:"消息内容"},{default:c(()=>[m("div",{class:"leading-24px",innerHTML:i(C).data||"--"},null,8,D)]),_:1})]),_:1})])),[[j,i(z)]]):b("",!0)])}}});export{w as default};
