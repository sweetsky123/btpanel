import{Q as e,k as l,$ as s}from"./utils-lib.js?v=1763689792";import{c as a,r as m,v as t,x as o,y as r,A as i,D as n,e as c,z as u,C as d,H as p}from"./base-lib.js?v=1763689792";import{bB as f,bC as _}from"./firewall.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";const y={class:"px-[1.6rem] py-[1.6rem]"},b={class:"flex flex-row justify-between border-b border-darker pb-[1.6rem]"},w={class:"flex flex-row items-center reinforce_ssh"},V=a({__name:"row-ssh-config",setup(a){const V=m({cycle:0,limit:0,limit_count:0,name:"",open:!1,ps:""}),x=m([{content:"触发以上策略后，客户端IP将被封锁一段时间"},{content:"请在面板日志或操作日志中查看封锁记录"},{content:"在面板日志或操作日志中查看SSH成功登录的记录(非继承),关闭保护后权限自动还原"}]),j=async()=>{const l=await e({loading:"正在获取配置列表，请稍后...",request:f()});V.value=l.data};return t(()=>j()),(a,m)=>{const t=l,f=p,v=s;return o(),r("div",y,[i("div",b,[i("span",w,[m[4]||(m[4]=n(" 在(检测周期) ",-1)),c(t,{class:"!w-[8rem] mr-[.8rem] ml-[.4rem]",modelValue:u(V).cycle,"onUpdate:modelValue":m[0]||(m[0]=e=>u(V).cycle=e)},null,8,["modelValue"]),m[5]||(m[5]=n(" 秒内, 登录错误(检测阈值) ",-1)),c(t,{class:"!w-[8rem] mr-[.8rem] ml-[.4rem]",modelValue:u(V).limit_count,"onUpdate:modelValue":m[1]||(m[1]=e=>u(V).limit_count=e)},null,8,["modelValue"]),m[6]||(m[6]=n(" 次, 封锁(封锁时间) ",-1)),c(t,{class:"!w-[8rem] mr-[.8rem] ml-[.4rem]",modelValue:u(V).limit,"onUpdate:modelValue":m[2]||(m[2]=e=>u(V).limit=e)},null,8,["modelValue"]),m[7]||(m[7]=n(" 秒 ",-1))]),c(f,{type:"primary",onClick:m[3]||(m[3]=l=>(async()=>{const{cycle:l,limit:s,limit_count:a}=V.value;e({loading:"正在保存配置，请稍后...",request:_({cycle:l,limit:s,limit_count:a}),message:!0,success:e=>{e.status&&j()}})})())},{default:d(()=>[...m[8]||(m[8]=[n("保存",-1)])]),_:1})]),c(v,{options:u(x),class:"mx-[1.6rem] mt-[1.6rem]"},null,8,["options"])])}}});export{V as default};
