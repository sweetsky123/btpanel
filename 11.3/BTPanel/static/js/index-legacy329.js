!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,n,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.toStringTag||"@@toStringTag";function i(e,o,a,u){var i=o&&o.prototype instanceof l?o:l,f=Object.create(i.prototype);return r(f,"_invoke",function(e,r,o){var a,u,i,l=0,f=o||[],s=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,r){return a=e,u=0,i=t,p.n=r,c}};function v(e,r){for(u=e,i=r,n=0;!s&&l&&!o&&n<f.length;n++){var o,a=f[n],v=p.p,d=a[2];e>3?(o=d===r)&&(i=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=v&&((o=e<2&&v<a[1])?(u=0,p.v=r,p.n=a[1]):v<d&&(o=e<3||a[0]>r||r>d)&&(a[4]=e,a[5]=r,p.n=d,u=0))}if(o||e>1)return c;throw s=!0,r}return function(o,f,d){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&v(f,d),u=f,i=d;(n=u<2?t:i)||!s;){a||(u?u<3?(u>1&&(p.n=-1),v(u,i)):p.n=i:p.v=i);try{if(l=2,a){if(u||(o="next"),n=a[o]){if(!(n=n.call(a,i)))throw TypeError("iterator result is not an object");if(!n.done)return n;i=n.value,u<2&&(u=0)}else 1===u&&(n=a.return)&&n.call(a),u<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((n=(s=p.n<0)?i:e.call(r,p))!==c)break}catch(n){a=t,u=1,i=n}finally{l=1}}return{value:n,done:s}}}(e,a,u),!0),f}var c={};function l(){}function f(){}function s(){}n=Object.getPrototypeOf;var p=[][a]?n(n([][a]())):(r(n={},a,function(){return this}),n),v=s.prototype=l.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,r(t,u,"GeneratorFunction")),t.prototype=Object.create(v),t}return f.prototype=s,r(v,"constructor",s),r(s,"constructor",f),f.displayName="GeneratorFunction",r(s,u,"GeneratorFunction"),r(v),r(v,u,"Generator"),r(v,a,function(){return this}),r(v,"toString",function(){return"[object Generator]"}),(e=function(){return{w:i,m:d}})()}function r(t,e,n,o){var a=Object.defineProperty;try{a({},"",{})}catch(t){a=0}r=function(t,e,n,o){function u(e,n){r(t,e,function(t){return this._invoke(e,n,t)})}e?a?a(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n:(u("next",0),u("throw",1),u("return",2))},r(t,e,n,o)}function n(e,r,n){return(r=function(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,r||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function o(t,e,r,n,o,a,u){try{var i=t[a](u),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(n,o)}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./useStore-legacy9.js?v=1763689792","./form-item-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./index-legacy107.js?v=1763689792"],function(t,r){"use strict";var a,u,i,c,l,f,s,p,v,d,y,m,h,w,b,g,_,j;return{setters:[function(t){a=t.hH,u=t.kB,i=t.b6,c=t.L},function(t){l=t.r,f=t.c,s=t.g,p=t.x,v=t.y,d=t.e,y=t.z},function(t){m=t.a,h=t.u,w=t.q},function(t){b=t.b,g=t.k,_=t.l},function(t){j=t.f},null,null,null,null],execute:function(){var r=m(),P=r.isEdit,S=(r.addFtpRef,r.ftpForm,r.defaultPath),T=h().rowData;l({name:[{validator:function(t,e,r){0===e.length?r(new Error("FTP用户名不能为空！")):/^[a-zA-Z0-9_]+$/g.test(e)?e.length<=3?r(new Error("FTP用户名长度错误，需要大于3个字符！")):r():r(new Error("FTP用户名只能包含字母、数字和下划线！"))},required:!0,trigger:["blur","change"]}],password:[a({complex:{length:6}}),{required:!0}],path:[u(),{required:!0}]});var x=function(){try{var t,e,r,n=S.value||"/www/wwwroot";return P.value&&(n=null===(t=T.value)||void 0===t?void 0:t.path),{ftp_username:(null===(e=T.value)||void 0===e?void 0:e.name)||"",path:n,ftp_password:(null===(r=T.value)||void 0===r?void 0:r.password)||i(12)}}catch(o){return{}}},E={class:"p-[2rem]"};t("default",f({__name:"index",setup:function(t,r){var l,f,P=r.expose,S=m(),T=S.isEdit,F=S.defaultPath,O=h().rowData,G=c({data:x,options:function(t){return s(function(){return[b("用户名","ftp_username",{attrs:{class:"!w-[320px]",clearable:!0,placeholder:"请输入用户名",disabled:T.value,onInput:function(e){t.value.path="".concat(F.value).concat(t.value.ftp_username.length>0?"/"+t.value.ftp_username:"")}},rules:[{validator:function(t,e,r){0===e.length?r(new Error("FTP用户名不能为空！")):/^[a-zA-Z0-9_]+$/g.test(e)?e.length<=3?r(new Error("FTP用户名长度错误，需要大于3个字符！")):r():r(new Error("FTP用户名只能包含字母、数字和下划线！"))},trigger:["blur","change"]}]}),g("密码","ftp_password",{attrs:{class:"!w-[32rem]",placeholder:"请输入密码"},rules:[a({complex:{length:6}})]},function(){return t.value.ftp_password=i(12)}),_("根目录","path",{attrs:{class:"!w-[32rem]",placeholder:"请输入根目录"},rules:[u()]},function(){j({type:"dir",path:"/www/wwwroot",change:function(e){t.value.path=e}})})]})},submit:(l=e().m(function t(r,o,a){var u,i,c,l,f;return e().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,o();case 1:return u=r.value,i=u.ftp_username,c=u.path,l=u.ftp_password,f=n(n({ftp_username:i,path:c},T.value?"new_password":"ftp_password",l),"ps",i),T.value&&(f.id=O.value.id),t.n=2,w(f,T.value);case 2:return t.a(2,t.v)}},t)}),f=function(){var t=this,e=arguments;return new Promise(function(r,n){var a=l.apply(t,e);function u(t){o(a,r,n,u,i,"next",t)}function i(t){o(a,r,n,u,i,"throw",t)}u(void 0)})},function(t,e,r){return f.apply(this,arguments)})}),k=G.BtForm;return P({onConfirm:G.submit}),function(t,e){return p(),v("div",E,[d(y(k))])}}}))}}})}();
