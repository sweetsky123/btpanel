!function(){function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,r,u="function"==typeof Symbol?Symbol:{},o=u.iterator||"@@iterator",a=u.toStringTag||"@@toStringTag";function i(t,u,o,a){var i=u&&u.prototype instanceof s?u:s,f=Object.create(i.prototype);return e(f,"_invoke",function(t,e,u){var o,a,i,s=0,f=u||[],l=!1,p={p:0,n:0,v:n,a:y,f:y.bind(n,4),d:function(t,e){return o=t,a=0,i=n,p.n=e,c}};function y(t,e){for(a=t,i=e,r=0;!l&&s&&!u&&r<f.length;r++){var u,o=f[r],y=p.p,d=o[2];t>3?(u=d===e)&&(i=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=n):o[0]<=y&&((u=t<2&&y<o[1])?(a=0,p.v=e,p.n=o[1]):y<d&&(u=t<3||o[0]>e||e>d)&&(o[4]=t,o[5]=e,p.n=d,a=0))}if(u||t>1)return c;throw l=!0,e}return function(u,f,d){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&y(f,d),a=f,i=d;(r=a<2?n:i)||!l;){o||(a?a<3?(a>1&&(p.n=-1),y(a,i)):p.n=i:p.v=i);try{if(s=2,o){if(a||(u="next"),r=o[u]){if(!(r=r.call(o,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=o.return)&&r.call(o),a<2&&(i=TypeError("The iterator does not provide a '"+u+"' method"),a=1);o=n}else if((r=(l=p.n<0)?i:t.call(e,p))!==c)break}catch(r){o=n,a=1,i=r}finally{s=1}}return{value:r,done:l}}}(t,o,a),!0),f}var c={};function s(){}function f(){}function l(){}r=Object.getPrototypeOf;var p=[][o]?r(r([][o]())):(e(r={},o,function(){return this}),r),y=l.prototype=s.prototype=Object.create(p);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,e(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t}return f.prototype=l,e(y,"constructor",l),e(l,"constructor",f),f.displayName="GeneratorFunction",e(l,a,"GeneratorFunction"),e(y),e(y,a,"Generator"),e(y,o,function(){return this}),e(y,"toString",function(){return"[object Generator]"}),(t=function(){return{w:i,m:d}})()}function e(t,n,r,u){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}e=function(t,n,r,u){function a(n,r){e(t,n,function(t){return this._invoke(n,r,t)})}n?o?o(t,n,{value:r,enumerable:!u,configurable:!u,writable:!u}):t[n]=r:(a("next",0),a("throw",1),a("return",2))},e(t,n,r,u)}function n(t,e,n,r,u,o,a){try{var i=t[o](a),c=i.value}catch(t){return void n(t)}i.done?e(c):Promise.resolve(c).then(r,u)}function r(t){return function(){var e=this,r=arguments;return new Promise(function(u,o){var a=t.apply(e,r);function i(t){n(a,u,o,i,c,"next",t)}function c(t){n(a,u,o,i,c,"throw",t)}i(void 0)})}}System.register(["./base-lib-legacy.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792"],function(e,n){"use strict";var u,o,a,i,c,s,f,l,p,y,d,v,m,b,h,g,_,j,w,O,x;return{setters:[function(t){u=t.c,o=t.t,a=t.g,i=t.e,c=t.ag,s=t.V,f=t.D,l=t.H,p=t.a9,y=t.x,d=t.y,v=t.A,m=t.z},function(t){b=t.u,h=t.L,g=t.bE,_=t.Q},function(t){j=t.cV,w=t.p,O=t.dh,x=t.c_},null,null,null,null],execute:function(){e("default",u({__name:"alarm",setup:function(e){var n,u,T=b().payment,k=o(T.value).authType,G=function(){var e=r(t().m(function e(){var n,r,u,o,a,i;return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,x();case 1:return n=t.v,r=n.data,u=r.data.alertable,o=u.status,a=u.safe_type,i=u.sender,t.a(2,{data:{status:o,safe_type:a,sender:i}})}},e)}));return function(){return e.apply(this,arguments)}}(),P=h({data:(u=r(t().m(function e(){var n,r;return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,G();case 1:return n=t.v,(r=n.data).sender.length>0&&(r.sender=r.sender.filter(function(t){if(t&&""!==t)return t})),t.a(2,r||{sender:[],status:!1,safe_type:[]})}},e)})),function(){return u.apply(this,arguments)}),options:function(t){return a(function(){return[{type:"switch",label:"告警开关",key:"status"},{type:"custom",render:function(){return i(g,{label:"类型"},{default:function(){return[i(c,{modelValue:t.value.safe_type,"onUpdate:modelValue":function(e){return t.value.safe_type=e}},{default:function(){return[i(s,{value:"webshell"},{default:function(){return[f("恶意文件告警")]}})]}})]}})}},j("通知方式","sender",{attrs:{class:"!w-24rem",limit:["sms"]},rules:{sender:[{required:!0,message:"请选择告警方式",trigger:"change"}]}}),{type:"custom",render:function(){return i(g,{label:" "},{default:function(){return[i(l,{type:"primary",onClick:E},{default:function(){return["保存"]}})]}})}}]})},submit:(n=r(t().m(function e(n,r){return t().w(function(t){for(;;)switch(t.n){case 0:if("ltd"===k.value){t.n=1;break}return w({sourceId:68}),t.a(2);case 1:return t.n=2,r();case 2:return t.n=3,_({loading:"正在保存配置，请稍后...",request:O(p(n.value)),message:!0});case 3:return t.a(2)}},e)})),function(t,e){return n.apply(this,arguments)})}),S=P.BtForm,E=P.submit;return function(t,e){return y(),d("div",null,[e[0]||(e[0]=v("div",{class:"text-large mb-6"},"全局告警设置",-1)),i(m(S))])}}}))}}})}();
