import{c as e,aB as l,r as a,o as t,W as o,g as r,w as s,v as n,x as m,y as i,e as u,C as d,A as c,z as p,L as v,B as _,J as f,K as g,D as b,F as y,b1 as w,O as V,G as h,S as x,M as k,n as U,ad as C,c5 as M,H as j,ak as N,aT as q,aj as S,am as P,an as E,V as H,ag as I,b5 as L,U as O,ab as A}from"./base-lib.js?v=1763689792";import{_ as D}from"./index107.js?v=1763689792";import{aQ as R,u as B,x as T,bR as G,y as z,M as J,bU as Q,p as W,Q as F,iV as K,ci as X,iW as Y,cu as Z,cr as $,cx as ee,k as le,ag as ae,l as te,_ as oe}from"./utils-lib.js?v=1763689792";import{i as re,j as se}from"./useMethods.js?v=1763689792";import{f as ne}from"./validator.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./column.js?v=1763689792";import"./index110.js?v=1763689792";const me={class:"pb-[0]"},ie=["title"],ue={class:"max-w-[25rem]"},de={class:"text-base leading-[1.4] max-w-[25rem] truncate"},ce={class:"text-small leading-[1.2] text-[#ccc] mt-[1rem]"},pe={class:"name"},ve={class:"my-[1rem] ml-[10rem]"},_e={class:"ml-[1rem] text-primary w-[16rem] select-none"},fe={class:"pt-[0]"},ge={class:"w-full"},be={class:"flex items-center justify-between mb-[1.5rem]"},ye={class:"flex items-center text-small"},we={class:"ml-[1rem]"},Ve={class:"ml-[1rem]"},he={class:"flex items-center"},xe={class:"inline-flex ml-[1.2rem] flex items-center flex-nowrap"},ke={class:"unit"},Ue={class:"flex items-center"},Ce={class:"inline-flex ml-[1.2rem] flex items-center flex-nowrap"},Me={class:"unit"},je={class:"flex items-center"},Ne={class:"ml-[1.2rem] flex items-center"},qe={class:"unit"},Se={class:"ml-[1.2rem] flex items-center"},Pe={class:"unit"},Ee=oe(e({__name:"container-edit",props:{compData:{default:()=>({})},type:{default:"edit"}},emits:["close"],setup(e,{expose:oe,emit:Ee}){const He=l("popupClose"),{refs:{currentConDetail:Ie,maxCPU:Le,maxMem:Oe,maxGpus:Ae,isRefreshTableList:De}}=R(),Re=e,Be=Ee,{mainHeight:Te}=B();let Ge=!1;const ze=a(!1),Je=a("edit"==Re.type||"edit"==Re.compData.type),Qe=[{label:"暴露端口",value:"port"},{label:"暴露所有",value:"all"}],We=a(!1),Fe=[{label:"本机目录",value:"dir"},{label:"挂载卷",value:"volume"}],Ke=t({name:"",image:"",port:"port",portList:[],net:[],mountList:[],command:"",entrypoint:"",auto_remove:!1,console:[],privileged:!1,reSet:"always",mem_reservation:0,cpu_quota:0,labels:"",environment:"",mem_limit:0,remark:"",gpus:0}),Xe=o([]),Ye=r(()=>Te.value-240<620?Te.value-240:620),Ze=a(),$e={name:[{required:!0,message:"请输入容器名",trigger:"blur"}],image:[{required:!0,message:"请选择镜像",trigger:["blur","change"]}]},el=()=>{Ke.net.push({id:z(),network:"",ip4:"",ip6:""})},ll=()=>{Xe.value=[...Xe.value,{id:z(),server:"",con:"",protocol:["tcp"],output:!1}]},al=o([]),tl=()=>{Ke.mountList.push({id:z(),Mtype:"volume",volume:"",local:"",dir:"",auth:"ro"})},ol=o([]);let rl=null,sl="";const nl=e=>{sl=e.value},ml=(e,l)=>{const a=()=>{const a=ol.value,t=e===sl?a.sort((e,l)=>e.value===sl&&l.value!==sl?-1:e.value!==sl&&l.value===sl?1:0):a.filter(l=>l.value.includes(e));l(t)};Ge?rl=setInterval(()=>{Ge||(clearInterval(rl),a())},1e3):a()},il=o([]),ul=[{key:"ro",title:"只读"},{key:"rw",title:"读写"}],dl=re({setPort:(e,l,a)=>{switch(a){case"server":l.server=e;break;case"con":l.con=e;break;case"protocol":l.protocol=e;break;case"output":l.output=e}},delPort:e=>{const l=Xe.value.findIndex(l=>l.id===e.id);Xe.value.splice(l,1),Xe.value=[...Xe.value]}}),cl=se({changeNet:(e,l,a)=>{switch(a){case"network":e.network=l,"bridge"!==l&&"none"!==l&&"host"!==l||(e.ip4="",e.ip6="");break;case"ip4":e.ip4=l;break;case"ip6":e.ip6=l}},delNet:e=>{const l=Ke.net.findIndex(l=>l.id===e.id);Ke.net.splice(l,1)},netOptions:al}),pl=async()=>{var e;if(ze.value)J.error("正在获取容器数据中，请稍后");else{await Ze.value.validate();try{const l=_l(),a=fl(),t=vl();if(Q(l)||!a||!t)return!1;const o={id:Re.compData.row.id,new_name:Ke.name,new_image:Ke.image,new_publish_all_ports:"all"==Ke.port?"1":"0",new_ports:!0===l?"":l,network_info:!0===t?[]:t,new_command:Ke.command,new_entrypoint:Ke.entrypoint,new_auto_remove:Ke.auto_remove?"1":"0",new_privileged:Ke.privileged?"1":"0",new_restart_policy:{Name:Ke.reSet},new_mem_reservation:"".concat(0==Ke.mem_reservation?0:"".concat(Ke.mem_reservation,"MB")),gpus:Ke.gpus,new_cpu_quota:Ke.cpu_quota,new_mem_limit:"".concat(0==Ke.mem_limit?0:"".concat(Ke.mem_limit,"MB")),new_labels:gl(Ke.labels),new_environment:gl(Ke.environment)};Ke.auto_remove&&(o.new_restart_policy.Name=""),a&&Object.keys(a).length>0&&(o.new_volumes=a),"on-failure"==Ke.reSet&&(o.new_restart_policy.MaximumRetryCount=5),Ke.console.length>0&&(null==(e=Ke.console)||e.forEach((e,l)=>{switch(e){case"-t":o.new_tty=!0;break;case"-i":o.new_stdin_open=!0}})),await W({title:"编辑容器【".concat(Re.compData.row.name,"】"),width:"45rem",content:'【command、entrypoint，标签和环境变量】<span class="text-danger">配置错误可能导致编辑后的容器无法运行或者丢失</span>，请谨慎操作',isHtml:!0,type:"input",input:{content:"确认无误"}}),await F({request:K({data:JSON.stringify(o)}),message:!0,loading:"正在编辑容器，请稍后...",success:e=>{e.status&&(setTimeout(()=>{window.location.reload()},1e3),He(),Be("close"))}})}catch(l){}}},vl=()=>{var e;try{if(0==Ke.net.length)return!0;const l=[];return null==(e=Ke.net)||e.forEach(e=>{if(""===e.network&&""!==e.ip4)return J.error("请选择网络"),!1;if(""!==e.ip4&&!X(e.ip4))throw J.error("请输入正确的IPV4地址,为空则自动生成"),Error("请输入正确的IPV4地址,为空则自动生成");l.push({network:e.network,ip_address:e.ip4,ip_addressv6:e.ip6})}),l.filter(e=>""!==e.network)}catch(l){return!1}},_l=()=>{var e;if("all"==Ke.port||0==Xe.value.length)return!0;const l={};return null==(e=Xe.value)||e.forEach(e=>""==e.server?(J.error("本地端口不能为空"),!1):isNaN(Number(e.server))||Number(e.server)<1||Number(e.server)>65535?(J.error("请输入正确的本地端口范围"),!1):""==e.con?(J.error("容器不能为空"),!1):isNaN(Number(e.con))||Number(e.con)<1||Number(e.con)>65535?(J.error("请输入正确的容器端口范围"),!1):0==e.protocol.length?(J.error("协议不能为空"),!1):void(l["".concat(e.con,"/").concat(e.protocol.join("/"))]=e.output?e.server:["127.0.0.1",e.server])),l},fl=()=>{var e;if(0==Ke.mountList.length)return!0;let l={};return null==(e=Ke.mountList)||e.forEach(e=>{"volume"==e.Mtype?""==e.volume&&(J.error("挂载卷不能为空"),l=!1):""==e.local&&(J.error("挂载目录不能为空"),l=!1),""==e.auth&&(J.error("权限不能为空"),l=!1),""==e.dir&&(J.error("容器目录不能为空"),l=!1),!1!==l&&(l["".concat("volume"==e.Mtype?e.volume:e.local)]={bind:e.dir,mode:e.auth})}),l},gl=e=>{const l=e.split("\n");return 1==l.length?e:l.join("\n")};return s(()=>Ke.auto_remove,e=>{e&&(Ke.reSet="no")}),n(async()=>{try{Ge=!0,Je.value&&(ze.value=!0),(async()=>{await F({request:Z(),data:Array,success:e=>{al.value=e.map(e=>({label:e.name,value:e.name}))}}),await F({request:$(),data:Array,success:e=>{ol.value=e.map(e=>({value:e.name,id:e.id.replace("sha256:",""),size:e.size}))}}),Ge=!1,U(()=>{var e;Ke.image=Re.compData.image||(null==(e=Re.compData.row)?void 0:e.image)||"",F({request:ee(),data:Array,success:e=>{il.value=e.map(e=>({key:e.Name,title:e.Name}))}})})})(),Ae.value>0&&(Ke.gpus=Ae.value),Je.value&&(()=>{var e,l,a,t,o,r,s,n,m,i,u,d,c,p,v;const _=Re.compData.row;Ke.name=_.name,Ke.image=_.image,Ke.remark=_.remark;const f=G(_.ports,"object",{});Xe.value=[],null==(e=Object.entries(f))||e.forEach((e,l)=>{if(e[1]){const[l,...a]=e[0].split("/");Xe.value.push({id:z(),server:e[1][0].HostPort,con:l,output:"0.0.0.0"===e[1][0].HostIp,protocol:a})}});const g=Object.entries((null==(l=Ie.value.NetworkSettings)?void 0:l.Networks)||{});g.length>0&&(Ke.net=g.map((e,l)=>({id:z(),network:e[0],ip4:e[1].IPAddress,ip6:e[1].GlobalIPv6Address}))),null==(a=Ie.value.Mounts)||a.forEach((e,l)=>{Ke.mountList.push({id:z(),Mtype:"dir",volume:"",local:e.Source,dir:e.Destination,auth:e.RW?"rw":"ro"})}),Ke.auto_remove=null==(o=null==(t=Ie.value)?void 0:t.HostConfig)?void 0:o.AutoRemove,(null==(s=null==(r=Ie.value)?void 0:r.Config)?void 0:s.Tty)&&Ke.console.push("-t"),(null==(m=null==(n=Ie.value)?void 0:n.Config)?void 0:m.OpenStdin)&&Ke.console.push("-i"),Ke.privileged=Ie.value.HostConfig.Privileged,Ke.reSet=null==(i=Ie.value.HostConfig)?void 0:i.RestartPolicy.Name,Ke.mem_reservation=(null==(u=Ie.value.HostConfig)?void 0:u.MemoryReservation)/1024/1024,Ke.cpu_quota=(null==(d=Ie.value.HostConfig)?void 0:d.CpuQuota)/1e5,Ke.mem_limit=(null==(c=Ie.value.HostConfig)?void 0:c.Memory)/1024/1024,Ke.gpus=Ie.value.gpu_count,null==(p=Object.entries(Ie.value.Config.Labels))||p.forEach((e,l)=>{Ke.labels+="".concat(e[0],"=").concat(e[1],"\n")}),null==(v=Ie.value.Config.Env)||v.forEach((e,l)=>{Ke.environment+="".concat(e,"\n")}),Ke.command=Ie.value.Config.Cmd.join("\n"),Ke.entrypoint=Ie.value.Config.Entrypoint.join(" ")})()}catch(e){}finally{ze.value=!1}}),oe({onConfirm:async()=>{var e;await Ze.value.validate();try{const l=_l(),a=fl(),t=vl();if(Q(l)||!a||!t)return!1;const o={name:Ke.name,image:Ke.image,publish_all_ports:"all"==Ke.port?"1":"0",ports:!0===l?"":l,network_info:!0===t?[]:t,command:Ke.command,entrypoint:Ke.entrypoint,auto_remove:Ke.auto_remove?"1":"0",privileged:Ke.privileged?"1":"0",restart_policy:{Name:Ke.reSet},gpus:Ke.gpus,mem_reservation:"".concat(0==Ke.mem_reservation?0:"".concat(Ke.mem_reservation,"MB")),cpu_quota:Ke.cpu_quota,mem_limit:"".concat(0==Ke.mem_limit?0:"".concat(Ke.mem_limit,"MB")),labels:gl(Ke.labels),environment:gl(Ke.environment),remark:Ke.remark};Ke.auto_remove&&(o.restart_policy.Name=""),a&&Object.keys(a).length>0&&(o.volumes=a),"on-failure"==Ke.reSet&&(o.restart_policy.MaximumRetryCount=5),Ke.console.length>0&&(null==(e=Ke.console)||e.forEach((e,l)=>{switch(e){case"-t":o.tty="1";break;case"-i":o.stdin_open="1"}})),F({request:Y({data:JSON.stringify(o)}),message:!0,loading:"添加中...",success:e=>{e.status&&(De.value=!0,Be("close"))}})}catch(l){}}}),(e,l)=>{const a=le,t=C,o=M,r=ae,s=te,n=j,U=N,R=q,B=S,z=P,J=E,Q=D,W=H,F=I,K=L,X=O,Y=A;return m(),i("div",{class:"container-dialog",style:k("max-height:".concat(p(Ye),"px"))},[u(Y,{ref_key:"cmdFormRef",ref:Ze,model:p(Ke),rules:$e,"label-position":"right",onSubmit:l[21]||(l[21]=x(()=>{},["prevent"]))},{default:d(()=>[c("div",me,[u(t,{disabled:p(ze),prop:"name",label:"容器名称"},{default:d(()=>[u(a,{modelValue:p(Ke).name,"onUpdate:modelValue":l[0]||(l[0]=e=>p(Ke).name=e),disabled:p(ze),width:"40rem",placeholder:p(ze)?"正在获取中...":"请输入容器名称"},null,8,["modelValue","disabled","placeholder"])]),_:1},8,["disabled"]),u(t,{prop:"image",label:"镜像"},{default:d(()=>[u(o,{"popper-class":"my-autocomplete",modelValue:p(Ke).image,"onUpdate:modelValue":l[1]||(l[1]=e=>p(Ke).image=e),disabled:p(ze),class:"!w-[40rem]","popper-append-to-body":!1,"fetch-suggestions":ml,onSelect:nl,placeholder:p(ze)?"正在获取中...":"请输入或选择镜像"},{default:d(({item:e})=>{var l;return[c("div",{class:v(["flex items-center justify-between py-[1rem]",e.value===p(Ke).image?" text-primary hover:text-[#1d9534]":""]),title:"".concat(e.value)},[c("div",ue,[c("div",de,_("".concat(e.value)),1),c("div",ce,_("".concat((null==(l=e.id)?void 0:l.slice(0,12))||"")),1)]),c("span",pe,_(p(T)(e.size)),1)],10,ie)]}),_:1},8,["modelValue","disabled","placeholder"])]),_:1}),l[23]||(l[23]=c("span",{class:"inline-block ml-[10rem]"},"*可直接输入docker.io中的本地未下载的镜像直接创建容器",-1)),u(t,{prop:"port",label:"端口",class:"!mt-[1.6rem]"},{default:d(()=>[u(r,{type:"button",modelValue:p(Ke).port,"onUpdate:modelValue":l[2]||(l[2]=e=>p(Ke).port=e),options:Qe},null,8,["modelValue"])]),_:1}),f(c("div",ve,[f(u(s,{class:"mb-[10px]",ref:"Table","row-key":"id",column:p(dl),data:p(Xe),description:"端口列表为空"},null,8,["column","data"]),[[g,p(Xe).length>0]]),u(n,{title:"添加端口",onClick:ll},{default:d(()=>[...l[22]||(l[22]=[b("添加",-1)])]),_:1})],512),[[g,"port"==p(Ke).port]])]),f(u(t,{prop:"path",class:"!mt-[.8rem]",label:"重启规则"},{default:d(()=>[u(B,{modelValue:p(Ke).reSet,"onUpdate:modelValue":l[3]||(l[3]=e=>p(Ke).reSet=e)},{default:d(()=>[u(U,{class:"!leading-[2.5rem]",value:"no"},{default:d(()=>[...l[24]||(l[24]=[b("不重启",-1)])]),_:1}),u(U,{class:"!leading-[2.5rem]",value:"on-failure"},{default:d(()=>[...l[25]||(l[25]=[b("失败后重启（默认重启5次）",-1)])]),_:1}),u(U,{class:"!leading-[2.5rem]",value:"unless-stopped"},{default:d(()=>[...l[26]||(l[26]=[b("仅非正常退出的时候重启",-1)])]),_:1}),u(U,{class:"!leading-[2.5rem]",value:"always"},{default:d(()=>[l[28]||(l[28]=b("停止后马上重启 ",-1)),u(R,{class:"item",effect:"dark",content:"服务器重启时也会马上重启",placement:"top"},{default:d(()=>[...l[27]||(l[27]=[c("i",{class:"svgtofont-el-info-filled text-warning"},null,-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},512),[[g,!p(Ke).auto_remove]]),c("div",{class:"flex items-center cursor-pointer pl-[10rem] my-[2rem] px-[2rem]",onClick:l[4]||(l[4]=e=>We.value=!p(We))},[c("i",{class:v(p(We)?"svgtofont-el-arrow-down":"svgtofont-el-arrow-right")},null,2),c("div",_e,_("更多设置，".concat(p(We)?"点击收回":"点击查看")),1)]),f(c("div",fe,[u(t,{label:"网络"},{default:d(()=>[c("div",ge,[f(u(s,{ref:"Table",column:p(cl),data:p(Ke).net,description:"网络列表为空"},null,8,["column","data"]),[[g,p(Ke).net.length>0]]),u(n,{class:v(p(Ke).net.length>0?"!mt-[1rem]":""),onClick:el},{default:d(()=>[...l[29]||(l[29]=[b("添加网络",-1)])]),_:1},8,["class"])])]),_:1}),u(t,{label:"挂载/映射"},{default:d(()=>[(m(!0),i(y,null,w(p(Ke).mountList,e=>f((m(),i("div",{class:"border-lighter border rounded-small mb-[1rem] p-[1.5rem] w-full",key:e.id},[c("div",be,[u(r,{type:"button",modelValue:e.Mtype,"onUpdate:modelValue":l=>e.Mtype=l,options:Fe},null,8,["modelValue","onUpdate:modelValue"]),u(n,{class:"!ml-[4rem]",onClick:l=>(e=>{const l=Ke.mountList.findIndex(l=>l.id===e.id);Ke.mountList.splice(l,1)})(e)},{default:d(()=>[...l[30]||(l[30]=[c("i",{class:"svgtofont-el-delete"},null,-1)])]),_:1},8,["onClick"])]),c("div",ye,[f(c("div",null,[l[31]||(l[31]=c("div",{class:"px-[.2rem] py-[.4rem]"},"挂载卷",-1)),u(J,{modelValue:e.volume,"onUpdate:modelValue":l=>e.volume=l,class:"!w-[17rem]"},{default:d(()=>[(m(!0),i(y,null,w(p(il),e=>(m(),V(z,{key:e.key,label:e.title,value:e.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"])],512),[[g,"volume"==e.Mtype]]),f(c("div",null,[l[32]||(l[32]=c("div",{class:"px-[.2rem] py-[.4rem]"},"挂载目录",-1)),u(Q,{modelValue:e.local,"onUpdate:modelValue":l=>e.local=l,class:"!w-[17rem]",icon:"icon-file_mode",onIconClick:l=>(e=>{ne({type:"dir",change:l=>{e.local=l}})})(e),onChangePassive:l=>(e=>{const l=G(e.local,"string","");e.local=l.replace(/\s+/g,"")})(e),placeholder:"请输入镜像路径"},null,8,["modelValue","onUpdate:modelValue","onIconClick","onChangePassive"])],512),[[g,"dir"==e.Mtype]]),c("div",we,[l[33]||(l[33]=c("div",{class:"px-[.2rem] py-[.4rem]"},"权限",-1)),u(J,{modelValue:e.auth,"onUpdate:modelValue":l=>e.auth=l,class:"!w-[17rem]"},{default:d(()=>[(m(),i(y,null,w(ul,e=>u(z,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])),64))]),_:1},8,["modelValue","onUpdate:modelValue"])]),c("div",Ve,[l[34]||(l[34]=c("div",{class:"px-[.2rem] py-[.4rem]"},"容器目录",-1)),u(a,{width:"17rem",modelValue:e.dir,"onUpdate:modelValue":l=>e.dir=l},null,8,["modelValue","onUpdate:modelValue"])])])])),[[g,p(Ke).mountList.length>0]])),128)),u(n,{onClick:tl},{default:d(()=>[...l[35]||(l[35]=[b("添加",-1)])]),_:1})]),_:1}),u(t,{label:"command"},{default:d(()=>[u(a,{type:"textarea",modelValue:p(Ke).command,"onUpdate:modelValue":l[5]||(l[5]=e=>p(Ke).command=e),placeholder:"一行一个",width:"24rem"},null,8,["modelValue"])]),_:1}),u(t,{label:"entrypoint"},{default:d(()=>[u(a,{modelValue:p(Ke).entrypoint,"onUpdate:modelValue":l[6]||(l[6]=e=>p(Ke).entrypoint=e),width:"24rem"},null,8,["modelValue"])]),_:1}),u(t,{prop:"auto_remove",class:"!mt-[.8rem]",label:" "},{default:d(()=>[u(W,{modelValue:p(Ke).auto_remove,"onUpdate:modelValue":l[7]||(l[7]=e=>p(Ke).auto_remove=e)},{default:d(()=>[...l[36]||(l[36]=[b("容器退出后自动删除容器",-1)])]),_:1},8,["modelValue"])]),_:1}),u(t,{prop:"console",class:"!mt-[.8rem]",label:"控制台交互"},{default:d(()=>[u(F,{modelValue:p(Ke).console,"onUpdate:modelValue":l[8]||(l[8]=e=>p(Ke).console=e)},{default:d(()=>[u(W,{value:"-t"},{default:d(()=>[...l[37]||(l[37]=[b("伪终端（-t）",-1)])]),_:1}),u(W,{value:"-i"},{default:d(()=>[...l[38]||(l[38]=[b("标准输入（-i）",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),u(t,{prop:"privileged",class:"!mt-[0rem]",label:" "},{default:d(()=>[u(W,{modelValue:p(Ke).privileged,"onUpdate:modelValue":l[9]||(l[9]=e=>p(Ke).privileged=e)},{default:d(()=>[...l[39]||(l[39]=[b("特权模式",-1)])]),_:1},8,["modelValue"])]),_:1}),p(Ae)>0?(m(),V(t,{key:0,prop:"gpus",label:"GPU"},{default:d(()=>[c("div",he,[u(K,{class:"!w-[20rem] pl-[.6rem]",modelValue:p(Ke).gpus,"onUpdate:modelValue":l[10]||(l[10]=e=>p(Ke).gpus=e),min:0,max:p(Ae)},null,8,["modelValue","max"]),c("div",xe,[u(a,{modelValue:p(Ke).gpus,"onUpdate:modelValue":l[11]||(l[11]=e=>p(Ke).gpus=e),modelModifiers:{number:!0},class:"mr-[0.8rem] !w-[8rem]"},null,8,["modelValue"]),c("span",ke,"GPU (最大值："+_(p(Ae))+")",1)])])]),_:1})):h("",!0),u(t,{prop:"mem_reservation",label:"最小分配内存"},{default:d(()=>[c("div",Ue,[u(K,{class:"!w-[20rem] pl-[.6rem]",modelValue:p(Ke).mem_reservation,"onUpdate:modelValue":l[12]||(l[12]=e=>p(Ke).mem_reservation=e),min:0,max:p(Oe)},null,8,["modelValue","max"]),c("div",Ce,[u(a,{modelValue:p(Ke).mem_reservation,"onUpdate:modelValue":l[13]||(l[13]=e=>p(Ke).mem_reservation=e),modelModifiers:{number:!0},class:"mr-[0.8rem] !w-[8rem]"},null,8,["modelValue"]),c("span",Me,"MB (最大值："+_(p(Oe))+")",1)])])]),_:1}),u(t,{prop:"cpu_quota",class:"!mt-[1.4rem]",label:"CPU限制"},{default:d(()=>[c("div",je,[u(K,{class:"!w-[20rem] pl-[.6rem]",modelValue:p(Ke).cpu_quota,"onUpdate:modelValue":l[14]||(l[14]=e=>p(Ke).cpu_quota=e),min:0,max:p(Le)},null,8,["modelValue","max"]),c("span",Ne,[u(a,{modelValue:p(Ke).cpu_quota,"onUpdate:modelValue":l[15]||(l[15]=e=>p(Ke).cpu_quota=e),modelModifiers:{number:!0},class:"mr-[0.8rem] !w-[8rem]"},null,8,["modelValue"]),c("span",qe,"核 (最大值："+_(p(Le))+")",1)])])]),_:1}),u(t,{prop:"path",class:"!mt-[1.4rem]",label:"内存限制"},{default:d(()=>[u(K,{class:"!w-[20rem] pl-[.6rem]",modelValue:p(Ke).mem_limit,"onUpdate:modelValue":l[16]||(l[16]=e=>p(Ke).mem_limit=e),min:0,max:p(Oe)},null,8,["modelValue","max"]),c("span",Se,[u(a,{modelValue:p(Ke).mem_limit,"onUpdate:modelValue":l[17]||(l[17]=e=>p(Ke).mem_limit=e),modelModifiers:{number:!0},class:"mr-[0.8rem] !w-[8rem]"},null,8,["modelValue"]),c("span",Pe,"MB(最大值："+_(p(Oe))+")",1)])]),_:1}),u(t,{prop:"labels",label:"标签"},{default:d(()=>[u(X,{type:"textarea",rows:5,class:"!w-[50rem]",placeholder:"容器标签，一行一个，例：key=value",modelValue:p(Ke).labels,"onUpdate:modelValue":l[18]||(l[18]=e=>p(Ke).labels=e)},null,8,["modelValue"])]),_:1}),u(t,{prop:"environment",label:"环境变量"},{default:d(()=>[u(X,{type:"textarea",rows:5,class:"!w-[50rem]",placeholder:"添加环境变量格式如下，有多个请换行添加：\nJAVA_HOME=/usr/local/java8\nHOSTNAME=master",modelValue:p(Ke).environment,"onUpdate:modelValue":l[19]||(l[19]=e=>p(Ke).environment=e)},null,8,["modelValue"])]),_:1}),"edit"!==Re.type?(m(),V(t,{key:1,prop:"remark",label:"备注"},{default:d(()=>[u(X,{type:"textarea",rows:5,class:"!w-[50rem]",placeholder:"容器备注",modelValue:p(Ke).remark,"onUpdate:modelValue":l[20]||(l[20]=e=>p(Ke).remark=e)},null,8,["modelValue"])]),_:1})):h("",!0)],512),[[g,p(We)]]),p(Je)?(m(),V(n,{key:0,class:"ml-[10rem] mb-[54px]",type:"primary",onClick:pl},{default:d(()=>[...l[40]||(l[40]=[b(" 保存容器配置 ",-1)])]),_:1})):h("",!0)]),_:1},8,["model"])],4)}}}),[["__scopeId","data-v-8589ec5d"]]);export{Ee as default};
