import{L as e,$ as s}from"./utils-lib.js?v=1763689792";import{c as a,s as t,aB as r,r as o,g as l,e as i,am as m,an as p,v as n,x as u,y as d,z as c,i as j}from"./base-lib.js?v=1763689792";import{b as v,j as b,h as g}from"./form-item.js?v=1763689792";import{D as f,t as x,s as h,e as y,b as C,d as _}from"./index238.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index110.js?v=1763689792";import"./index109.js?v=1763689792";import"./column.js?v=1763689792";import"./useController4.js?v=1763689792";import"./validator.js?v=1763689792";import"./index107.js?v=1763689792";import"./useController5.js?v=1763689792";import"./site.js?v=1763689792";import"./useStore4.js?v=1763689792";import"./useController6.js?v=1763689792";import"./useMethod5.js?v=1763689792";const w={class:"p-[2rem]"};const O=a({__name:"php-template-form",setup(a,{expose:O}){const q=f(),{versionOptions:k,extendsupOptions:B,isEdit:H}=t(q),P=r("popupClose",()=>{}),S=[{content:"扩展支持多选，请选择合适使用的扩展"},{content:"不建议选择项目用不上的扩展，构建慢且浪费空间"}],V=o(),{BtForm:z,submit:D,param:E}=e({data:x,options:e=>l(()=>[v("名称","name",{attrs:{class:"!w-[320px]",placeholder:"请输入环境名称",disabled:H.value},rules:[{required:!0,message:"请输入环境名称",trigger:"blur"}]}),b("版本","version",k.value,{attrs:{class:"!w-[22rem]",disabled:H.value,onChange:e=>{h(e)}},rules:[{required:!0,message:"请选择PHP版本",trigger:"change"}]}),g("扩展",()=>{let s;return i(p,{ref:e=>V.value=e,class:"!w-[32rem]",modelValue:e.value.exts,"onUpdate:modelValue":s=>e.value.exts=s,filterable:!0,multiple:!0,"collapse-tags":!0,"collapse-tags-tooltip":!0,"reserve-keyword":!1,placeholder:"请选择扩展，可多选(可粘贴识别多个扩展，用,分隔)","filter-method":s=>y(s,B,e.value.version,E,V)},"function"==typeof(a=s=B.value.map(e=>i(m,{key:e.value,label:e.label,value:e.value},null)))||"[object Object]"===Object.prototype.toString.call(a)&&!j(a)?s:{default:()=>[s]});var a},"exts",{rules:[{required:!0,message:"请选择扩展，可多选(可粘贴识别多个扩展，用,分隔)",trigger:"change"}]})]),submit:async(e,s,a)=>{await s(),C(e.value,P)}});return n(()=>{_(E)}),O({onConfirm:D}),(e,a)=>{const t=s;return u(),d("div",w,[i(c(z)),i(t,{options:S,class:"mt-[1rem]"})])}}});export{O as default};
