!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,r,a="function"==typeof Symbol?Symbol:{},l=a.iterator||"@@iterator",u=a.toStringTag||"@@toStringTag";function o(e,a,l,u){var o=a&&a.prototype instanceof c?a:c,s=Object.create(o.prototype);return n(s,"_invoke",function(e,n,a){var l,u,o,c=0,s=a||[],f=!1,d={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(e,n){return l=e,u=0,o=t,d.n=n,i}};function v(e,n){for(u=e,o=n,r=0;!f&&c&&!a&&r<s.length;r++){var a,l=s[r],v=d.p,p=l[2];e>3?(a=p===n)&&(o=l[(u=l[4])?5:(u=3,3)],l[4]=l[5]=t):l[0]<=v&&((a=e<2&&v<l[1])?(u=0,d.v=n,d.n=l[1]):v<p&&(a=e<3||l[0]>n||n>p)&&(l[4]=e,l[5]=n,d.n=p,u=0))}if(a||e>1)return i;throw f=!0,n}return function(a,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&v(s,p),u=s,o=p;(r=u<2?t:o)||!f;){l||(u?u<3?(u>1&&(d.n=-1),v(u,o)):d.n=o:d.v=o);try{if(c=2,l){if(u||(a="next"),r=l[a]){if(!(r=r.call(l,o)))throw TypeError("iterator result is not an object");if(!r.done)return r;o=r.value,u<2&&(u=0)}else 1===u&&(r=l.return)&&r.call(l),u<2&&(o=TypeError("The iterator does not provide a '"+a+"' method"),u=1);l=t}else if((r=(f=d.n<0)?o:e.call(n,d))!==i)break}catch(r){l=t,u=1,o=r}finally{c=1}}return{value:r,done:f}}}(e,l,u),!0),s}var i={};function c(){}function s(){}function f(){}r=Object.getPrototypeOf;var d=[][l]?r(r([][l]())):(n(r={},l,function(){return this}),r),v=f.prototype=c.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,n(e,u,"GeneratorFunction")),e.prototype=Object.create(v),e}return s.prototype=f,n(v,"constructor",f),n(f,"constructor",s),s.displayName="GeneratorFunction",n(f,u,"GeneratorFunction"),n(v),n(v,u,"Generator"),n(v,l,function(){return this}),n(v,"toString",function(){return"[object Generator]"}),(e=function(){return{w:o,m:p}})()}function n(e,t,r,a){var l=Object.defineProperty;try{l({},"",{})}catch(e){l=0}n=function(e,t,r,a){function u(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?l?l(e,t,{value:r,enumerable:!a,configurable:!a,writable:!a}):e[t]=r:(u("next",0),u("throw",1),u("return",2))},n(e,t,r,a)}function t(e,n,t,r,a,l,u){try{var o=e[l](u),i=o.value}catch(e){return void t(e)}o.done?n(i):Promise.resolve(i).then(r,a)}function r(e){return function(){var n=this,r=arguments;return new Promise(function(a,l){var u=e.apply(n,r);function o(e){t(u,a,l,o,i,"next",e)}function i(e){t(u,a,l,o,i,"throw",e)}o(void 0)})}}function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return l(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./base-lib-legacy.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./index-legacy64.js?v=1763689792","./form-item-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./useMethod-legacy9.js?v=1763689792","./validator-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792","./site-legacy.js?v=1763689792","./index-legacy109.js?v=1763689792","./useMethod-legacy8.js?v=1763689792","./firewall-legacy.js?v=1763689792","./useStore-legacy6.js?v=1763689792","./useMethod-legacy11.js?v=1763689792"],function(n,t){"use strict";var l,u,o,i,c,s,f,d,v,p,m,y,b,g,h,j,w,x,_,k,O,S,D,E,V,A,H,T,G,P,C,F,U,q,M;return{setters:[function(e){l=e.c,u=e.g,o=e.v,i=e.a8,c=e.J,s=e.z,f=e.x,d=e.y,v=e.e,p=e.ak,m=e.D,y=e.n,b=e.aj,g=e.an,h=e.am,j=e.U,w=e.bu,x=e.i},function(e){_=e.L,k=e.$},function(e){O=e.f,S=e.a,D=e.e,E=e.b,V=e.h,A=e.c,H=e.r,T=e.i,G=e.g,P=e.d,C=e.m},function(e){F=e.o,U=e.h,q=e.j,M=e.b},null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var t={class:"py-[1rem] px-[3rem]"};var z="!w-[300px]";n("default",l({__name:"index",props:{compData:{type:Object,default:function(){return{}}}},setup:function(n,l){var I,$=l.expose,B=n.compData,J=B.isEdit,L=B.row,N=u(function(){return 0===O.value?[{content:'<span class="text-dangerDark">全部：捕获当前域名下，所有邮件（包括不存在的邮箱的邮件）</span>',isHtml:!0},{content:'<span class="text-dangerDark">不存在：捕获当前域名下，不存在的邮箱的邮件</span>',isHtml:!0},{content:'<span class="text-dangerDark">前缀：捕获当前域名下，以指定字符串的开头的邮箱（邮箱可以不存在）的邮件</span>',isHtml:!0},{content:'<span class="text-dangerDark">后缀：捕获当前域名下，邮箱地址@以前的部分以指定字符串的结尾的邮箱（邮箱可以不存在）的邮件</span>',isHtml:!0},{content:'<span class="text-dangerDark">包含：捕获当前域名下，邮箱地址@以前的部分包含指定字符串的邮箱（邮箱可以不存在）的邮件</span>',isHtml:!0}]:[{content:'<span class="text-dangerDark">转发示例：配置bt.cn转发到btmail.cn，则：a@bt.cn->a@btmail.cn、b@bt.cn->b@btmail.cn、...</span>',isHtml:!0}]}),K=[{label:"前缀",value:"prefix"},{label:"后缀",value:"suffix"},{label:"包含",value:"contain"},{label:"全部",value:"all"},{label:"不存在",value:"none"}],Q=_({data:function(){return S.value},options:function(e){return u(function(){return[].concat(a(0===O.value?function(e){return[U(" ",function(){return v(b,{disabled:J,modelValue:e.value.type,"onUpdate:modelValue":function(n){return e.value.type=n},onChange:function(n){e.value.rule_str="",e.value.rule="all",y(function(){X.value&&X.value.clearValidate(),X.value&&X.value.validateField("receiver")})}},{default:function(){return[v(p,{value:"mail",size:"default"},{default:function(){return[m("邮箱")]}}),v(p,{class:"ml-[6rem]",value:"wildcard",size:"default"},{default:function(){return[m("通配符")]}})]}})},"type"),q("域名","domain",P.value,{attrs:{class:z,disabled:J,onChange:function(n){e.value.rule_str="",G(n)}},rules:[{required:!0,message:"请选择域名"}]}),"mail"===e.value.type?q("邮箱","rule_str",C.value,{attrs:{class:z,disabled:!e.value.domain||J,placeholder:"请先选择域名，再选择邮箱"},rules:[{validator:function(n,t,r){if("mail"===e.value.type)t?r():r(new Error("请选择邮箱"));else{if("none"===e.value.rule||"all"===e.value.rule)return void r();t?r():r(new Error("请输入规则内容"))}}}]}):U("规则",function(){var n,t,r="none"===e.value.rule||"all"===e.value.rule;return v("div",{class:"flex items-center"},[v(g,{disabled:J,modelValue:e.value.rule,"onUpdate:modelValue":function(n){return e.value.rule=n},onChange:function(n){"none"!==n&&"all"!==n||(e.value.rule_str="",y(function(){X.value&&X.value.clearValidate("rule_str")}))},placeholder:"选择规则",class:"!w-[100px]"},(t=n=K.map(function(e){return v(h,{label:e.label,value:e.value},null)}),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!x(t)?n:{default:function(){return[n]}})),v(j,{modelValue:e.value.rule_str,"onUpdate:modelValue":function(n){return e.value.rule_str=n},disabled:r||J,placeholder:"输入规则",class:"!w-[190px] ml-[10px]"},null)])},"rule_str",{rules:[{validator:function(n,t,r){"none"!==e.value.rule&&"all"!==e.value.rule?t?r():r(new Error("请输入规则内容")):r()}}]}),M("接收者","receiver",{attrs:{placeholder:"输入需要转发的邮箱",type:"textarea",rows:4,class:z},rules:[{required:!0,message:"请输入需要转发的邮箱",validator:function(e,n,t){n?t():t(new Error("请输入需要转发的邮箱"))}}]})]}(e):[q("域名","domain",P.value,{attrs:{class:z,disabled:J},rules:[{required:!0,message:"请选择域名"}]}),M("接收域名","receiver",{attrs:{placeholder:"输入需要接收的域名",class:z},rules:[{required:!0,message:"请输入需要接收的域名"}]})]),[F("状态","status",{attrs:{class:"!w-[50px]"}})])})},submit:(I=r(e().m(function n(t,r){var a;return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,r();case 1:if(!J){e.n=3;break}return e.n=2,D(t.value,L.address);case 2:a=e.v,e.n=5;break;case 3:return e.n=4,E(t.value);case 4:a=e.v;case 5:return e.a(2,a)}},n)})),function(e,n){return I.apply(this,arguments)})}),R=Q.BtForm,W=Q.submit,X=Q.ref,Y=function(){var n=r(e().m(function n(){var t;return e().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,W();case 1:return t=e.v,e.a(2,t)}},n)}));return function(){return n.apply(this,arguments)}}();return o(r(e().m(function n(){return e().w(function(e){for(;;)switch(e.n){case 0:if(!J){e.n=1;break}V(L),e.n=2;break;case 1:return e.n=2,A();case 2:return e.a(2)}},n)}))),i(function(){H()}),$({onConfirm:Y}),function(e,n){var r=k,a=w;return c((f(),d("div",t,[v(s(R)),v(r,{options:s(N)},null,8,["options"])])),[[a,s(T)]])}}}))}}})}();
