import{l as e,k as l,j as a}from"./utils-lib.js?v=1763689792";import{c as o,s as t,v as s,x as m,y as r,e as d,C as u,z as n,D as i,A as p,R as c,H as f,ad as _,ab as h}from"./base-lib.js?v=1763689792";import{B as V}from"./index119.js?v=1763689792";import{_ as b}from"./index109.js?v=1763689792";import{ai as j}from"./validator.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./ace.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const x={class:"p-[20px]"},C={class:"p-[20px]"},g=o({__name:"compile-install",setup(o){const{config:g,getCustomModuleData:w,setCustomModuleData:v,handleAddCustomModule:y,clearAddForm:A,submitCustomModule:U}=j(),{rules:k,tableColumn:D,customData:F,customForm:M,customVisible:R,customFormRef:S}=t(j());return s(w),(o,t)=>{const s=f,j=e,w=b,H=l,z=_,B=V,E=h,T=a;return m(),r("div",x,[d(w,null,{"header-left":u(()=>[d(s,{type:"primary",onClick:n(y)},{default:u(()=>[...t[5]||(t[5]=[i("添加自定义模块",-1)])]),_:1},8,["onClick"])]),content:u(()=>[d(j,{ref:"customTableRef",column:n(D),"max-height":"30rem",data:n(F),onSelectAll:n(v),onSelect:n(v)},{empty:u(()=>[...t[6]||(t[6]=[p("div",{class:"flex items-center justify-center"},"列表为空",-1)])]),_:1},8,["column","data","onSelectAll","onSelect"])]),_:1}),d(T,{modelValue:n(R),"onUpdate:modelValue":t[4]||(t[4]=e=>c(R)?R.value=e:null),title:"添加自定义选装模块",area:"56","show-footer":"",onConfirm:n(U),onCancel:n(A)},{default:u(()=>[p("div",C,[d(E,{ref_key:"customFormRef",ref:S,model:n(M),rules:n(k)},{default:u(()=>[d(z,{prop:"args_name",label:"模块名称"},{default:u(()=>[d(H,{modelValue:n(M).args_name,"onUpdate:modelValue":t[0]||(t[0]=e=>n(M).args_name=e),placeholder:"请输入模块名称，只能输入字母、数字、下划线",width:"30rem",clearable:""},null,8,["modelValue"])]),_:1}),d(z,{prop:"ps",label:"模块描述"},{default:u(()=>[d(H,{modelValue:n(M).ps,"onUpdate:modelValue":t[1]||(t[1]=e=>n(M).ps=e),maxlength:"30",placeholder:"请输入模块描述，30字以内",width:"30rem","show-word-limit":"",clearable:""},null,8,["modelValue"])]),_:1}),d(z,{prop:"args",label:"模块参数"},{default:u(()=>[d(H,{modelValue:n(M).args,"onUpdate:modelValue":t[2]||(t[2]=e=>n(M).args=e),placeholder:"如：--add-module=/tmp/echo/echo-nginx-module-master",width:"30rem",clearable:""},null,8,["modelValue"])]),_:1}),d(z,{prop:"init",label:"前置脚本"},{default:u(()=>[d(B,{ref:"AceEditor",modelValue:n(M).init,"onUpdate:modelValue":t[3]||(t[3]=e=>n(M).init=e),class:"!h-[32rem] !w-[36rem]","editor-option":n(g)},null,8,["modelValue","editor-option"])]),_:1})]),_:1},8,["model","rules"])])]),_:1},8,["modelValue","onConfirm","onCancel"])])}}});export{g as default};
