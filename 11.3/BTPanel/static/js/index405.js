import{c as e,s,v as l,x as a,y as t,A as i,e as n,C as o,S as r,z as c,F as m,b1 as p,B as d,H as u,g as f,a8 as v,O as h,G as x,R as w,J as y,K as g}from"./base-lib.js?v=1763689792";import{_,P as b,d as k}from"./utils-lib.js?v=1763689792";import{aE as C}from"./validator.js?v=1763689792";const R=""+new URL("../images/soft_ico/hot.png",import.meta.url).href,j=""+new URL("../images/soft_ico/hots.png",import.meta.url).href,L={class:"type-item"},E={class:"type-name justify-between"},H={class:"history-list relative max-h-[20rem] overflow-x-hidden overflow-y-auto"},P=["onClick","title"],S={class:"truncate leading-16px"},V=["onClick"],A={class:"type-item"},U={class:"search-list"},z=["onClick"],F={class:"type-item"},I={class:"recommend-list"},N=["onClick"],O=["src"],B=_(e({__name:"history",setup(e){const{historyList:f,softSearchList:v,softRecommendList:h}=s(C()),{handleOpenPluginEvent:x,clearFindHistoryEvent:w,inputHistoryEvent:y,clearAllHistoryEvent:g,initHistory:_}=C();return l(_),(e,s)=>{const l=u;return a(),t("div",{class:"history-box w-[580px] !lt-xl:w-[50rem] !lt-lg:w-[36rem] !<md:w-[30rem] !lt-sm:w-[20rem]",onMousedown:s[0]||(s[0]=r(()=>{},["prevent"]))},[i("div",L,[i("span",E,[s[2]||(s[2]=i("span",null,"搜索历史",-1)),n(l,{type:"default",size:"small",onClick:r(c(g),["stop"])},{default:o(()=>[...s[1]||(s[1]=[i("span",{class:"flex items-center"},[i("i",{class:"svgtofont-el-delete mr-[4px]"}),i("span",null,"清空")],-1)])]),_:1},8,["onClick"])]),i("div",H,[(a(!0),t(m,null,p(c(f),(e,s)=>(a(),t("div",{class:"history-item max-w-[calc(100%+1rem)] h-[3rem]",onClick:s=>c(y)(e.val),title:e.val},[i("span",S,d(e.val),1),i("i",{class:"svgtofont-el-close p-[2px]",onClick:r(l=>c(w)(e.val,s),["stop"])},null,8,V)],8,P))),256))])]),i("div",A,[s[3]||(s[3]=i("span",{class:"type-name"},[i("span",null,"搜索排行"),i("img",{class:"w-[2.4rem] h-[1.2rem] ml-[.5rem]",src:R,alt:""})],-1)),i("div",U,[(a(!0),t(m,null,p(c(v),e=>(a(),t("div",{class:"search-item",onClick:s=>c(x)(e.ename)},d(e.name),9,z))),256))])]),i("div",F,[s[4]||(s[4]=i("span",{class:"type-name"},[i("span",null,"热门推荐"),i("img",{class:"w-[1.4rem] h-[1.4rem] ml-[.5rem]",src:j,alt:""})],-1)),i("div",I,[(a(!0),t(m,null,p(c(h),e=>(a(),t("div",{class:"recommend-item",onClick:s=>c(x)(e.ename,210)},[i("img",{src:"../static/images/soft_ico/ico-".concat(e.ename,".png")},null,8,O),i("span",null,d(e.name),1)],8,N))),256))])])],32)}}}),[["__scopeId","data-v-f40f4758"]]),D={class:"w-full flex items-center justify-between mb-[20px] flex-wrap"},G={class:"flex items-center"},J={class:"flex flex-1 relative"},K={class:"flex items-center mt-4px"},M=_(e({__name:"index",setup(e){const{searchRef:l,showNpsCollect:r,isLoading:m,searchVal:p,showRefresh:d,tabActive:_}=s(C()),{refreshRouteData:R,openNPS:j}=C(),L=f(()=>"deployment"===_.value);return v(C().$reset_history),(e,s)=>{const f=b,v=k,_=u;return a(),t("div",D,[i("div",G,[s[4]||(s[4]=i("span",{class:"w-[80px] pr-16px text-base flex justify-end"},"应用搜索",-1)),i("div",J,[n(f,{class:"!w-[580px] !lt-xl:w-[50rem] !lt-lg:w-[36rem] !<md:w-[30rem] !lt-sm:w-[20rem]",ref_key:"searchRef",ref:l,modelValue:c(p),"onUpdate:modelValue":s[0]||(s[0]=e=>w(p)?p.value=e:null),disabledPopover:c(L),onSearch:s[1]||(s[1]=e=>c(R)("0",1)),placeholder:"支持应用名称、字段模糊搜索"},{default:o(()=>[c(d)?(a(),h(B,{key:0})):x("",!0)]),_:1},8,["modelValue","disabledPopover"]),y(i("span",{onClick:s[2]||(s[2]=(...e)=>c(j)&&c(j)(...e)),class:"ml-[2rem] whitespace-nowrap bt-link flex items-center"}," 未查询到搜索内容,提交需求反馈 ",512),[[g,c(r)]])])]),i("div",K,[n(_,{onClick:s[3]||(s[3]=e=>c(R)("1")),disabled:c(m)},{default:o(()=>[y(n(v,{icon:"el-loading mr-4px"},null,512),[[g,c(m)]]),s[5]||(s[5]=i("span",null,"更新软件列表 / 支付状态",-1))]),_:1},8,["disabled"])])])}}}),[["__scopeId","data-v-febee7e3"]]);export{M as S};
