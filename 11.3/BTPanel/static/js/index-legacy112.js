!function(){function e(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,r,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function l(t,o,a,i){var l=o&&o.prototype instanceof c?o:c,s=Object.create(l.prototype);return n(s,"_invoke",function(t,n,o){var a,i,l,c=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(r,t){return a=r,i=0,l=e,d.n=t,u}};function p(t,n){for(i=t,l=n,r=0;!f&&c&&!o&&r<s.length;r++){var o,a=s[r],p=d.p,v=a[2];t>3?(o=v===n)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=t<2&&p<a[1])?(i=0,d.v=n,d.n=a[1]):p<v&&(o=t<3||a[0]>n||n>v)&&(a[4]=t,a[5]=n,d.n=v,i=0))}if(o||t>1)return u;throw f=!0,n}return function(o,s,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,v),i=s,l=v;(r=i<2?e:l)||!f;){a||(i?i<3?(i>1&&(d.n=-1),p(i,l)):d.n=l:d.v=l);try{if(c=2,a){if(i||(o="next"),r=a[o]){if(!(r=r.call(a,l)))throw TypeError("iterator result is not an object");if(!r.done)return r;l=r.value,i<2&&(i=0)}else 1===i&&(r=a.return)&&r.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((r=(f=d.n<0)?l:t.call(n,d))!==u)break}catch(r){a=e,i=1,l=r}finally{c=1}}return{value:r,done:f}}}(t,a,i),!0),s}var u={};function c(){}function s(){}function f(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,function(){return this}),r),p=f.prototype=c.prototype=Object.create(d);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,n(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return s.prototype=f,n(p,"constructor",f),n(f,"constructor",s),s.displayName="GeneratorFunction",n(f,i,"GeneratorFunction"),n(p),n(p,i,"Generator"),n(p,a,function(){return this}),n(p,"toString",function(){return"[object Generator]"}),(t=function(){return{w:l,m:v}})()}function n(e,r,t,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}n=function(e,r,t,o){function i(r,t){n(e,r,function(e){return this._invoke(r,t,e)})}r?a?a(e,r,{value:t,enumerable:!o,configurable:!o,writable:!o}):e[r]=t:(i("next",0),i("throw",1),i("return",2))},n(e,r,t,o)}function o(e,r,t,n,o,a,i){try{var l=e[a](i),u=l.value}catch(e){return void t(e)}l.done?r(u):Promise.resolve(u).then(n,o)}function a(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var i=e.apply(r,t);function l(e){o(i,n,a,l,u,"next",e)}function u(e){o(i,n,a,l,u,"throw",e)}l(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./index-legacy106.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./useController-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792"],function(r,n){"use strict";var o,i,l,u,c,s,f,d,p,v,m,b,y,h,g,w,_,j,x,k,D,O,C,I,S,V,z,E,G,A,T,q,P,L,U,F;return{setters:[function(e){o=e.u,i=e.r,l=e.bL,u=e.t,c=e.bE,s=e.k,f=e.e,d=e.N,p=e.bM,v=e.b,m=e._},function(e){b=e._},function(e){y=e.B},function(e){h=e.c,g=e.r,w=e.o,_=e.v,j=e.aG,x=e.I,k=e.x,D=e.O,O=e.C,C=e.e,I=e.A,S=e.B,V=e.L,z=e.J,E=e.z,G=e.Q,A=e.y,T=e.D,q=e.G,P=e.K,L=e.F},function(e){U=e.u,F=e.b},null],execute:function(){var n={class:"flex !justify-center !w-full items-center"},K={class:"text-extraLarge text-default inline-block mr-2 font-bold my-[10px]"},M={key:0,class:"absolute el-form-item__error"},B={class:"flex justify-end items-center mt-6 text-small"},$={class:"flex justify-center items-center mt-2"},N=h({__name:"index",props:{compData:{default:function(){return{title:"",btn:"",isDialog:!0,redirect:""}}}},setup:function(r,m){var h,N=m.expose,W=o().getGlobalInfo,H=v(),J=r,Q=U(null===(h=J.compData)||void 0===h?void 0:h.redirect),R=(Q.qrcodeLoading,Q.openWechatLogin),X=Q.onCancelWechat,Y=g(!1),Z=g("获取验证码"),ee=w({username:"",password:"",code:""}),re=w({username:!1,password:!1,code:!1}),te=g(""),ne=g(),oe=g(),ae=g(!1),ie=g({username:[{validator:function(e,r,t){var n;if(null!==(n=J.compData)&&void 0!==n&&n.title&&(ae.value=!1),/^1[3456789]\d{9}$/.test(r))t();else if(""===r)t(new Error("请输入宝塔官网账号"));else{var o;if(null!==(o=J.compData)&&void 0!==o&&o.title)return ae.value=!0,void t(new Error(" "));t(new Error("请输入正确的手机号"))}},trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:["blur","change"]},{validator:function(e,r,t){r.length>=8?t():t(new Error("请输入至少8位密码"))},trigger:["blur","change"]}],token:[{required:!1,message:"请输入验证码",trigger:["blur","change"]},{validator:function(e,r,t){Y.value||t(),6===r.length?t():t(new Error("请输入6位验证码，不可为空"))},trigger:["blur","change"]}]}),le=function(){oe.value.validate(function(){var e=a(t().m(function e(r){return t().w(function(e){for(;;)switch(e.n){case 0:r&&F({isCheck:Y,userInfo:ee,userToken:te});case 1:return e.a(2)}},e)}));return function(r){return e.apply(this,arguments)}}())},ue=function(e){ne.value&&clearInterval(ne.value);var r=function(){if(--e<=0)return clearInterval(ne.value),Z.value="获取验证码",void(re.code=!1);Z.value="重新获取验证码(".concat(e,"s)")};r(),ne.value=setInterval(r,1e3),re.code=!0},ce=function(){var e=a(t().m(function e(){var r;return t().w(function(e){for(;;)switch(e.n){case 0:if(ee.username&&ee.password){e.n=1;break}return H.error("请先输入手机号和密码"),e.a(2);case 1:return re.username=!0,re.password=!0,ue(60),e.n=2,l({username:ee.username,token:te.value});case 2:r=e.v,H.request(r);case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),se=function(){oe.value.clearValidate(),X()};return N({onOpen:function(){u(oe.value.$el,"username")},onCancel:se}),_(function(){var e;null===(e=oe.value)||void 0===e||e.clearValidate(),W()}),j(function(){ne.value&&(clearInterval(ne.value),ne.value=null),X()}),function(t,o){var a,l=y,u=c,v=s,m=f,h=d,g=b,w=p,_=x("focus");return k(),D(w,{ref_key:"bindUserRef",ref:oe,size:"default",rules:E(ie),model:E(ee),class:V({"bind-form":!(null===(a=r.compData)||void 0===a||!a.title),"bind-user-info":!0})},{default:O(function(){var t,a;return[C(u,{class:"!mb-5 flex !justify-center"},{default:O(function(){var t;return[I("div",n,[I("h3",K,S((null===(t=r.compData)||void 0===t?void 0:t.title)||"切换宝塔官网账号"),1),C(l,{placement:"top-start",width:"200",trigger:"hover",content:"宝塔面板许多功能都依赖于官网，绑定仅限于为您提供更好的面板服务体验，不涉及您服务器任何敏感信息，请放心使用。",class:"inline-block relative -top-1.5"},{reference:O(function(){return e(o[9]||(o[9]=[I("a",{class:"bt-ico-ask align-middle inline-block",href:"javascript:;"}," ? ",-1)]))}),_:1})])]}),_:1}),(k(),D(u,{key:1,prop:"username",class:V({"!mb-[3rem]":!(null===(t=r.compData)||void 0===t||!t.title)})},{default:O(function(){var t;return[z(C(v,{modelValue:E(ee).username,"onUpdate:modelValue":o[0]||(o[0]=function(e){return E(ee).username=e}),clearable:"",required:"",name:"username",placeholder:"宝塔官网账号",class:"h-[4rem] leading-[4rem] w-full",disabled:E(re).username,onKeyup:o[1]||(o[1]=G(function(e){return le()},["enter"]))},null,8,["modelValue","disabled"]),[[_]]),null!==(t=r.compData)&&void 0!==t&&t.title&&E(ae)?(k(),A("span",M,[o[11]||(o[11]=I("span",null,"请使用宝塔官网登录账号进行登录，若未有账号，可进行",-1)),C(m,{class:"!text-small",href:"https://www.bt.cn/register"},{default:O(function(){return e(o[10]||(o[10]=[T(" 免费注册 ",-1)]))}),_:1})])):q("",!0)]}),_:1},8,["class"])),(k(),D(u,{key:2,prop:"password"},{default:O(function(){return[C(v,{modelValue:E(ee).password,"onUpdate:modelValue":o[2]||(o[2]=function(e){return E(ee).password=e}),clearable:"",required:"",type:"password",name:"password",placeholder:"密码",class:"h-[4rem] leading-[4rem] w-full","show-password":!0,disabled:E(re).password,onKeyup:o[3]||(o[3]=G(function(e){return le()},["enter"]))},null,8,["modelValue","disabled"])]}),_:1})),z(C(u,{prop:"code"},{default:O(function(){return[C(v,{modelValue:E(ee).code,"onUpdate:modelValue":o[4]||(o[4]=function(e){return E(ee).code=e}),clearable:"",placeholder:"验证码",type:"text",onKeyup:o[5]||(o[5]=G(function(e){return le()},["enter"]))},{append:O(function(){return[C(h,{class:"relative top-0 rounded-none rounded-r-small w-full !h-[auto]",size:"large",type:"primary",disabled:E(re).code,plain:"",onClick:ce},{default:O(function(){return[T(S(E(Z)),1)]}),_:1},8,["disabled"])]}),_:1},8,["modelValue"])]}),_:1},512),[[P,E(Y)]]),C(h,{type:"primary",class:"w-[100%] mt-[1.2rem]",size:"large",onClick:o[6]||(o[6]=function(e){return le()})},{default:O(function(){var e,t;return[T(S((null===(e=r.compData)||void 0===e?void 0:e.btn)||(null!==(t=r.compData)&&void 0!==t&&t.title?"绑定账号":"切换账号")),1)]}),_:1}),I("div",B,[null!==(a=r.compData)&&void 0!==a&&a.isDialog?q("",!0):(k(),A(L,{key:0},[C(m,{onClick:o[7]||(o[7]=function(e){return i.push("/"),void se()})},{default:O(function(){return e(o[12]||(o[12]=[T("暂不绑定",-1)]))}),_:1}),C(g)],64)),C(m,{href:"https://www.bt.cn/register"},{default:O(function(){return e(o[13]||(o[13]=[T("注册账号",-1)]))}),_:1}),C(g),C(m,{href:"https://www.bt.cn/login.html?page=reset"},{default:O(function(){return e(o[14]||(o[14]=[T("忘记密码",-1)]))}),_:1}),C(g),C(m,{href:"https://www.bt.cn/bbs"},{default:O(function(){return e(o[15]||(o[15]=[T("问题反馈",-1)]))}),_:1})]),o[17]||(o[17]=I("div",{class:"divider-container"},[I("div",{class:"divider-line"}),I("div",{class:"divider-text"},"第三方登录"),I("div",{class:"divider-line"})],-1)),I("div",$,[I("div",{class:"wechat-login-container",onClick:o[8]||(o[8]=function(){return E(R)&&E(R).apply(void 0,arguments)})},e(o[16]||(o[16]=[I("div",{class:"wechat-icon-circle"},[I("i",{class:"wechat-icon"},[I("svg",{t:"1749545795651",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9096",width:"20",height:"20"},[I("path",{d:"M391.95 175.27c-159.03 0-289.29 108.4-289.29 246.04 0 79.45 43.35 144.67 115.74 195.2l-28.93 87.05 101.12-50.74c36.19 7.19 65.22 14.54 101.33 14.54 9.08 0 18.09-0.45 27.01-1.16-5.64-19.37-8.92-39.61-8.92-60.62 0-126.32 108.54-228.89 245.97-228.89 9.37 0 18.64 0.69 27.86 1.71C658.8 261.87 534.2 175.27 391.95 175.27z m-93.97 195.31c-21.67 0-43.56-14.52-43.56-36.21 0-21.77 21.89-36.09 43.56-36.09s36.12 14.33 36.12 36.09c-0.02 21.69-14.45 36.21-36.12 36.21z m202.46 0c-21.69 0-43.45-14.52-43.45-36.21 0-21.77 21.76-36.09 43.45-36.09 21.79 0 36.21 14.33 36.21 36.09 0 21.69-14.43 36.21-36.21 36.21z m0 0",fill:"var(--el-color-primary)","p-id":"9097"}),I("path",{d:"M920.01 602.12c0-115.59-115.74-209.86-245.72-209.86-137.64 0-246.05 94.27-246.05 209.86 0 115.84 108.41 209.92 246.05 209.92 28.81 0 57.85-7.25 86.79-14.51l79.36 43.44-21.76-72.3c58.06-43.53 101.33-101.3 101.33-166.55z m-325.5-36.14c-14.41 0-28.95-14.31-28.95-28.92 0-14.44 14.54-28.96 28.95-28.96 21.89 0 36.21 14.52 36.21 28.96 0 14.61-14.33 28.92-36.21 28.92z m159.13 0c-14.31 0-28.74-14.31-28.74-28.92 0-14.44 14.43-28.96 28.74-28.96 21.67 0 36.21 14.52 36.21 28.96 0 14.61-14.54 28.92-36.21 28.92z m0 0",fill:"var(--el-color-primary)","p-id":"9098"})])])],-1)])))])]}),_:1},8,["rules","model","class"])}}});r("default",m(N,[["__scopeId","data-v-b1121c13"]]))}}})}();
