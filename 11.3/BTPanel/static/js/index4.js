import{g as e}from"./useStore.js?v=1763689792";import{c as a,x as l,O as n,C as s,e as t,z as o,A as u,ap as i,D as r,H as d,B as c,g as m,r as p,R as v,y as f,b1 as _,F as g,an as y,ad as w,ab as V,am as b,w as h,v as C,J as x,K as I,M as k,U,o as P,W as q}from"./base-lib.js?v=1763689792";import{p as j,Q as z,e as T,M as S,k as L,n as M,H as N,J as O,j as D,R as H}from"./utils-lib.js?v=1763689792";import{c as A,s as R,a as E,b as F,d as J,e as B,f as G,g as K,h as Q,i as W,j as X,k as Y,l as Z,m as $}from"./config.js?v=1763689792";import{C as ee}from"./index117.js?v=1763689792";import{c as ae,d as le,_ as ne,a as se,b as te,e as oe}from"./index.vue_vue_type_script_setup_true_lang.js?v=1763689792";import{_ as ue}from"./index107.js?v=1763689792";import{f as ie}from"./validator.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./useMethod.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";const re=a({__name:"index",setup(a){const{refs:{panelConfig:r}}=e(),d=async e=>{await j({title:"关闭面板",content:"关闭面板会导致您无法访问面板 ,您真的要关闭宝塔Linux面板吗？",icon:"warning-filled"}),await z({request:A(),loading:"正在关闭面板，请稍候...",success:()=>{r.value.panelClose=!1,location.reload()}})};return(e,a)=>{const c=i;return l(),n(o(ee),{label:"关闭面板"},{value:s(()=>[t(c,{"model-value":o(r).panelClose,onChange:d},null,8,["model-value"])]),desc:s(()=>[...a[0]||(a[0]=[u("span",null,"仅关闭当前的面板服务，不影响web服务器，数据库等程序运行",-1)])]),_:1})}}}),de=a({__name:"index",setup(a){const{refs:{panelConfig:r}}=e(),d=async()=>{await z({loading:"正在设置IPv6状态，请稍候...",request:R(),message:!0})};return(e,a)=>{const c=i;return l(),n(o(ee),{label:"监听IPv6"},{value:s(()=>[t(c,{modelValue:o(r).listenIpv6,"onUpdate:modelValue":a[0]||(a[0]=e=>o(r).listenIpv6=e),onChange:d},null,8,["modelValue"])]),desc:s(()=>[...a[1]||(a[1]=[u("span",null,"监听IPv6地址的访问",-1)])]),_:1})}}}),ce=a({__name:"index",setup(a){const{refs:{panelConfig:r}}=e(),d=async e=>{r.value.offlineMode=!e,await j({icon:"warning-filled",title:e?"开启 离线模式":"关闭 离线模式",content:e?"开启离线模式后面板将停止连接云端，介时软件安装、卸载、面板更新等功能将无法使用，是否继续！":"是否关闭离线模式?"}),await c()},c=async()=>{await z({loading:"正在设置离线模式，请稍候...",request:E(),message:!0,success:()=>{r.value.offlineMode=!r.value.offlineMode}})};return(e,a)=>{const c=i;return l(),n(o(ee),{label:"离线模式"},{value:s(()=>[t(c,{modelValue:o(r).offlineMode,"onUpdate:modelValue":a[0]||(a[0]=e=>o(r).offlineMode=e),onChange:d},null,8,["modelValue"])]),desc:s(()=>[...a[1]||(a[1]=[u("span",null,"离线模式下，面板更新，插件购买等联网服务将无法使用",-1)])]),_:1})}}}),me=a({__name:"index",setup(a){const{refs:{panelConfig:r}}=e(),d=async e=>{r.value.onlineService=!e;const a=e?"开启":"关闭";try{await j({icon:"warning-filled",title:"".concat(a,"在线客服"),content:"".concat(a,"在线客服，").concat(e?"可以使用在线客服功能,向宝塔技术人员反馈问题,":"","是否继续操作？")}),await c()}catch(l){}},c=async()=>{await z({loading:"正在设置在线客服配置，请稍候...",request:F(),message:!0,success:()=>window.location.reload()})};return(e,a)=>{const c=i;return l(),n(o(ee),{label:"在线客服"},{value:s(()=>[t(c,{modelValue:o(r).onlineService,"onUpdate:modelValue":a[0]||(a[0]=e=>o(r).onlineService=e),onChange:d},null,8,["modelValue"])]),desc:s(()=>[...a[1]||(a[1]=[u("span",null,"显示在线客服功能按钮",-1)])]),_:1})}}}),pe=a({__name:"index",setup(a){const{refs:{panelConfig:d}}=e(),c=async e=>{d.value.improvement=!e;try{await j({icon:"warning-filled",title:e?"开启用户体验改善计划":"关闭用户体验改善计划",content:e?"感谢您参与用户改善计划，帮助宝塔提升产品质量，使得我们有机会为您提供更优质的产品和服务，是否继续？":"非常感谢您对我们的支持，即将退出用户体验改善计划，是否继续？"}),await m(e)}catch(a){}},m=async e=>{await z({loading:"正在设置用户体验改善计划配置，请稍候...",request:J({status:e?1:"0"}),message:!0,success:()=>{d.value.improvement=!d.value.improvement}})};return(e,a)=>{const m=i,p=T;return l(),n(o(ee),{label:"用户体验改善计划"},{value:s(()=>[t(m,{modelValue:o(d).improvement,"onUpdate:modelValue":a[0]||(a[0]=e=>o(d).improvement=e),onChange:c},null,8,["modelValue"])]),desc:s(()=>[a[2]||(a[2]=u("span",null,"参加用户体验改善计划来帮助我们改进产品,",-1)),t(p,{href:"https://www.bt.cn/new/agreement_privacy.html"},{default:s(()=>[...a[1]||(a[1]=[r(" 了解详情 ",-1)])]),_:1})]),_:1})}}}),ve=a({__name:"index",setup(a){const{refs:{panelConfig:i},saveConfig:c}=e(),m=()=>{i.value.webname.includes("/")||i.value.webname.includes("\\")?S.error("别名不能包含正反斜杠"):c("正在设置面板别名，请稍候...")};return(e,a)=>{const c=L,p=d;return l(),n(o(ee),{label:"面板别名"},{value:s(()=>[t(c,{modelValue:o(i).webname,"onUpdate:modelValue":a[0]||(a[0]=e=>o(i).webname=e),class:"!w-[26rem]"},null,8,["modelValue"]),t(p,{type:"primary",class:"!ml-12px",onClick:m},{default:s(()=>[...a[1]||(a[1]=[r("保存",-1)])]),_:1})]),desc:s(()=>[...a[2]||(a[2]=[u("span",null,"给面板取个别的名称，用于网页标题",-1)])]),_:1})}}}),fe=a({__name:"index",setup(a){const{refs:{panelConfig:i},getConfigData:c}=e(),m=async()=>{await z({loading:"正在设置左侧菜单标题，请稍候...",request:B({title:i.value.leftTitle}),success:c,message:!0})};return(e,a)=>{const c=L,p=d;return l(),n(o(ee),{label:"左侧菜单标题"},{value:s(()=>[t(c,{modelValue:o(i).leftTitle,"onUpdate:modelValue":a[0]||(a[0]=e=>o(i).leftTitle=e),class:"!w-[26rem]"},null,8,["modelValue"]),t(p,{type:"primary",class:"!ml-12px",onClick:m},{default:s(()=>[...a[1]||(a[1]=[r("保存",-1)])]),_:1})]),desc:s(()=>[...a[2]||(a[2]=[u("span",null,"给左侧菜单标题取个别的名称",-1)])]),_:1})}}}),_e={class:"text-danger"},ge=a({__name:"index",setup(a){const{refs:{panelConfig:i}}=e(),m=()=>{M({area:45,showFooter:!0,title:"超时时间设置",component:()=>N(()=>import("./time-config.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})};return(e,a)=>{const p=L,v=d;return l(),n(o(ee),{label:"超时时间"},{value:s(()=>[t(p,{modelValue:o(i).session_timeout,"onUpdate:modelValue":a[0]||(a[0]=e=>o(i).session_timeout=e),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),t(v,{type:"primary",class:"!ml-12px",onClick:m},{default:s(()=>[...a[1]||(a[1]=[r("设置",-1)])]),_:1})]),desc:s(()=>[a[2]||(a[2]=u("span",null,"如果用户超过以上时间",-1)),u("span",_e,c(o(i).session_timeout),1),a[3]||(a[3]=u("span",null,"，未操作面板，面板将自动退出登录",-1))]),_:1})}}}),ye=a({__name:"index",setup(a){const{refs:{panelConfig:i},saveConfig:c}=e(),m=()=>{ie({type:"dir",path:i.value.sites_path,change:e=>{i.value.sites_path=e}})},p=async()=>c("正在保存默认建站目录，请稍候...");return(e,a)=>{const c=ue,v=d;return l(),n(o(ee),{label:"默认建站目录"},{value:s(()=>[t(c,{modelValue:o(i).sites_path,"onUpdate:modelValue":a[0]||(a[0]=e=>o(i).sites_path=e),icon:"el-folder-opened",onIconClick:m,width:"26rem"},null,8,["modelValue"]),t(v,{type:"primary",class:"!ml-12px",onClick:p},{default:s(()=>[...a[1]||(a[1]=[r("保存",-1)])]),_:1})]),desc:s(()=>[...a[2]||(a[2]=[u("span",null,"创建的站点，默认将保存到该目录下",-1)])]),_:1})}}}),we=a({__name:"index",setup(a){const{refs:{panelConfig:i},saveConfig:c}=e(),m=()=>{ie({type:"dir",path:i.value.backup_path,change:e=>{i.value.backup_path=e}})},p=async()=>c("正在保存默认备份目录，请稍候...");return(e,a)=>{const c=ue,v=d;return l(),n(o(ee),{label:"默认备份目录"},{value:s(()=>[t(c,{modelValue:o(i).backup_path,"onUpdate:modelValue":a[0]||(a[0]=e=>o(i).backup_path=e),icon:"el-folder-opened",onIconClick:m,width:"26rem"},null,8,["modelValue"]),t(v,{type:"primary",class:"!ml-12px",onClick:p},{default:s(()=>[...a[1]||(a[1]=[r("保存",-1)])]),_:1})]),desc:s(()=>[...a[2]||(a[2]=[u("span",null,"网站和站点默认的备份目录",-1)])]),_:1})}}}),Ve=a({__name:"index",setup(a){const{refs:{panelConfig:i},saveConfig:c}=e(),m=async()=>{try{await j({icon:"warning-filled",title:"修改服务器IP",content:"当前服务器IP，非必要请勿修改，错误的IP地址可能会导致当前面板部分获取服务异常，是否继续？"}),await c("正在修改服务器IP，请稍候..."),O("".concat(location.protocol,"//").concat(i.value.serverIp,":").concat(location.port).concat(location.pathname),2e3)}catch(e){}};return(e,a)=>{const c=L,p=d;return l(),n(o(ee),{label:"服务器IP"},{value:s(()=>[t(c,{modelValue:o(i).serverIp,"onUpdate:modelValue":a[0]||(a[0]=e=>o(i).serverIp=e),class:"!w-[26rem]"},null,8,["modelValue"]),t(p,{type:"primary",class:"!ml-12px",onClick:m},{default:s(()=>[...a[1]||(a[1]=[r("保存",-1)])]),_:1})]),desc:s(()=>[...a[2]||(a[2]=[u("span",null,"默认为外网IP,若您在本地虚拟机测试，请填写虚拟机内网IP",-1)])]),_:1})}}}),be={class:"w-[26rem]"},he=a({__name:"index",setup(a){const{refs:{panelConfig:i},getGlobalConfig:c}=e();return(e,a)=>{const m=L,p=d;return l(),n(o(ee),{label:"服务器时间"},{value:s(()=>[u("div",be,[t(m,{modelValue:o(i).systemdate,"onUpdate:modelValue":a[0]||(a[0]=e=>o(i).systemdate=e),readonly:!0},null,8,["modelValue"])]),t(p,{type:"primary",class:"!ml-[1.2rem]",onClick:a[1]||(a[1]=e=>(async()=>{await z({loading:"正在同步服务器时间，请稍候...",request:G(),message:!0,success:()=>{c()}})})())},{default:s(()=>[...a[2]||(a[2]=[r(" 同步 ",-1)])]),_:1})]),desc:s(()=>[...a[3]||(a[3]=[u("span",null,"同步当前服务器时间",-1)])]),_:1})}}}),Ce={class:"p-20px"},xe=a({__name:"index",setup(a){const{refs:{panelConfig:i}}=e(),c=m(()=>{var e;return(null==(e=I.value.filter(e=>e.value===i.value.requestType)[0])?void 0:e.title)||""}),h=p(!1),C=()=>{h.value=!0,x.value=i.value.requestType},x=p(""),I=p([{title:"Python",value:"python"},{title:"Curl",value:"curl"},{title:"PHP",value:"php"}]),k=async()=>{await z({loading:"正在设置请求路线，请稍候...",request:K({http_type:x.value}),message:!0}),i.value.requestType=x.value,h.value=!1};return(e,a)=>{const i=L,m=d,p=b,U=y,P=w,q=V,j=D;return l(),n(o(ee),{label:"面板云端请求方式"},{value:s(()=>[t(i,{modelValue:o(c),"onUpdate:modelValue":a[0]||(a[0]=e=>v(c)?c.value=e:null),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),t(m,{type:"primary",class:"!ml-12px",onClick:C},{default:s(()=>[...a[3]||(a[3]=[r("设置",-1)])]),_:1}),t(j,{title:"设置面板云端请求方式",class:"overflow-hidden",modelValue:o(h),"onUpdate:modelValue":a[2]||(a[2]=e=>v(h)?h.value=e:null),area:42,"show-footer":!0,onConfirm:k},{default:s(()=>[u("div",Ce,[t(q,{"label-width":"80px"},{default:s(()=>[t(P,{label:"云端请求方式","label-width":"12rem"},{default:s(()=>[t(U,{modelValue:o(x),"onUpdate:modelValue":a[1]||(a[1]=e=>v(x)?x.value=e:null),placeholder:"请选择",class:"!w-[18rem]"},{default:s(()=>[(l(!0),f(g,null,_(o(I),e=>(l(),n(p,{key:e.value,label:e.title,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),desc:s(()=>[...a[4]||(a[4]=[u("span",null,"面板请求云端时，使用的请求方式，默认支持python、curl、php，请根据实际情况切换",-1)])]),_:1})}}}),Ie={class:"p-20px"},ke=a({__name:"index",setup(a){const{refs:{panelConfig:i}}=e(),c=p(!1),h=p(""),C=p([{title:"自动",value:"auto"},{title:"IPv4",value:"ipv4"},{title:"IPv6",value:"ipv6"}]),x=m(()=>{var e;return(null==(e=C.value.filter(e=>e.value===i.value.requestLine)[0])?void 0:e.title)||""}),I=()=>{c.value=!0,h.value=i.value.requestLine},k=async()=>{await z({loading:"正在设置请求路线，请稍候...",request:Q({iptype:h.value}),message:!0}),i.value.requestLine=h.value,c.value=!1};return(e,a)=>{const i=L,m=d,p=b,U=y,P=w,q=V,j=D;return l(),n(o(ee),{label:"面板云端请求线路"},{value:s(()=>[t(i,{modelValue:o(x),"onUpdate:modelValue":a[0]||(a[0]=e=>v(x)?x.value=e:null),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),t(m,{type:"primary",class:"!ml-12px",onClick:I},{default:s(()=>[...a[3]||(a[3]=[r("设置",-1)])]),_:1}),t(j,{title:"设置面板云端请求线路",class:"overflow-hidden",modelValue:o(c),"onUpdate:modelValue":a[2]||(a[2]=e=>v(c)?c.value=e:null),area:42,"show-footer":!0,onConfirm:k},{default:s(()=>[u("div",Ie,[t(q,null,{default:s(()=>[t(P,{label:"云端请求线路","label-width":"12rem"},{default:s(()=>[t(U,{modelValue:o(h),"onUpdate:modelValue":a[1]||(a[1]=e=>v(h)?h.value=e:null),placeholder:"请选择",class:"!w-[18rem]"},{default:s(()=>[(l(!0),f(g,null,_(o(C),e=>(l(),n(p,{key:e.value,label:e.title,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["modelValue"])]),desc:s(()=>[...a[4]||(a[4]=[u("span",null,"面板请求云端时，使用的请求线路，默认支持auto、ipv4、ipv6，请根据实际情况切换",-1)])]),_:1})}}}),Ue={class:"w-[26rem]"},Pe={class:"p-20px"},qe={class:"text-center text-danger",style:{"margin-bottom":"1rem"}},je=a({__name:"index",setup(a){const{refs:{panelConfig:i}}=e(),c=p(!1),m=p("正在测试节点连接速度..."),P=p(!1),q=p([]),j=async()=>{if(!P.value){P.value=!0;try{const{data:e}=await W();if(H(e)){q.value=e;const a=e.filter(e=>1===e.status)[0];i.value.panelNode=(null==a?void 0:a.node_name)||"--",i.value.panelNodeId=(null==a?void 0:a.node_id)||0}}catch(e){}finally{P.value=!1}}},T=async()=>{c.value=!0;const e=localStorage.getItem("panelNodeLastTime"),a=Date.now();if(null!==e){a-parseInt(e,10)>6e4&&(await j(),localStorage.setItem("panelNodeLastTime",a.toString()))}else await j(),localStorage.setItem("panelNodeLastTime",a.toString())},S=async()=>{await z({loading:"正在设置启用节点，请稍候...",request:X({node_id:m.value}),message:!0,success:e=>{e.status&&j()}})};return h(()=>P.value,e=>{m.value=e?"正在测试节点连接速度...":i.value.panelNodeId}),C(async()=>j()),(e,a)=>{const p=U,h=d,C=b,j=y,z=w,L=V,M=D;return l(),n(o(ee),{label:"面板云端通讯节点配置"},{value:s(()=>[u("div",Ue,[t(p,{value:o(P)?"正在测试节点连接速度...":o(i).panelNode,disabled:!0},null,8,["value"])]),t(h,{type:"primary",class:"!ml-12px",onClick:T},{default:s(()=>[...a[2]||(a[2]=[r("设置",-1)])]),_:1}),t(M,{title:"面板云端通讯节点配置",class:"overflow-hidden",modelValue:o(c),"onUpdate:modelValue":a[1]||(a[1]=e=>v(c)?c.value=e:null),area:42,"show-footer":!0,onConfirm:S},{default:s(()=>[u("div",Pe,[x(u("div",qe,[...a[3]||(a[3]=[u("span",null,"温馨提示：正在对每个节点进行测速，请耐心等待",-1)])],512),[[I,o(P)]]),t(L,{style:k(o(P)?"":"margin-top: 1rem")},{default:s(()=>[t(z,{label:"云端通讯节点","label-width":"12rem"},{default:s(()=>[t(j,{modelValue:o(m),"onUpdate:modelValue":a[0]||(a[0]=e=>v(m)?m.value=e:null),placeholder:"请选择",class:"!w-[18rem]",disabled:o(P)},{default:s(()=>[(l(!0),f(g,null,_(o(q),e=>(l(),n(C,{key:e.node_id,label:e.node_name,value:e.node_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1},8,["style"])])]),_:1},8,["modelValue"])]),desc:s(()=>[...a[4]||(a[4]=[u("span",null,"请勿随意调整节点配置，仅获取云端数据出现未响应或错误时，可尝试切换该节点",-1)])]),_:1})}}}),ze=a({__name:"index",setup(a){const{refs:{panelConfig:r}}=e(),d=async e=>{r.value.loginOrigin=!e;try{await j({icon:"warning-filled",title:e?"启用登录IP归属地信息显示":"关闭登录IP归属地信息显示",content:e?"启用后，登录成功后会显示当前的归属地以及登录IP信息":"关闭后，将不在提示登录IP归属地信息消息窗，为了面板安全，请谨慎关闭"}),await c(e)}catch(a){}},c=async e=>{await z({loading:"正在设置登录归属地提示配置，请稍候...",request:Y({status:Number(!!e)}),message:!0,success:()=>{r.value.loginOrigin=!r.value.loginOrigin}})};return(e,a)=>{const c=i;return l(),n(o(ee),{label:"登录归属地提示"},{value:s(()=>[t(c,{modelValue:o(r).loginOrigin,"onUpdate:modelValue":a[0]||(a[0]=e=>o(r).loginOrigin=e),onChange:d},null,8,["modelValue"])]),desc:s(()=>[...a[1]||(a[1]=[u("span",null,"登录成功后会在面板右下角显示，当前的归属地以及登录IP信息",-1)])]),_:1})}}}),Te=a({__name:"index",setup(a){e();const i=P({zone:"",area:""}),c=q([]),m=q([]),p=async(e="")=>{const{data:a}=await Z({zone:e});c.value=a.areaList||[],m.value=a.zoneList||[],""===e?(i.zone=a.zone[0],i.area=a.zone[1]):i.area=c.value[0]};return p(),(e,a)=>{const v=b,w=y,V=d;return l(),n(o(ee),{label:"服务器时区"},{value:s(()=>[t(w,{modelValue:o(i).zone,"onUpdate:modelValue":a[0]||(a[0]=e=>o(i).zone=e),class:"!w-[10rem]",placeholder:"地区",onChange:a[1]||(a[1]=e=>p(o(i).zone))},{default:s(()=>[(l(!0),f(g,null,_(o(m),e=>(l(),n(v,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t(w,{modelValue:o(i).area,"onUpdate:modelValue":a[2]||(a[2]=e=>o(i).area=e),class:"!ml-[1.2rem] !w-[14.8rem]",placeholder:"区域"},{default:s(()=>[(l(!0),f(g,null,_(o(c),e=>(l(),n(v,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t(V,{type:"primary",class:"!ml-[1.2rem]",onClick:a[3]||(a[3]=e=>(async()=>{await z({loading:"正在设置服务器时区，请稍候...",request:$({zone:i.zone,area:i.area}),message:!0,success:e=>{e.status&&setTimeout(()=>{window.location.reload()},1e3)}})})())},{default:s(()=>[...a[4]||(a[4]=[r(" 保存 ",-1)])]),_:1})]),desc:s(()=>[...a[5]||(a[5]=[u("span",null," 若时区设置不正确，可能导致服务器时间'不准确'！北京时间(CST +0800)，请选择Asia/Shanghai",-1)])]),_:1})}}}),Se={class:"search-results"},Le=a({__name:"index",setup:a=>(e(),(e,a)=>(l(),f("div",Se,[t(re),t(de),t(ce),t(ae),t(le),t(me),t(ze),t(pe),t(ve),t(fe),t(ge),t(ye),t(we),t(Ve),t(he),t(Te),t(ne),t(se),t(te),t(oe),t(xe),t(ke),t(je)])))});export{Le as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
