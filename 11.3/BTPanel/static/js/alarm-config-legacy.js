!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.toStringTag||"@@toStringTag";function l(n,a,o,u){var l=a&&a.prototype instanceof c?a:c,s=Object.create(l.prototype);return r(s,"_invoke",function(n,r,a){var o,u,l,c=0,s=a||[],f=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return o=t,u=0,l=e,d.n=n,i}};function m(n,r){for(u=n,l=r,t=0;!f&&c&&!a&&t<s.length;t++){var a,o=s[t],m=d.p,p=o[2];n>3?(a=p===r)&&(l=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=m&&((a=n<2&&m<o[1])?(u=0,d.v=r,d.n=o[1]):m<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,d.n=p,u=0))}if(a||n>1)return i;throw f=!0,r}return function(a,s,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&m(s,p),u=s,l=p;(t=u<2?e:l)||!f;){o||(u?u<3?(u>1&&(d.n=-1),m(u,l)):d.n=l:d.v=l);try{if(c=2,o){if(u||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=o.return)&&t.call(o),u<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=e}else if((t=(f=d.n<0)?l:n.call(r,d))!==i)break}catch(t){o=e,u=1,l=t}finally{c=1}}return{value:t,done:f}}}(n,o,u),!0),s}var i={};function c(){}function s(){}function f(){}t=Object.getPrototypeOf;var d=[][o]?t(t([][o]())):(r(t={},o,function(){return this}),t),m=f.prototype=c.prototype=Object.create(d);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,u,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=f,r(m,"constructor",f),r(f,"constructor",s),s.displayName="GeneratorFunction",r(f,u,"GeneratorFunction"),r(m),r(m,u,"Generator"),r(m,o,function(){return this}),r(m,"toString",function(){return"[object Generator]"}),(n=function(){return{w:l,m:p}})()}function r(e,t,n,a){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}r=function(e,t,n,a){function u(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(u("next",0),u("throw",1),u("return",2))},r(e,t,n,a)}function a(e,t,n,r,a,o,u){try{var l=e[o](u),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var u=e.apply(t,n);function l(e){a(u,r,o,l,i,"next",e)}function i(e){a(u,r,o,l,i,"throw",e)}l(void 0)})}}System.register(["./base-lib-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./index-legacy53.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792","./index-legacy116.js?v=1763689792","./index-legacy111.js?v=1763689792","./store-legacy.js?v=1763689792","./store-legacy2.js?v=1763689792","./config-legacy.js?v=1763689792","./store-legacy3.js?v=1763689792","./hooks-legacy.js?v=1763689792"],function(t,r){"use strict";var a,u,l,i,c,s,f,d,m,p,y,g,v,b,x,_,h,j,w,k,O,V,S,U,A,D;return{setters:[function(e){a=e.c,u=e.s,l=e.g,i=e.w,c=e.v,s=e.x,f=e.y,d=e.e,m=e.C,p=e.z,y=e.R,g=e.O,v=e.D,b=e.G,x=e.A,_=e.B,h=e.U,j=e.ad,w=e.ak,k=e.aj,O=e.ab},function(e){V=e._},function(e){S=e.k,U=e.ax,A=e._},function(e){D=e.a},null,null,null,null,null,null,null,null,null,null,null],execute:function(){var r={class:"px-[2rem] py-[4rem] give-dialog"},G={class:"flex items-center"},P={key:0,class:"text-tertiary"},R={key:1,class:"text-tertiary"},T={key:0,class:"text-[#999] ml-1.6rem text-[1.2rem]"},C={key:1,class:"text-[#999] ml-1.6rem text-[1.2rem]"},F={key:2,class:"text-[#999] ml-1.6rem text-[1.2rem]"},I={class:"flex items-center"};t("default",A(a({__name:"alarm-config",setup:function(t){var a=D(),A=u(a),E=A.giveFormDisabled,q=A.giveFormRef,$=A.msgForm,B=A.maxCapacityAndUsageRate,z=(A.options,A.nextOptions),H=A.rowData,M=H.value,N=M.type,J=M.data,K=(M.id,{num:[{required:!0,message:"请输入发送次数",trigger:"blur"},{pattern:/^[0-9]\d*$/,message:"请输入正整数",trigger:"blur"}],usageRate:[{required:!0,message:"请输入告警阈值",trigger:"blur"},{pattern:/^[0-9]\d*$/,message:"请输入正整数",trigger:"blur"}],give:[{required:!0,message:"请至少选择一个告警方式",trigger:"change"}]}),L=l(function(){switch(N){case"load":return"【负载状态】告警";case"cpu":return"【CPU使用率】告警";case"mem":return"【内存使用率】告警"}if(-1!==N.indexOf("disk"))return"磁盘【".concat(N.split("-")[1],"】告警")}),Q=l(function(){switch(N){case"load":return"负载状态";case"cpu":case"mem":return"使用率"}if(-1!==N.indexOf("disk"))return 2===J.cycle||"2"===$.value.typeDetection?"占用率":"剩余容量"}),W=l(function(){return"2"===$.value.typeDetection?"%":"GB"});return i(function(){return H.value},function(){a.alarmInfo()}),c(o(n().m(function e(){return n().w(function(e){for(;;)switch(e.n){case 0:a.alarmInfo();case 1:return e.a(2)}},e)}))),function(t,n){var o=h,u=j,l=w,i=k,c=S,A=U,D=V,H=O;return s(),f("div",r,[d(H,{model:p($),rules:K,ref_key:"giveFormRef",ref:q,disabled:p(E)},{default:m(function(){return[d(u,{label:"任务类型"},{default:m(function(){return[d(o,{class:"!w-[30rem]",modelValue:p(L),"onUpdate:modelValue":n[0]||(n[0]=function(e){return y(L)?L.value=e:null}),readonly:!0,disabled:""},null,8,["modelValue"])]}),_:1}),-1!==p(N).indexOf("disk")?(s(),g(u,{key:0,label:"检测类型"},{default:m(function(){return[d(i,{modelValue:p($).typeDetection,"onUpdate:modelValue":n[1]||(n[1]=function(e){return p($).typeDetection=e}),onChange:p(a).switchTypeDetection},{default:m(function(){return[d(l,{label:"2"},{default:m(function(){return e(n[6]||(n[6]=[v("占用百分比",-1)]))}),_:1}),d(l,{label:"1"},{default:m(function(){return e(n[7]||(n[7]=[v("剩余容量",-1)]))}),_:1})]}),_:1},8,["modelValue","onChange"])]}),_:1})):b("",!0),d(u,{label:p(Q),prop:"usageRate"},{default:m(function(){return[x("div",G,[d(c,{class:"!w-[12rem]",modelValue:p($).usageRate,"onUpdate:modelValue":n[2]||(n[2]=function(e){return p($).usageRate=e}),min:0,max:p(B),type:"number"},{append:m(function(){return[-1!==p(N).indexOf("disk")?(s(),f("span",P,_(p(W)),1)):(s(),f("span",R,"%"))]}),_:1},8,["modelValue","max"]),p(N).indexOf("cpu")>-1?(s(),f("span",T," 每5分钟平均CPU超过该数值就告警 ")):-1===p(N).indexOf("disk")?(s(),f("span",C," 每5分钟平均负载超过该数值就告警 ")):(s(),f("span",F," 每隔10分钟磁盘占用超过该数值就告警 "))])]}),_:1},8,["label"]),d(u,{label:"发送次数",prop:"num"},{default:m(function(){return[x("div",I,[d(c,{class:"!w-[12rem]",modelValue:p($).num,"onUpdate:modelValue":n[3]||(n[3]=function(e){return p($).num=e}),min:0,type:"number"},{append:m(function(){return e(n[8]||(n[8]=[x("span",{class:"text-tertiary"},"次",-1)]))}),_:1},8,["modelValue"]),n[9]||(n[9]=x("span",{class:"text-tertiary ml-1.6rem text-small"}," 后将不再发送告警信息，如需发送多次请填写2次以上 ",-1))])]}),_:1}),-1===p(N).indexOf("disk")?(s(),g(u,{key:1,label:"告警后执行",prop:"next_data"},{default:m(function(){return[d(A,{modelValue:p($).next_data,"onUpdate:modelValue":n[4]||(n[4]=function(e){return p($).next_data=e}),options:p(z),class:"!w-[30rem]",multiple:""},null,8,["modelValue","options"])]}),_:1})):b("",!0),d(u,{label:"告警方式",prop:"give"},{default:m(function(){return[d(D,{class:"!w-[30rem]",modelValue:p($).give,"onUpdate:modelValue":n[5]||(n[5]=function(e){return p($).give=e})},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model","disabled"]),n[10]||(n[10]=x("div",{class:"tip"},[x("ul",null,[x("li",null,"【发送次数】设置0时，每天触发告警次数没有上限")])],-1))])}}}),[["__scopeId","data-v-e9138fa7"]]))}}})}();
