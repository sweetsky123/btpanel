!function(){function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,r,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.toStringTag||"@@toStringTag";function c(t,a,o,u){var c=a&&a.prototype instanceof l?a:l,s=Object.create(c.prototype);return n(s,"_invoke",function(t,n,a){var o,u,c,l=0,s=a||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,u=0,c=e,p.n=n,i}};function d(t,n){for(u=t,c=n,r=0;!f&&l&&!a&&r<s.length;r++){var a,o=s[r],d=p.p,v=o[2];t>3?(a=v===n)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=t<2&&d<o[1])?(u=0,p.v=n,p.n=o[1]):d<v&&(a=t<3||o[0]>n||n>v)&&(o[4]=t,o[5]=n,p.n=v,u=0))}if(a||t>1)return i;throw f=!0,n}return function(a,s,v){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,v),u=s,c=v;(r=u<2?e:c)||!f;){o||(u?u<3?(u>1&&(p.n=-1),d(u,c)):p.n=c:p.v=c);try{if(l=2,o){if(u||(a="next"),r=o[a]){if(!(r=r.call(o,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,u<2&&(u=0)}else 1===u&&(r=o.return)&&r.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=e}else if((r=(f=p.n<0)?c:t.call(n,p))!==i)break}catch(r){o=e,u=1,c=r}finally{l=1}}return{value:r,done:f}}}(t,o,u),!0),s}var i={};function l(){}function s(){}function f(){}r=Object.getPrototypeOf;var p=[][o]?r(r([][o]())):(n(r={},o,function(){return this}),r),d=f.prototype=l.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,n(t,u,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=f,n(d,"constructor",f),n(f,"constructor",s),s.displayName="GeneratorFunction",n(f,u,"GeneratorFunction"),n(d),n(d,u,"Generator"),n(d,o,function(){return this}),n(d,"toString",function(){return"[object Generator]"}),(t=function(){return{w:c,m:v}})()}function n(t,e,r,a){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}n=function(t,e,r,a){function u(e,r){n(t,e,function(t){return this._invoke(e,r,t)})}e?o?o(t,e,{value:r,enumerable:!a,configurable:!a,writable:!a}):t[e]=r:(u("next",0),u("throw",1),u("return",2))},n(t,e,r,a)}function e(t,n,e,r,a,o,u){try{var c=t[o](u),i=c.value}catch(t){return void e(t)}c.done?n(i):Promise.resolve(i).then(r,a)}function r(t){return function(){var n=this,r=arguments;return new Promise(function(a,o){var u=t.apply(n,r);function c(t){e(u,a,o,c,i,"next",t)}function i(t){e(u,a,o,c,i,"throw",t)}c(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./form-item-legacy.js?v=1763689792","./useController-legacy7.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./validator-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792"],function(n,e){"use strict";var a,o,u,c,i,l,s,f,p,d,v,m,y,b,g,h,_,w,j,I,O;return{setters:[function(t){a=t.b,o=t.L,u=t.$,c=t.M,i=t._},function(t){l=t.c,s=t.r,f=t.g,p=t.e,d=t.an,v=t.am,m=t.H,y=t.D,b=t.v,g=t.x,h=t.y,_=t.z,w=t.i},function(t){j=t.h,I=t.F},function(t){O=t.q},null,null,null,null,null],execute:function(){var e=a(),k=function(){var n=r(t().m(function n(r){var a,o;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return a=e.load("正在提交..."),t.p=1,t.n=2,O({url:"/api/v1/domain/manage/update_real_name_tpl",domain_id:r.domainId,new_registrant_id:r.registrantId});case 2:return o=t.v,e[o.data.status?"success":"error"](o.data.msg),t.a(2,o.data.status);case 3:return t.p=3,t.v,t.a(2,!1);case 4:return t.p=4,a.close(),t.f(4);case 5:return t.a(2)}},n,null,[[1,3,4,5]])}));return function(t){return n.apply(this,arguments)}}(),x=function(){var n=r(t().m(function n(){var e;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,O({url:"/api/v1/contact/get_user_detail",p:1,rows:50,status:2});case 1:if(!(e=t.v).data.status){t.n=2;break}return t.a(2,e.data.data.data);case 2:return t.a(2,[]);case 3:return t.p=3,t.v,t.a(2,[])}},n,null,[[0,3]])}));return function(){return n.apply(this,arguments)}}(),S={class:"p-[2rem]"};var G=l({__name:"index",props:{compData:{default:function(){return{}}}},setup:function(n,e){var a,i=e.expose,l=n,O=s([]),G=f(function(){return O.value.map(function(t){var n=1===t.type?"个人":"企业";return{label:"".concat(t.template_name," (").concat(n,")"),value:t.id,description:"".concat(t.template_name," - ").concat(t.phone)}})}),P=[{content:'需要帮助？请查看 <a href="https://docs.bt.cn/domain/user-guide/info-template" target="_blank" class="bt-link">域名实名认证文档</a>',isHtml:!0}],T=o({data:{templateId:void 0},options:function(t){return f(function(){return[j("",function(){var n,e;return p("div",{class:"flex items-center gap-4"},[p(d,{modelValue:t.value.templateId,"onUpdate:modelValue":function(n){return t.value.templateId=n},placeholder:"请选择实名模板",class:"!w-[36rem]"},(e=n=G.value.map(function(t){return p(v,{key:t.value,label:t.label,value:t.value},null)}),"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!w(e)?n:{default:function(){return[n]}})),p(m,{type:"default",onClick:function(){return window.open("https://www.bt.cn/domain/real-name","_blank")},class:"!w-auto"},{default:function(){return[y("添加新模板")]}})])},"templateId"),I(function(){return p("div",null,[p(u,{options:P},null)])})]})},submit:(a=r(t().m(function n(e,r,a){var o,u;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,r();case 1:if(e.value.templateId){t.n=2;break}return c.error("请选择实名模板"),t.a(2,!1);case 2:if(u=O.value.find(function(t){return t.id===e.value.templateId})){t.n=3;break}return c.error("未找到选中的模板"),t.a(2,!1);case 3:return t.a(2,k({domainId:(null===(o=l.compData)||void 0===o?void 0:o.domainId)||0,registrantId:u.registrant_id}));case 4:return t.p=4,t.v,c.error("提交失败，请重试"),t.a(2,!1)}},n,null,[[0,4]])})),function(t,n,e){return a.apply(this,arguments)})}),F=T.BtForm;return i({onConfirm:T.submit}),b(r(t().m(function n(){return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,x();case 1:O.value=t.v;case 2:return t.a(2)}},n)}))),function(t,n){return g(),h("div",S,[p(_(F))])}}});n("default",i(G,[["__scopeId","data-v-1edd27cc"]]))}}})}();
