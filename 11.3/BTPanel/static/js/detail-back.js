import{aj as a,an as e,x as t,j as s,_ as l}from"./utils-lib.js?v=1763689792";import{c as o,g as r,x as i,y as m,e as n,z as c,A as d,C as p,D as u,B as b,G as f,R as _,bP as j,bO as x,H as v}from"./base-lib.js?v=1763689792";import{d as y,g,b as k,a as h,s as z}from"./index8.js?v=1763689792";import{d as H}from"./useMethod2.js?v=1763689792";import w from"./index121.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index109.js?v=1763689792";import"./column.js?v=1763689792";import"./index110.js?v=1763689792";import"./config.js?v=1763689792";import"./useMethod3.js?v=1763689792";import"./validator.js?v=1763689792";import"./index107.js?v=1763689792";import"./site.js?v=1763689792";import"./index123.js?v=1763689792";import"./form-item.js?v=1763689792";const A={class:"p-2rem"},T={class:"p-1.2rem pt-0"},B={class:"flex flex-col leading-[22px]"},C={class:"max-w-[58rem] truncate inline-block"},S=["title"],V={key:0},D={class:"w-full flex justify-end mt-[1.2rem]"},M=l(o({__name:"detail-back",setup(l){const o=r(()=>"restore"===y.value?"还原":"备份"),M=()=>{H.value={operateType:"detail",...H.value},z.value=!0},q=[{label:"备份详情",name:"backup",lazy:!0},{label:"还原详情",name:"restore",lazy:!0}],G=[{type:"index"},{label:"失败项",prop:"name"},{label:"失败原因",prop:"msg",width:320,render:a=>n("span",{class:"text-[".concat(a.task_status?"var(--el-color-primary)":"#ef0808","]")},[a.task_status?"成功":a.msg])}],{BtTabs:I}=a({type:"card",value:y,options:0!==H.value.restore_status?q:q.filter(a=>"restore"!==a.name)}),{BtTable:N,config:O,refresh:P}=e({request:g,columns:G}),R=a=>{y.value=a,P()};return(a,e)=>{const l=j,r=x,y=v,g=s;return i(),m("div",A,[n(c(I),{onTabChange:R}),d("div",T,[d("div",B,[n(r,{title:!1,column:1,size:"small",border:"",class:"table-descriptions"},{default:p(()=>[n(l,{label:"".concat(c(o),"时间：")},{default:p(()=>[u(b(c(k).backup_time),1)]),_:1},8,["label"]),n(l,{label:"".concat(c(o),"大小：")},{default:p(()=>[u(b(c(t)(Number(c(k).size))||"--"),1)]),_:1},8,["label"]),n(l,{label:"".concat(c(o),"存储位置：")},{default:p(()=>[d("span",C,b(c(k).path||"--"),1)]),_:1},8,["label"]),n(l,{label:"SHA-256："},{default:p(()=>[d("span",{class:"max-w-[58rem] truncate inline-block",title:c(H)["SHA-256"]},b(c(k)["SHA-256"]||"--"),9,S)]),_:1}),n(l,{label:"".concat(c(o),"耗时：")},{default:p(()=>[u(b("".concat(c(k).time_count?"".concat(c(k).time_count,"s"):"")||"--"),1)]),_:1},8,["label"])]),_:1})]),0!=c(O).total?(i(),m("div",V,[e[1]||(e[1]=d("p",{class:"font-bold text-dangerDark my-1.2rem"},"失败详情",-1)),n(c(N),{"max-height":360})])):f("",!0),d("div",D,[n(y,{type:"primary",onClick:M},{default:p(()=>[...e[2]||(e[2]=[u("查看全部详情 ",-1)])]),_:1})]),n(g,{title:"详情信息",area:74,modelValue:c(z),"onUpdate:modelValue":e[0]||(e[0]=a=>_(z)?z.value=a:null)},{default:p(()=>[n(w,{data:c(h)},null,8,["data"])]),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-889f1449"]]);export{M as default};
