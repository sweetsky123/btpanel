!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,r,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.toStringTag||"@@toStringTag";function c(t,o,a,u){var c=o&&o.prototype instanceof s?o:s,l=Object.create(c.prototype);return n(l,"_invoke",function(t,n,o){var a,u,c,s=0,l=o||[],f=!1,v={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,u=0,c=e,v.n=n,i}};function p(t,n){for(u=t,c=n,r=0;!f&&s&&!o&&r<l.length;r++){var o,a=l[r],p=v.p,b=a[2];t>3?(o=b===n)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=t<2&&p<a[1])?(u=0,v.v=n,v.n=a[1]):p<b&&(o=t<3||a[0]>n||n>b)&&(a[4]=t,a[5]=n,v.n=b,u=0))}if(o||t>1)return i;throw f=!0,n}return function(o,l,b){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,b),u=l,c=b;(r=u<2?e:c)||!f;){a||(u?u<3?(u>1&&(v.n=-1),p(u,c)):v.n=c:v.v=c);try{if(s=2,a){if(u||(o="next"),r=a[o]){if(!(r=r.call(a,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,u<2&&(u=0)}else 1===u&&(r=a.return)&&r.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=e}else if((r=(f=v.n<0)?c:t.call(n,v))!==i)break}catch(r){a=e,u=1,c=r}finally{s=1}}return{value:r,done:f}}}(t,a,u),!0),l}var i={};function s(){}function l(){}function f(){}r=Object.getPrototypeOf;var v=[][a]?r(r([][a]())):(n(r={},a,function(){return this}),r),p=f.prototype=s.prototype=Object.create(v);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,n(e,u,"GeneratorFunction")),e.prototype=Object.create(p),e}return l.prototype=f,n(p,"constructor",f),n(f,"constructor",l),l.displayName="GeneratorFunction",n(f,u,"GeneratorFunction"),n(p),n(p,u,"Generator"),n(p,a,function(){return this}),n(p,"toString",function(){return"[object Generator]"}),(t=function(){return{w:c,m:b}})()}function n(e,t,r,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}n=function(e,t,r,o){function u(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(u("next",0),u("throw",1),u("return",2))},n(e,t,r,o)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function u(e,t,n,r,o,a,u){try{var c=e[a](u),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){u(a,r,o,c,i,"next",e)}function i(e){u(a,r,o,c,i,"throw",e)}c(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792"],function(e,n){"use strict";var r,a,u,i,s,l,f,v,p,b,d;return{setters:[function(e){r=e.u,a=e.v,u=e.bN,i=e.q,s=e.n,l=e.H,f=e.bO,v=e.bP,p=e.b},function(e){b=e.r,d=e.p}],execute:function(){var y=p(),w=r(),h=w.forceLtd,m=w.payment,g=w.getGlobalInfo,O=(e("b",function(){var e=c(t().m(function e(n){var r,c,s,l,f,v;return t().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=n.isCheck,c=n.userInfo,s=n.userToken,l=o({},c),!r.value){e.n=2;break}if(c.code){e.n=1;break}return e.a(2,y.error("请输入验证码"));case 1:l.token=s.value,delete l.password,e.n=3;break;case 2:delete l.code;case 3:return f=y.load("绑定堡塔账号，请稍候 ..."),e.p=4,e.n=5,a(l.username);case 5:return l.username=e.v,e.n=6,a(l.password);case 6:return l.password=e.v,e.n=7,u(o({},l));case 7:if(v=e.v,y.request(v),!v.status){e.n=8;break}return e.a(2,O());case 8:if(!i(v.data)){e.n=9;break}return e.a(2,!1);case 9:if(v.status||"[]"!==JSON.stringify(v.data)){e.n=10;break}return e.a(2,y.request(v));case 10:-1===v.data.code&&(s.value=v.data.token,r.value=!0),e.n=12;break;case 11:e.p=11,e.v;case 12:return e.p=12,f.close(),e.f(12);case 13:return e.a(2)}},e,null,[[4,11,12,13]])}));return function(t){return e.apply(this,arguments)}}()),e("f",c(t().m(function e(){var n,r=arguments;return t().w(function(e){for(;;)switch(e.n){case 0:if(n=r.length>0&&void 0!==r[0]?r[0]:"/",!h.value){e.n=4;break}return e.n=1,g();case 1:if(!m.value.noExceedLimit){e.n=2;break}return e.a(2,j());case 2:if(!(m.value.authExpirationTime>-1&&m.value.userGive)){e.n=3;break}return e.a(2,window.location.reload());case 3:return y.warn("当前账号领取企业版次数已达到上线，请购买企业版，正在跳转请稍候..."),e.a(2,setTimeout(function(){return window.location.reload()},2e3));case 4:k(n);case 5:return e.a(2)}},e)})))),j=function(){s({title:!1,area:["49","38"],component:function(){return l(function(){return n.import("./ltd-recom-view-legacy.js?v=1763689792")},void 0,n.meta.url)},close:function(){k()}})},k=function(e){d("newsslDiscountStatus",!0),setTimeout(function(){window.location.href=e||"/"},500)};e("u",function(e){var n=b(!1),r=b(null),o=b(null),a=function(){var n=c(t().m(function n(r,o){var a,u;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return a=y.load("正在配置面板用户信息，请稍后..."),t.p=1,t.n=2,f({code:r,state:o});case 2:(u=t.v).status?(y.success("微信绑定成功"),k(e)):y.error(u.msg||"微信绑定失败"),t.n=4;break;case 3:t.p=3,t.v,y.error("微信绑定失败");case 4:return t.p=4,a.close(),t.f(4);case 5:return t.a(2)}},n,null,[[1,3,4,5]])}));return function(e,t){return n.apply(this,arguments)}}(),u=function(){var e=c(t().m(function e(){var o,c,i;return t().w(function(e){for(;;)switch(e.p=e.n){case 0:return n.value=!0,e.p=1,e.n=2,v();case 2:(o=e.v).status&&(c=window.screen.width/2-300,i=window.screen.height/2-250,r.value=window.open(o.msg.replace("login.html","new/wxBindPanel.html"),"_blank","width=".concat(600,",height=").concat(500,",left=").concat(c,",top=").concat(i)),window.addEventListener("message",function(e){var t,n;switch(null===(t=e.data)||void 0===t?void 0:t.type){case"wechat_auth_error":y.error(e.data.msg);try{var o;null===(o=r.value)||void 0===o||o.close(),u()}catch(l){}break;case"wechat_auth_complete":var c=e.data.data||{},i=c.code,s=c.state;null===(n=r.value)||void 0===n||n.close(),a(i,s)}})),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.p=4,n.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}();return{qrcodeLoading:n,wechatWindow:r,checkWindowTimer:o,openWechatLogin:u,handleWechatAuth:a,onCancelWechat:function(){o.value&&(clearInterval(o.value),o.value=null),r.value&&!r.value.closed&&(r.value.close(),r.value=null)}}})}}})}();
