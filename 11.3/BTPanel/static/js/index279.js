import{r as a,c as e,w as t,g as l,a8 as r,I as s,x as n,y as i,A as o,e as u,C as d,z as m,D as c,R as v,Q as p,O as y,J as g,bO as b,F as _,b1 as D,G as f,B as x,H as w,U as S,aD as k,aF as h,ay as C,bP as I,be as j}from"./base-lib.js?v=1763689792";import{a_ as N,b as E,_ as O}from"./utils-lib.js?v=1763689792";import{w as R}from"./useController7.js?v=1763689792";import{_ as U}from"./index113.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./validator.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const V=a(!1),A=a(""),H=a(null),q=E(),W=async()=>{var a,e;if(A.value.trim())if(N(A.value.trim())){V.value=!0,H.value=null;try{const t=A.value.trim(),l=await R({domain:t});if(l.data.status){const r=l.data.data,s=a=>{if(!a)return"";const e=a.match(/ROID:\s*(.+)/i);return e?e[1]:a};H.value={domainName:r.domain_name||t.toUpperCase(),registryDomainId:s(r.org||""),registrarWhoisServer:r.whois_server||"",registrarUrl:r.registrar_url||"",updatedDate:r.updated_date||"",creationDate:r.creation_date||"2020-10-24 16:00:12 (北京时间)",registryExpiryDate:r.expiration_date||"2026-10-24 16:00:12 (北京时间)",registrar:r.registrar||r.org||"Guizhou Zhongyu Zhike Network Technology Co., Ltd.",registrarIanaId:"",registrarAbuseContactEmail:(null==(a=r.emails)?void 0:a[0])||"",registrarAbuseContactPhone:(null==(e=r.phone)?void 0:e[0])||"",domainStatus:r.status?[r.status]:[],nameServer:r.name_servers||[],dnssec:r.dnssec||"",lastUpdate:r.updated_date||"",registrant:r.name||"请联系当前域名注册商获取",rawData:r.rawData||""}}else q.error(l.data.msg||"查询失败"),H.value=null}catch(t){q.error("查询失败，请稍后重试"),H.value=null}finally{V.value=!1}}else q.error("请输入正确的域名格式");else q.warn("请输入要查询的域名")},T=a=>a.rawData&&a.rawData.trim()?a.rawData.trim():"Domain Name: ".concat(a.domainName,"\n\t\tROID: ").concat(a.registryDomainId,"\n\t\tDomain Status: ").concat(a.domainStatus.join(", "),"\n\t\tRegistrant: ").concat(a.registrant,"\n\t\tRegistrant Contact Email: ").concat(a.registrarAbuseContactEmail,"\n\t\tSponsoring Registrar: ").concat(a.registrar,"\n\t\tName Server: ").concat(a.nameServer.join("\nName Server: "),"\n\t\tRegistration Time: ").concat(a.creationDate,"\n\t\tExpiration Time: ").concat(a.registryExpiryDate,"\n\t\tDNSSEC: ").concat(a.dnssec),z={class:"whois-query-content"},F={class:"query-input-section mb-4"},G={class:"query-result-section"},K={class:"formatted-result"},P={key:0,class:"loading-placeholder","element-loading-text":"正在查询WHOIS信息..."},Z={key:0,class:"list-container"},B={key:1,class:"text-gray-400"},J={key:0},L={key:1,class:"text-gray-400"},Q={class:"raw-result"},M={key:0,class:"loading-placeholder","element-loading-text":"正在查询WHOIS信息..."},X={class:"whitespace-pre-wrap max-h-96 overflow-y-auto w-62rem"},Y={key:1,class:"empty-state"},$=O(e({__name:"index",props:{compData:{default:()=>({})}},setup(e){const N=e;t(()=>{var a;return null==(a=N.compData)?void 0:a.domainName},a=>{a&&(A.value=a,W())},{immediate:!0});const O=a("formatted"),R=a=>a&&"unsigned"!==a.trim()?"已签名":"未签名",q=E(),$=(a,e)=>!V.value||(q.warn("查询中，请稍后再切换"),!1),aa=l(()=>H.value?[{label:"域名",value:H.value.domainName,type:"text"},{label:"域名所有者",value:H.value.registrant,type:"text"},{label:"所有者邮箱",value:H.value.registrarAbuseContactEmail,type:"text"},{label:"域名状态",value:H.value.domainStatus,type:"list"},{label:"注册商",value:H.value.registrar,type:"text"},{label:"注册时间",value:H.value.creationDate,type:"text"},{label:"到期时间",value:H.value.registryExpiryDate,type:"text"},{label:"ROID",value:H.value.registryDomainId,type:"text"},{label:"DNS 服务器",value:H.value.nameServer,type:"list"},{label:"DNSSEC",value:H.value.dnssec,type:"tag"}]:[]);return r(()=>{H.value=null,V.value=!1,A.value=""}),(a,e)=>{const t=w,l=S,r=j,N=k,E=h,q=C,ea=s("bt-loading");return n(),i("div",z,[o("div",F,[u(l,{modelValue:m(A),"onUpdate:modelValue":e[0]||(e[0]=a=>v(A)?A.value=a:null),placeholder:"请输入要查询的域名",class:"query-input",onKeyup:p(m(W),["enter"])},{append:d(()=>[u(t,{type:"primary",onClick:m(W),loading:m(V)},{default:d(()=>[...e[2]||(e[2]=[c(" 查询 ",-1)])]),_:1},8,["onClick","loading"])]),_:1},8,["modelValue","onKeyup"])]),o("div",G,[m(H)||m(V)?(n(),y(E,{key:0,modelValue:m(O),"onUpdate:modelValue":e[1]||(e[1]=a=>v(O)?O.value=a:null),class:"result-tabs","before-leave":$},{default:d(()=>[u(N,{label:"格式化结果",name:"formatted"},{default:d(()=>[o("div",K,[m(V)&&!m(H)?g((n(),i("div",P,null,512)),[[ea,m(V)]]):m(H)?(n(),y(m(b),{key:1,column:1,border:""},{default:d(()=>[(n(!0),i(_,null,D(m(aa),a=>(n(),y(m(I),{key:a.label,label:a.label},{default:d(()=>{return["tag"===a.type?(n(),y(r,{key:0,type:(e=a.value,e&&"unsigned"!==e.trim()?"primary":"warning")},{default:d(()=>[c(x(R(a.value)),1)]),_:2},1032,["type"])):"list"===a.type?(n(),i(_,{key:1},[a.value&&a.value.length>0?(n(),i("div",Z,[(n(!0),i(_,null,D(a.value,(a,e)=>(n(),i("div",{key:e,class:"list-item"},x(a),1))),128))])):(n(),i("span",B,"-"))],64)):(n(),i(_,{key:2},[a.value&&a.value.toString().trim()?(n(),i("span",J,x(a.value),1)):(n(),i("span",L,"-"))],64))];var e}),_:2},1032,["label"]))),128))]),_:1})):f("",!0)])]),_:1}),u(N,{label:"原文",name:"raw"},{default:d(()=>[o("div",Q,[m(V)&&!m(H)?g((n(),i("div",M,null,512)),[[ea,m(V)]]):m(H)?(n(),y(m(U),{key:1,type:"info",closable:!1,"show-icon":!1},{default:d(()=>[o("pre",X,x(m(T)(m(H))),1)]),_:1})):f("",!0)])]),_:1})]),_:1},8,["modelValue"])):f("",!0),m(H)||m(V)?f("",!0):(n(),i("div",Y,[u(q,{description:"请输入域名并点击查询按钮获取WHOIS信息"})]))])])}}}),[["__scopeId","data-v-cbba7d1d"]]);export{$ as default};
