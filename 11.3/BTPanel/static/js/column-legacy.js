!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach(function(e){r(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function r(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function l(n,r,o,i){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return u(s,"_invoke",function(n,r,o){var u,i,l,c=0,s=o||[],p=!1,f={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return u=e,i=0,l=t,f.n=n,a}};function d(n,r){for(i=n,l=r,e=0;!p&&c&&!o&&e<s.length;e++){var o,u=s[e],d=f.p,v=u[2];n>3?(o=v===r)&&(l=u[(i=u[4])?5:(i=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=n<2&&d<u[1])?(i=0,f.v=r,f.n=u[1]):d<v&&(o=n<3||u[0]>r||r>v)&&(u[4]=n,u[5]=r,f.n=v,i=0))}if(o||n>1)return a;throw p=!0,r}return function(o,s,v){if(c>1)throw TypeError("Generator is already running");for(p&&1===s&&d(s,v),i=s,l=v;(e=i<2?t:l)||!p;){u||(i?i<3?(i>1&&(f.n=-1),d(i,l)):f.n=l:f.v=l);try{if(c=2,u){if(i||(o="next"),e=u[o]){if(!(e=e.call(u,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,i<2&&(i=0)}else 1===i&&(e=u.return)&&e.call(u),i<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),i=1);u=t}else if((e=(p=f.n<0)?l:n.call(r,f))!==a)break}catch(e){u=t,i=1,l=e}finally{c=1}}return{value:e,done:p}}}(n,o,i),!0),s}var a={};function c(){}function s(){}function p(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(u(e={},r,function(){return this}),e),d=p.prototype=c.prototype=Object.create(f);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,i,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=p,u(d,"constructor",p),u(p,"constructor",s),s.displayName="GeneratorFunction",u(p,i,"GeneratorFunction"),u(d),u(d,i,"Generator"),u(d,r,function(){return this}),u(d,"toString",function(){return"[object Generator]"}),(o=function(){return{w:l,m:v}})()}function u(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}u=function(t,e,n,r){function i(e,n){u(t,e,function(t){return this._invoke(e,n,t)})}e?o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(i("next",0),i("throw",1),i("return",2))},u(t,e,n,r)}function i(t,e,n,r,o,u,i){try{var l=t[u](i),a=l.value}catch(t){return void n(t)}l.done?e(a):Promise.resolve(a).then(r,o)}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792"],function(t,e){"use strict";var r,u,l,a,c,s,p,f,d,v,m,b,y,h,g,w,k,x,C,O,_,j,P,S,V,H,q,B;return{setters:[function(t){r=t.bH,u=t.aS,l=t.r,a=t.bI,c=t.b,s=t.bJ,p=t.B,f=t.d,d=t.q,v=t.b4,m=t.x,b=t.bK,y=t.e},function(t){h=t.c,g=t.r,w=t.aJ,k=t.w,x=t.g,C=t.e,O=t.D,_=t.m,j=t.V,P=t.ar,S=t.as,V=t.at,H=t.aE,q=t.i},function(t){B=t._}],execute:function(){var e=c(),T=function(){var t,n=(t=o().m(function t(n,r){var u,i,l,c;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return u=n.id,i=n.ps,l=e.load("正在修改备注信息，请稍后..."),t.p=1,t.n=2,a({id:u,table:r,ps:i});case 2:c=t.v,e.request(c),t.n=4;break;case 3:t.p=3,t.v;case 4:return t.p=4,l.close(),t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}),function(){var e=this,n=arguments;return new Promise(function(r,o){var u=t.apply(e,n);function l(t){i(u,r,o,l,a,"next",t)}function a(t){i(u,r,o,l,a,"throw",t)}l(void 0)})});return function(t,e){return n.apply(this,arguments)}}(),E=t("o",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"path";r(),u("Path",t[e]),l.push({path:"/files"})}),N=h({props:{onClickPwd:{type:Function,required:!0},modelValue:{type:String,default:""}},setup:function(t){var e=s("copy",16),n=g(!1),r=g(!0);w(function(){r.value=!!t.modelValue}),k(function(){return t.modelValue},function(){n.value=!1});var o=x(function(){return n.value?"svgtofont-icon-eye-close":"svgtofont-icon-browse"}),u=function(){return t.onClickPwd()};return function(){return C("div",null,[r.value?C("div",{class:"flex items-center"},[n.value?C("span",{class:"block truncate max-w-[140px]"},[t.modelValue]):C("span",null,[O("**********")]),C("i",{class:"mx-4 cursor-pointer text-default text-medium ".concat(o.value),title:"显示密码",onClick:function(){return n.value=!n.value}},null),C("i",{id:e,"data-clipboard-text":t.modelValue,class:"svgtofont-el-document-copy cursor-pointer text-default text-medium copy svgtofont-icon-copy",title:"复制密码",onClick:function(){return e=t.modelValue,void p({value:e});var e}},null)]):C("div",null,[C("span",{class:"text-tertiary"},[O("无法获取密码，请点击"),C("span",{class:"text-danger cursor-pointer",onClick:u},[O("改密")]),O("重置密码!")])])])}}}),z=t("B",h({name:"BtTableStatus",props:{data:{type:Array,default:function(){return["未启动","运行中"]}},isIcon:{type:Boolean,default:!0},modelValue:{type:[Boolean,Number],default:!0}},setup:function(t,e){var n=e.attrs;return function(){return C("span",_({class:"bt-".concat(t.modelValue?"link":"danger")},n),[C("span",{class:"flex items-center"},[C("span",null,[t.data[Number(t.modelValue)]]),t.isIcon&&C("i",{class:"ml-[2px] text-small svgtofont-icon-".concat(t.modelValue?"start":"stop")},null)])])}}}));function D(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!q(t)}t("a",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"page",key:"id",isHide:!1,disableds:function(){}};return{type:"CheckBox",width:"all"===t.type?42:36,isHide:t.isHide,renderHeader:function(e,n){var r=[{label:"全选当前页",command:"page-select"},{label:"全选所有项",command:"all-select"},{label:"清空选中项",command:"clear-select"}],o=n.checkAllCheckbox,u=n.checkAllIndeterminate,i=n.handleAllChange,l=n.handleCommandChange;return C("div",{class:"flex items-center justify-center"},[C(j,{modelValue:o.value,"onUpdate:modelValue":function(t){return o.value=t},indeterminate:u.value,onChange:function(e){return i(e,!1,t.key)},class:"!mr-[4px]"},null),"all"===(null==t?void 0:t.type)?C(P,{onCommand:l},{default:function(){return C(f,{icon:"el-arrow-down"},null)},dropdown:function(){var t;return C(S,null,D(t=r.map(function(t){return C(V,t,{default:function(){return[t.label]}})}))?t:{default:function(){return[t]}})}}):null])},render:function(e,n,r){var o,u=r.handleScopeChange,i=(null===(o=t.disabled)||void 0===o?void 0:o.call(t,e))||!1;return i&&(e.disable_check=!0),C(j,{modelValue:e.keys_scopes_status,"onUpdate:modelValue":function(t){return e.keys_scopes_status=t},disabled:i,onChange:function(r){return u(r,e,n,t.key||"")}},null)}}}),t("d",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{prop:"path"};return{label:t.label||"根目录",prop:t.prop,minWidth:t.width||200,isCustom:!0,render:function(e){return C("span",{class:"flex !justify-start inline-block bt-link leading-[16px]",onClick:function(){return E(e,t.prop)},title:"点击打开目录"},[e[t.prop]])}}}),t("e",function(t,e){return{width:22,type:"toping",label:t.label||"",subtitle:"置顶",className:"cols-toping",render:function(n){e||(e="sort");var r=t.param||e||"",o=Boolean(n[r])&&"0"!==n[r];return C("div",{onClick:function(){return t.event(n,o?"untop":"top")}},[C("i",{style:"color:".concat(o?"#EFB958":"#C7BDA9"),class:"svgtofont-icon-top cursor-pointer text-medium ".concat(o?"":"table-no-top opacity-80")},null)])}}}),t("g",function(t){return{label:"备注",prop:"ps",isCustom:!0,showOverflowTooltip:!1,width:t.width||120,minWidth:t.minWidth||120,render:function(e){var n,r={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"',"#x27":"'",apos:"'"},o=t.prop?t.prop:"ps",u=(null===(n=e[o])||void 0===n?void 0:n.replace(/&(lt|gt|nbsp|amp|quot|#x27);/gi,function(t,e){return r[e]}))||"";return C("input",{type:"text",value:u,class:"bt-table-input w-full",placeholder:"点击编辑备注",onBlur:function(n){var r=n.target;u!==(null==r?void 0:r.value)&&(u=r.value,t.request?t.request(e,u):T({id:e.id,ps:u},t.table))},onKeyup:function(t){if("Enter"===t.key){var e=t.target;null==e||e.blur()}}},null)}}}),t("b",function(t){return d(t.prop)&&(t.prop="status"),d(t.data)&&(t.data=["未启动","运行中"]),{label:"状态",prop:t.prop,width:t.width||80,minWidth:t.sortable?80:70,isCustom:!0,sortable:t.sortable||!1,render:function(e){var n=!!Number(e[t.prop]);return t.function?t.function(e):(["running","start"].includes(e[t.prop])&&(n=!0),["exited","stop","created"].indexOf(e[t.prop])>-1&&(n=!1),C(z,{modelValue:n,data:t.data,onClick:function(){return t.event(e)}},null))}}}),t("i",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{prop:"password"};return{label:"密码",prop:t.prop||"password",minWidth:130,width:t.width,isCustom:!0,render:function(e){return C(N,{modelValue:e[t.prop||"password"],onClickPwd:function(){return t.event&&t.event(e)}},null)}}}),t("k",function(t){return{label:"容量",isLtd:!0,minWidth:80,width:t.width||"auto",isCustom:null==t||!t.hasOwnProperty("isCustom")||t.isCustom,render:function(e){var n;if("PHPMOD"===(null==e||null===(n=e.project_config)||void 0===n?void 0:n.type))return"--";var r=!1,o=e.quota,u=!(null!=o&&o.size);if(u)return C("span",{class:"bt-link",onClick:function(){t.event(e,u)}},["未配置"]);var i=1024*o.size*1024,l=Number((o.used/i*100).toFixed(2))||0,a=o.used/1024/1024>0?(o.used/1024/1024).toFixed(2):"0.00";return o.size>0&&o.used>=i&&(r=!0),r?C("span",{class:"bt-link !text-danger",onClick:function(){t.event(e,u)}},["容量已满"]):C("span",{class:l>80?"el-link--danger bt-link":"el-link--primary bt-link",onClick:function(){t.event(e,u)}},[a,O(" / "),o.size,O(" MB")])}}}),t("f",function(t){return{label:"备份",prop:t.prop,minWidth:180,isCustom:!0,render:function(e){return C("div",{class:"flex items-center"},[C("span",{class:e.backup_count>0?"text-primary cursor-pointer":"text-warning cursor-pointer",onClick:function(){return t.event?t.event(e,"back"):null}},[e.backup_count>0?"有备份(".concat(e.backup_count,")"):"点击备份"]),C("span",{class:"mx-[4px]"},[O("|")]),C("span",{class:"bt-link",onClick:function(){return t.event?t.event(e,"import"):null}},[O("导入")])])}}}),t("j",function(t){return n(n({isCustom:!0},t),{},{render:function(e){return C("span",{class:"bt-link",onClick:function(){return t.event?t.event(e):null},title:t.title},[t.text])}})}),t("u",function(t,e){var n=0;return v(t)||(n=t.reduce(function(t,e){return t+(e.width||40)},0)+20),{label:(null==e?void 0:e.label)||"操作",align:"right",fixed:e&&"boolean"==typeof e.fixed?e.fixed:"right",width:(null==e?void 0:e.width)||n,render:function(e,n){var r=[],o=t;return v(t)&&(o=t(e)),o.forEach(function(t,u){if(t.render)return r.push(t.render(e,n));if(t.isHide&&t.isHide(e))return!1;if(t.isMore){var i=t.menu.filter(function(t){return"function"==typeof t.isHide?!t.isHide(e):!t.isHide});return r.push(C(P,{class:"h-[1.6rem]",onCommand:function(n){return t.onClick(n,e)}},{default:function(){return C("span",{class:"text-primary flex items-center"},[O("更多"),C("span",{class:"svgtofont-el-arrow-down"},null)])},dropdown:function(){return C(S,null,{default:function(){return i.map(function(t){return C(V,{command:t.key},{default:function(){return[t.title]}})})}})}})),!1}var l="function"==typeof t.isHide&&t.isHide(e);r.push(C("span",{onClick:function(r){return t.onClick(e,n,r)},title:t.title,class:l?"hidden":"bt-link"},[t.title])),o.length-1!==u&&r.push(C(B,null,null))}),H("div",r)}}}),t("h",function(t){return{label:"大小",prop:t.prop,width:t.width||80,render:function(e){return m(Number(e[t.prop||"size"]),!0)}}}),t("c",function(){return{label:"操作结果",prop:"batchStatus",width:124,showOverflowTooltip:!0,render:function(t){var e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#x27;":"'"},n=function(){switch(t.batchStatus){case 0:return"等待执行";case 1:return"执行成功";case 2:return(null==t?void 0:t.message)||(null==t?void 0:t.msg)||"执行失败"}return"-"}().replace(/&amp;|&lt;|&gt;|&quot;|&#39;|&#x27;/g,function(t){return e[t]});return C("div",{innerHTML:n,class:"inline-clock truncate !w-[10rem] ".concat(t.batchStatus?1===t.batchStatus?"text-primary":"text-danger":"text-warning")},null)}}}),t("m",function(t){return{label:t.label||"状态",prop:t.prop||"status",width:80,render:function(e){var n=t.prop||"status";return C(b,{modelValue:e[n],"onUpdate:modelValue":function(t){return e[n]=t},onChange:function(n){return t.event(n,e)},size:t.size||"small"},null)}}}),t("l",function(t){var e=t.storageKey,n=t.defaultMetric,r=void 0===n?"one_day_total_flow":n,o=t.onClick,u=t.width,i=void 0===u?80:u,l=t.metricOptions,a=void 0===l?[{label:"日流量",value:"one_day_total_flow"},{label:"日IP",value:"one_day_total_ip"},{label:"日PV",value:"one_day_total_pv"},{label:"日请求",value:"one_day_total_request"},{label:"日UV",value:"one_day_total_uv"}]:l,c=g(localStorage.getItem(e)||r);return{label:"日统计",align:"center",renderHeader:function(){return C("div",{class:"flex items-center"},[C(P,{trigger:"hover",onCommand:function(t){return n=t,c.value=n,void localStorage.setItem(e,n);var n}},{default:function(){var t;return C("div",{class:"!w-[5.4rem] not-select flex items-center justify-between cursor-pointer"},[C("span",null,[(null===(t=a.find(function(t){return t.value===c.value}))||void 0===t?void 0:t.label)||"选择"]),C("span",{class:"ml-1"},[O("▾")])])},dropdown:function(){var t;return C(S,null,D(t=a.map(function(t){return C(V,{command:t.value,key:t.value,disabled:t.value===c.value},{default:function(){return[t.label]}})}))?t:{default:function(){return[t]}})}})])},width:i,isCustom:!0,render:function(t){var e=function(t){var e=c.value,n=(null==t?void 0:t.net)||{};if(!Object.prototype.hasOwnProperty.call(n,e))return"--";var r=n[e]||0;return"one_day_total_flow"===e?m(r||0,!0,2):String(r||0)}(t);return o?C(y,{onClick:function(){return o("site",t.name)}},D(e)?e:{default:function(){return[e]}}):C("span",null,[e])}}})}}})}();
