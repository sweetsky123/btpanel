!function(){function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,l,r="function"==typeof Symbol?Symbol:{},u=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(e,r,u,o){var a=r&&r.prototype instanceof c?r:c,f=Object.create(a.prototype);return t(f,"_invoke",function(e,t,r){var u,o,a,c=0,f=r||[],d=!1,s={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return u=e,o=0,a=n,s.n=t,i}};function p(e,t){for(o=e,a=t,l=0;!d&&c&&!r&&l<f.length;l++){var r,u=f[l],p=s.p,m=u[2];e>3?(r=m===t)&&(a=u[(o=u[4])?5:(o=3,3)],u[4]=u[5]=n):u[0]<=p&&((r=e<2&&p<u[1])?(o=0,s.v=t,s.n=u[1]):p<m&&(r=e<3||u[0]>t||t>m)&&(u[4]=e,u[5]=t,s.n=m,o=0))}if(r||e>1)return i;throw d=!0,t}return function(r,f,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===f&&p(f,m),o=f,a=m;(l=o<2?n:a)||!d;){u||(o?o<3?(o>1&&(s.n=-1),p(o,a)):s.n=a:s.v=a);try{if(c=2,u){if(o||(r="next"),l=u[r]){if(!(l=l.call(u,a)))throw TypeError("iterator result is not an object");if(!l.done)return l;a=l.value,o<2&&(o=0)}else 1===o&&(l=u.return)&&l.call(u),o<2&&(a=TypeError("The iterator does not provide a '"+r+"' method"),o=1);u=n}else if((l=(d=s.n<0)?a:e.call(t,s))!==i)break}catch(l){u=n,o=1,a=l}finally{c=1}}return{value:l,done:d}}}(e,u,o),!0),f}var i={};function c(){}function f(){}function d(){}l=Object.getPrototypeOf;var s=[][u]?l(l([][u]())):(t(l={},u,function(){return this}),l),p=d.prototype=c.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return f.prototype=d,t(p,"constructor",d),t(d,"constructor",f),f.displayName="GeneratorFunction",t(d,o,"GeneratorFunction"),t(p),t(p,o,"Generator"),t(p,u,function(){return this}),t(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:a,m:m}})()}function t(e,n,l,r){var u=Object.defineProperty;try{u({},"",{})}catch(e){u=0}t=function(e,n,l,r){function o(n,l){t(e,n,function(e){return this._invoke(n,l,e)})}n?u?u(e,n,{value:l,enumerable:!r,configurable:!r,writable:!r}):e[n]=l:(o("next",0),o("throw",1),o("return",2))},t(e,n,l,r)}function n(e,t,n,l,r,u,o){try{var a=e[u](o),i=a.value}catch(e){return void n(e)}a.done?t(i):Promise.resolve(i).then(l,r)}function l(e){return function(){var t=this,l=arguments;return new Promise(function(r,u){var o=e.apply(t,l);function a(e){n(o,r,u,a,i,"next",e)}function i(e){n(o,r,u,a,i,"throw",e)}a(void 0)})}}function r(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=Array(t);n<t;n++)l[n]=e[n];return l}System.register(["./index-legacy454.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./index-legacy109.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./validator-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792","./useController-legacy4.js?v=1763689792","./useController-legacy5.js?v=1763689792","./site-legacy.js?v=1763689792","./useStore-legacy4.js?v=1763689792","./useController-legacy6.js?v=1763689792","./useMethod-legacy5.js?v=1763689792"],function(t,n){"use strict";var u,o,a,i,c,f,d,s,p,m,y,b,_,v,h,g,x,V,k,w,j,C,U,T,O,z,S,I,P,L,F,A,R,B,G,E,H,M,N,$,D,J,K,W,q,Q,X,Y,Z,ee,te,ne,le,re,ue,oe,ae,ie,ce,fe,de,se,pe,me,ye,be,_e,ve,he,ge,xe,Ve,ke,we,je,Ce,Ue,Te,Oe,ze,Se,Ie,Pe,Le;return{setters:[function(e){u=e.g,o=e.j,a=e.f,i=e.k,c=e.t,f=e.l,d=e.m,s=e.n,p=e.q,m=e.b,y=e.r,b=e.d,_=e.v,v=e.w,h=e.x,g=e.y,x=e.z,V=e.A,k=e.B,w=e.C,j=e.D,C=e.E,U=e.F,T=e.G,O=e.H,z=e.I,S=e.J,I=e.K,P=e.L,L=e.M,F=e.N,A=e.O,R=e.P,B=e.Q,G=e.R,E=e.S,H=e.T,M=e.U,N=e.V,$=e.W,D=e.X,J=e.Y,K=e.Z,W=e._,q=e.$,Q=e.a0,X=e.a1},function(e){Y=e.k,Z=e.d,ee=e.N,te=e.$,ne=e.b3,le=e.l,re=e.ah,ue=e.aj,oe=e._},function(e){ae=e.c,ie=e.w,ce=e.v,fe=e.I,de=e.x,se=e.y,pe=e.J,me=e.z,ye=e.O,be=e.C,_e=e.e,ve=e.F,he=e.b1,ge=e.a1,xe=e.D,Ve=e.ad,ke=e.am,we=e.an,je=e.V,Ce=e.aT,Ue=e.H,Te=e.ab,Oe=e.A,ze=e.K,Se=e.ap,Ie=e.r,Pe=e.G},function(e){Le=e._},null,null,null,null,null,null,null,null,null,null,null],execute:function(){var n={class:"p-[20px]"},Fe=ae({__name:"setting-proxy",setup:function(e){return ie(function(){return o.value},function(){u(o.value)}),ce(function(){u(o.value)}),function(e,t){var l=Y,u=Ve,o=ke,_=we,v=Z,h=ee,g=je,x=Ce,V=Ue,k=Te,w=fe("bt-loading");return de(),se("div",n,[pe((de(),ye(k,{ref_key:"proxyFormRef",ref:m,model:me(i),rules:me(y),"label-width":"110px",disabled:me(b)},{default:be(function(){return[_e(u,{label:"代理目录",prop:"path"},{default:be(function(){return[_e(l,{modelValue:me(i).path,"onUpdate:modelValue":t[0]||(t[0]=function(e){return me(i).path=e}),disabled:"",placeholder:"请输入代理目录",width:"42rem"},null,8,["modelValue"])]}),_:1}),_e(u,{label:"目标",prop:"targetType"},{default:be(function(){return[_e(_,{class:"!w-[16rem]",modelValue:me(i).targetType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return me(i).targetType=e}),placeholder:"请选择"},{default:be(function(){return[(de(!0),se(ve,null,he(me(c),function(e){return de(),ye(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),_e(u,{label:" ",prop:"proxysite"},{default:be(function(){return[_e(l,{modelValue:me(i).proxysite,"onUpdate:modelValue":t[2]||(t[2]=function(e){return me(i).proxysite=e}),placeholder:"http"!==me(i).targetType?"请选择sock文件":"请输入目标URL",width:"42rem",onInput:me(f)},ge({_:2},["http"!==me(i).targetType?{name:"append",fn:be(function(){return[_e(h,{onClick:me(d)},{default:be(function(){return[_e(v,{icon:"el-folder-opened",class:"cursor-pointer"})]}),_:1},8,["onClick"])]}),key:"0"}:void 0]),1032,["modelValue","placeholder","onInput"])]}),_:1}),_e(u,{label:"发送域名(host)",prop:"todomain"},{default:be(function(){return[_e(l,{modelValue:me(i).todomain,"onUpdate:modelValue":t[3]||(t[3]=function(e){return me(i).todomain=e}),placeholder:"请输入发送域名",width:"42rem"},null,8,["modelValue"])]}),_:1}),_e(u,{label:"备注"},{default:be(function(){return[_e(l,{modelValue:me(i).ps,"onUpdate:modelValue":t[4]||(t[4]=function(e){return me(i).ps=e}),placeholder:"请输入备注,可为空",width:"42rem"},null,8,["modelValue"])]}),_:1}),_e(u,{label:"websocket支持"},{default:be(function(){return[_e(x,{disabled:!me(s),effect:"dark",content:"全局websocket已开启，不允许单独关闭",placement:"top"},{default:be(function(){return[_e(g,{disabled:me(s),modelValue:me(i).websocket,"onUpdate:modelValue":t[5]||(t[5]=function(e){return me(i).websocket=e})},null,8,["disabled","modelValue"])]}),_:1},8,["disabled"])]}),_:1}),_e(u,{label:"连接超时时间",prop:"proxy_connect_timeout"},{default:be(function(){return[_e(l,{modelValue:me(i).proxy_connect_timeout,"onUpdate:modelValue":t[6]||(t[6]=function(e){return me(i).proxy_connect_timeout=e}),textType:"秒",width:"41rem"},{append:be(function(){return r(t[9]||(t[9]=[xe(" 秒 ",-1)]))}),_:1},8,["modelValue"])]}),_:1}),_e(u,{label:"后端请求超时时间",prop:"proxy_send_timeout"},{default:be(function(){return[_e(l,{modelValue:me(i).proxy_send_timeout,"onUpdate:modelValue":t[7]||(t[7]=function(e){return me(i).proxy_send_timeout=e}),textType:"秒",width:"41rem"},{append:be(function(){return r(t[10]||(t[10]=[xe(" 秒 ",-1)]))}),_:1},8,["modelValue"])]}),_:1}),_e(u,{label:"代理响应超时时间",prop:"proxy_read_timeout"},{default:be(function(){return[_e(l,{modelValue:me(i).proxy_read_timeout,"onUpdate:modelValue":t[8]||(t[8]=function(e){return me(i).proxy_read_timeout=e}),textType:"秒",width:"41rem"},{append:be(function(){return r(t[11]||(t[11]=[xe(" 秒 ",-1)]))}),_:1},8,["modelValue"])]}),_:1}),_e(u,{label:" "},{default:be(function(){return[_e(V,{type:"primary",onClick:me(p)},{default:be(function(){return r(t[12]||(t[12]=[xe("保存",-1)]))}),_:1},8,["onClick"])]}),_:1})]}),_:1},8,["model","rules","disabled"])),[[w,me(a)]])])}}}),Ae={class:"p-[20px]"},Re=ae({__name:"setting-custom",setup:function(e){return ie(function(){return o.value.custom_conf},function(e){e&&(_.config=e)}),ce(v),function(e,t){var n=Y,l=Ve,u=Ue,o=Te,i=te,c=fe("bt-loading");return de(),se("div",Ae,[pe((de(),ye(o,{ref:"customFormRef",model:me(_),"label-width":"100px",disabled:me(b)},{default:be(function(){return[_e(l,{label:"需要插入的配置",prop:"config"},{default:be(function(){return[_e(n,{modelValue:me(_).config,"onUpdate:modelValue":t[0]||(t[0]=function(e){return me(_).config=e}),placeholder:me(h),type:"textarea",width:"42rem",rows:6,resize:"none"},null,8,["modelValue","placeholder"])]}),_:1}),_e(l,{label:" "},{default:be(function(){return[_e(u,{type:"primary",onClick:me(g)},{default:be(function(){return r(t[1]||(t[1]=[xe("保存",-1)]))}),_:1},8,["onClick"])]}),_:1})]}),_:1},8,["model","disabled"])),[[c,me(a)]]),_e(i,{options:me(x),class:"mt-2rem ml-[20px]"},null,8,["options"])])}}}),Be=ae({__name:"setting-replace",setup:function(e){ie(function(){return o.value.sub_filter},function(){V(o.value.sub_filter)});var t=ne({options:[{label:"添加内容替换",type:"button",active:!0,onClick:k}]}).BtOperation;return function(e,n){var l=le,u=Le,o=te,a=fe("bt-loading");return de(),se("div",null,[_e(u,null,{"header-left":be(function(){return[_e(me(t))]}),content:be(function(){return[pe((de(),ye(l,{ref:"siteProxyTable",data:me(w).subfilter,"max-height":350,column:me(j)},{empty:be(function(){return r(n[0]||(n[0]=[Oe("div",{class:"flex items-center justify-center"},"当前列表为空",-1)]))}),_:1},8,["data","column"])),[[a,"正在加载中，请稍后...","title"]])]}),_:1}),_e(o,{options:me(C)},null,8,["options"])])}}}),Ge={class:"p-[20px]"},Ee={class:"mt-[1.6rem]"},He={class:"flex items-center"},Me={class:"ml-[20px]"},Ne=ae({__name:"setting-cache",setup:function(e){return ie(function(){return o.value.proxy_cache},function(e){if(e){U.status=e.cache_status;var t="",n="m";e.expires.length>1&&(t=e.expires.slice(0,-1),n=e.expires.slice(-1)),U.time=t,U.unit=n}}),function(e,t){var n=Se,l=Ve,u=Y,o=ke,i=we,c=Ue,f=Te,d=te,s=fe("bt-loading");return de(),se("div",Ge,[pe((de(),ye(f,{ref_key:"cacheFormRef",ref:S,class:"h-[38rem]",model:me(U),"label-width":"100px",rules:e.cacheFormRules,disabled:me(b)},{default:be(function(){return[_e(l,{label:"缓存开关",prop:"status"},{default:be(function(){return[_e(n,{modelValue:me(U).status,"onUpdate:modelValue":t[0]||(t[0]=function(e){return me(U).status=e}),onChange:me(T)},null,8,["modelValue","onChange"])]}),_:1}),pe(Oe("div",Ee,[_e(l,{label:"缓存时间",prop:"time"},{default:be(function(){return[Oe("div",He,[_e(u,{modelValue:me(U).time,"onUpdate:modelValue":t[1]||(t[1]=function(e){return me(U).time=e})},null,8,["modelValue"]),_e(l,{prop:"unit"},{default:be(function(){return[_e(i,{class:"ml-[1rem] !w-[8rem]",modelValue:me(U).unit,"onUpdate:modelValue":t[2]||(t[2]=function(e){return me(U).unit=e}),placeholder:"请选择"},{default:be(function(){return[(de(!0),se(ve,null,he(me(O),function(e){return de(),ye(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1})])]}),_:1})],512),[[ze,me(U).status]]),_e(l,{label:" "},{default:be(function(){return[pe(_e(c,{type:"primary",class:"!mt-[1.6rem]",onClick:me(z)},{default:be(function(){return r(t[3]||(t[3]=[xe("保存",-1)]))}),_:1},8,["onClick"]),[[ze,me(U).status]])]}),_:1})]}),_:1},8,["model","rules","disabled"])),[[s,me(a)]]),Oe("div",Me,[_e(d,{options:me(I)},null,8,["options"])])])}}}),$e={class:"p-[20px]"},De={class:"mt-[1.6rem]"},Je={class:"flex items-center"},Ke={class:"ml-[20px]"},We=ae({__name:"setting-compress",setup:function(e){return ie(function(){return o.value.gzip},function(e){e?P(e):L.status=!1}),ce(function(){P(o.value.gzip)}),function(e,t){var n=Se,l=Ve,u=Y,o=ke,i=we,c=Ue,f=Te,d=te,s=fe("bt-loading");return de(),se("div",$e,[pe((de(),ye(f,{ref_key:"compressFormRef",ref:B,class:"h-[38rem]",model:me(L),rules:me(G),"label-width":"100px",disabled:me(b)},{default:be(function(){return[_e(l,{label:"内容压缩",prop:"status"},{default:be(function(){return[_e(n,{modelValue:me(L).status,"onUpdate:modelValue":t[0]||(t[0]=function(e){return me(L).status=e}),onChange:me(F)},null,8,["modelValue","onChange"])]}),_:1}),pe(Oe("div",De,[_e(l,{label:"压缩类型",prop:"type"},{default:be(function(){return[_e(u,{modelValue:me(L).type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return me(L).type=e}),type:"textarea",width:"42rem",rows:6,resize:"none"},null,8,["modelValue"])]}),_:1}),_e(l,{label:"压缩级别",prop:"level"},{default:be(function(){return[_e(i,{class:"!w-[42rem]",modelValue:me(L).level,"onUpdate:modelValue":t[2]||(t[2]=function(e){return me(L).level=e})},{default:be(function(){return[(de(),se(ve,null,he(9,function(e){return _e(o,{key:e,label:e,value:String(e)},null,8,["label","value"])}),64))]}),_:1},8,["modelValue"])]}),_:1}),_e(l,{label:"压缩最小长度",prop:"minLength"},{default:be(function(){return[Oe("div",Je,[_e(u,{modelValue:me(L).minLength,"onUpdate:modelValue":t[3]||(t[3]=function(e){return me(L).minLength=e})},null,8,["modelValue"]),_e(l,{prop:"unit"},{default:be(function(){return[_e(i,{class:"ml-[1rem] !w-[8rem]",modelValue:me(L).unit,"onUpdate:modelValue":t[4]||(t[4]=function(e){return me(L).unit=e}),placeholder:"请选择"},{default:be(function(){return[(de(!0),se(ve,null,he(me(A),function(e){return de(),ye(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1})])]}),_:1})],512),[[ze,me(L).status]]),pe(_e(l,{label:" ",class:"mt-[1.6rem]"},{default:be(function(){return[_e(c,{type:"primary",onClick:me(R)},{default:be(function(){return r(t[5]||(t[5]=[xe("保存",-1)]))}),_:1},8,["onClick"])]}),_:1},512),[[ze,me(L).status]])]}),_:1},8,["model","rules","disabled"])),[[s,me(a)]]),Oe("div",Ke,[_e(d,{options:me(E)},null,8,["options"])])])}}}),qe=ae({__name:"setting-ip-list",setup:function(e){var t=Ie();ie(function(){return o.value.ip_limit},function(e){e?H(e):(M.white=[],M.black=[])},{deep:!0});var n=ne({options:[{label:"添加IP".concat("ipBlackList"===N.value?"黑":"白","名单"),type:"button",active:!0,onClick:$}]}).BtOperation;return ce(D),function(e,l){var u=le,o=re,a=Le,i=te;return de(),se("div",null,[_e(a,null,{"header-left":be(function(){return[_e(me(n))]}),content:be(function(){return["ipBlackList"!==me(N)?(de(),ye(u,{key:0,ref_key:"tableListRef",ref:t,data:me(M).white,"max-height":390,column:me(J)},{empty:be(function(){return r(l[0]||(l[0]=[Oe("div",{class:"flex items-center justify-center"},"当前列表为空",-1)]))}),_:1},8,["data","column"])):(de(),ye(u,{key:1,ref_key:"tableListRef",ref:t,data:me(M).black,"max-height":390,column:me(J)},{empty:be(function(){return r(l[1]||(l[1]=[Oe("div",{class:"flex items-center justify-center"},"当前列表为空",-1)]))}),_:1},8,["data","column"]))]}),"footer-left":be(function(){return[_e(o,{"table-ref":me(t),options:me(K)},null,8,["table-ref","options"])]}),_:1}),"ipBlackList"!==me(N)?(de(),ye(i,{key:0,class:"mt-[2rem] ml-[1.6rem]",options:[{content:"注意：设置IP白名单后会默认禁止除白名单以外的所有IP访问"}]})):Pe("",!0)])}}}),Qe={class:"p-[20px]"},Xe={class:"ml-[0px]"},Ye=ae({__name:"setting-buffer",setup:function(e){return ie(function(){return o.value.proxy_buffering},function(e){W.status=!!e},{immediate:!0}),function(e,t){var n=Se,l=Ve,r=Te,u=te;return de(),se("div",Qe,[_e(r,{class:"h-[38rem]",model:me(W),"label-width":"140px"},{default:be(function(){return[_e(l,{label:"proxy_buffering开关",prop:"status"},{default:be(function(){return[_e(n,{modelValue:me(W).status,"onUpdate:modelValue":t[0]||(t[0]=function(e){return me(W).status=e}),onChange:me(q)},null,8,["modelValue","onChange"])]}),_:1})]}),_:1},8,["model"]),Oe("div",Xe,[_e(u,{options:me(Q)},null,8,["options"])])])}}});t("default",oe(ae({__name:"setting",setup:function(t){var n=ue({type:"card",value:N,options:[{label:"反向代理",name:"proxy",lazy:!0,render:function(){return _e(Fe,null,null)}},{label:"自定义配置",name:"custom",lazy:!0,render:function(){return _e(Re,null,null)}},{label:"内容替换",name:"replace",lazy:!0,render:function(){return _e(Be,null,null)}},{label:"缓存",name:"cache",lazy:!0,render:function(){return _e(Ne,null,null)}},{label:"内容压缩",name:"compress",lazy:!0,render:function(){return _e(We,null,null)}},{label:"IP黑名单",name:"ipBlackList",lazy:!0,render:function(){return _e(qe,null,null)}},{label:"IP白名单",name:"ipWhiteList",lazy:!0,render:function(){return _e(qe,null,null)}},{label:"buffer缓冲",name:"buffer",lazy:!0,render:function(){return _e(Ye,null,null)}}]}).BtTabs;return ie(function(){return N.value},function(){X()}),ce(l(e().m(function t(){return e().w(function(e){for(;;)switch(e.n){case 0:X();case 1:return e.a(2)}},t)}))),function(e,t){return de(),ye(me(n),{class:"p-[1.6rem]"})}}}),[["__scopeId","data-v-744f915b"]]))}}})}();
