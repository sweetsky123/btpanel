!function(){function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.toStringTag||"@@toStringTag";function c(t,a,o,u){var c=a&&a.prototype instanceof l?a:l,s=Object.create(c.prototype);return r(s,"_invoke",function(t,r,a){var o,u,c,l=0,s=a||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return o=n,u=0,c=e,d.n=t,i}};function p(t,r){for(u=t,c=r,n=0;!f&&l&&!a&&n<s.length;n++){var a,o=s[n],p=d.p,m=o[2];t>3?(a=m===r)&&(c=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=t<2&&p<o[1])?(u=0,d.v=r,d.n=o[1]):p<m&&(a=t<3||o[0]>r||r>m)&&(o[4]=t,o[5]=r,d.n=m,u=0))}if(a||t>1)return i;throw f=!0,r}return function(a,s,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),u=s,c=m;(n=u<2?e:c)||!f;){o||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(l=2,o){if(u||(a="next"),n=o[a]){if(!(n=n.call(o,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,u<2&&(u=0)}else 1===u&&(n=o.return)&&n.call(o),u<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=e}else if((n=(f=d.n<0)?c:t.call(r,d))!==i)break}catch(n){o=e,u=1,c=n}finally{l=1}}return{value:n,done:f}}}(t,o,u),!0),s}var i={};function l(){}function s(){}function f(){}n=Object.getPrototypeOf;var d=[][o]?n(n([][o]())):(r(n={},o,function(){return this}),n),p=f.prototype=l.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,u,"GeneratorFunction")),e.prototype=Object.create(p),e}return s.prototype=f,r(p,"constructor",f),r(f,"constructor",s),s.displayName="GeneratorFunction",r(f,u,"GeneratorFunction"),r(p),r(p,u,"Generator"),r(p,o,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(t=function(){return{w:c,m:m}})()}function r(e,n,t,a){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}r=function(e,n,t,a){function u(n,t){r(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!a,configurable:!a,writable:!a}):e[n]=t:(u("next",0),u("throw",1),u("return",2))},r(e,n,t,a)}function a(e,n,t,r,a,o,u){try{var c=e[o](u),i=c.value}catch(e){return void t(e)}c.done?n(i):Promise.resolve(i).then(r,a)}function o(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var u=e.apply(n,t);function c(e){a(u,r,o,c,i,"next",e)}function i(e){a(u,r,o,c,i,"throw",e)}c(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./index-legacy119.js?v=1763689792","./index.vue_vue_type_script_setup_true_lang-legacy7.js?v=1763689792","./validator-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./ace-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./index-legacy107.js?v=1763689792"],function(n,r){"use strict";var a,u,c,i,l,s,f,d,p,m,y,v,b,h,_,g,x,w,j,V,C,O,S,k,T,E,A,G,P,I,z,U;return{setters:[function(e){a=e.Q,u=e.b8,c=e.x,i=e.k,l=e.aC,s=e._},function(e){f=e.r,d=e.o,p=e.c,m=e.v,y=e.I,v=e.x,b=e.O,h=e.C,_=e.e,g=e.A,x=e.J,w=e.z,j=e.R,V=e.D,C=e.aD,O=e.H,S=e.ax,k=e.az,T=e.ad,E=e.ab},function(e){A=e.B},function(e){G=e.S,P=e._},function(e){I=e.b1,z=e.b2,U=e.a$},null,null,null,null,null],execute:function(){var r=G(),q=f({}),D={bind:"监听IP",port:"监听端口",cachesize:"最大缓存容量",maxconn:"最大连接数限制",curr_connections:"当前打开的连接数",cmd_get:"GET请求数",get_hits:"GET命中次数",get_misses:"GET失败次数",hit:"GET命中率",curr_items:"当前被缓存的数据行数",evictions:"因内存不足而被清理的缓存行数",bytes:"当前已使用内存",bytes_read:"请求总大小",bytes_written:"发送总大小"},F=f("service"),H=f(""),M=f(!1),N=f(!1),B=f([]),R=d({ip:"",cachesize:"",maxconn:"",port:"",btn_set_memcached:""}),$=f(""),J=f([]),Q=function(){var e=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a({loading:M,request:z(),success:function(e){R.ip=e.data.bind,R.cachesize=e.data.cachesize,R.maxconn=e.data.maxconn,R.port=e.data.port}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),X=function(){var e=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a({loading:"正在保存中，请稍后...",request:I(R),message:!0});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a({loading:M,request:z(),success:function(e){B.value=[];var n=["bytes","bytes_read","bytes_written"];Object.keys(e.data).forEach(function(t){"limit_maxbytes"!==t&&B.value.push({name:t,ps:D[t],value:n.includes(t)?c(Number(e.data[t])):e.data[t]})})}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a({loading:M,request:U({path:"/etc/init.d/memcached"}),data:{data:[String,H]}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=o(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a({loading:"正在保存中，请稍后...",request:u({path:"/etc/init.d/memcached",data:H.value,encoding:"utf-8"}),message:!0});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),W=function(e){switch(e.props.name){case"service":Y();break;case"performance":Q();break;case"config":K();break;case"load":Z()}},Y=function(e){F.value="service",e&&(q.value=e),r.init(q.value),$.value=q.value.version.split(".")[0]+"."+q.value.version.split(".")[1],J.value=q.value.versions},ee={class:"my-[12px]"},ne={class:"flex flex-col text-secondary performance"},te={class:"flex items-center"},re={class:"flex items-center"},ae={class:"flex items-center"},oe={class:"flex items-center"};n("default",s(p({__name:"index",props:{compData:{default:{}}},setup:function(n){var t=n;return m(function(){Y(t.compData)}),function(n,t){var r=C,a=A,o=O,u=S,c=k,s=i,f=T,d=E,p=l,m=y("bt-loading");return v(),b(p,{modelValue:w(F),"onUpdate:modelValue":t[5]||(t[5]=function(e){return j(F)?F.value=e:null}),type:"left-bg-card",onTabClick:w(W)},{default:h(function(){return[_(r,{label:"服务",name:"service"},{default:h(function(){return[_(P)]}),_:1}),_(r,{label:"配置文件",name:"config"},{default:h(function(){return[t[7]||(t[7]=g("span",{class:"my-[4px] text-secondary"},"提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换",-1)),g("div",ee,[x(_(a,{class:"!h-[36rem] !w-[full]",modelValue:w(H),"onUpdate:modelValue":t[0]||(t[0]=function(e){return j(H)?H.value=e:null}),id:"configContent",filePath:"/etc/init.d/memcached"},null,8,["modelValue"]),[[m,w(M)]])]),_(o,{onClick:w(L),type:"primary"},{default:h(function(){return e(t[6]||(t[6]=[V("保存",-1)]))}),_:1},8,["onClick"]),t[8]||(t[8]=g("ul",{class:"leading-8 mt-20px text-small list-disc ml-[20px]"},[g("li",null,"此处为memcached主配置文件,若您不了解配置规则,请勿随意修改")],-1))]}),_:1}),_(r,{label:"负载状态",name:"load"},{default:h(function(){return[x((v(),b(c,{"max-height":"500",data:w(B),border:"",style:{width:"100%"}},{default:h(function(){return[_(u,{prop:"name",label:"字段"}),_(u,{prop:"value",label:"当前值"}),_(u,{prop:"ps",label:"说明"})]}),_:1},8,["data"])),[[m,w(M)]])]}),_:1}),x((v(),b(r,{label:"性能调整",name:"performance"},{default:h(function(){return[g("div",ne,[_(d,{model:w(R)},{default:h(function(){return[_(f,{label:"BindIp"},{default:h(function(){return[g("div",te,[_(s,{modelValue:w(R).ip,"onUpdate:modelValue":t[1]||(t[1]=function(e){return w(R).ip=e})},null,8,["modelValue"]),t[9]||(t[9]=g("span",{class:"unit"},"监听IP,请勿随意修改",-1))])]}),_:1}),_(f,{label:"PORT"},{default:h(function(){return[g("div",re,[_(s,{modelValue:w(R).port,"onUpdate:modelValue":t[2]||(t[2]=function(e){return w(R).port=e}),type:"number"},null,8,["modelValue"]),t[10]||(t[10]=g("span",{class:"unit"}," 监听端口,一般无需修改",-1))])]}),_:1}),_(f,{label:"CACHESIZE"},{default:h(function(){return[g("div",ae,[_(s,{modelValue:w(R).cachesize,"onUpdate:modelValue":t[3]||(t[3]=function(e){return w(R).cachesize=e}),type:"number"},null,8,["modelValue"]),t[11]||(t[11]=g("span",{class:"unit"}," MB,缓存大小,建议不要大于512M",-1))])]}),_:1}),_(f,{label:"MAXCONN"},{default:h(function(){return[g("div",oe,[_(s,{modelValue:w(R).maxconn,"onUpdate:modelValue":t[4]||(t[4]=function(e){return w(R).maxconn=e}),type:"number"},null,8,["modelValue"]),t[12]||(t[12]=g("span",{class:"unit"},"最大连接数,建议不要大于40960",-1))])]}),_:1}),_(f,{label:" "},{default:h(function(){return[_(o,{onClick:w(X),type:"primary"},{default:h(function(){return e(t[13]||(t[13]=[V("保存",-1)]))}),_:1},8,["onClick"])]}),_:1})]}),_:1},8,["model"])])]}),_:1})),[[m,w(N)]])]}),_:1},8,["modelValue","onTabClick"])}}}),[["__scopeId","data-v-5cf77f24"]]))}}})}();
