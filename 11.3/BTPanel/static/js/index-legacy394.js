!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var l={}.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=Array(t);n<t;n++)l[n]=e[n];return l}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function u(n,r,a,o){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return l(s,"_invoke",function(n,l,r){var a,o,u,c=0,s=r||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,o=0,u=e,f.n=n,i}};function m(n,l){for(o=n,u=l,t=0;!d&&c&&!r&&t<s.length;t++){var r,a=s[t],m=f.p,p=a[2];n>3?(r=p===l)&&(u=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=m&&((r=n<2&&m<a[1])?(o=0,f.v=l,f.n=a[1]):m<p&&(r=n<3||a[0]>l||l>p)&&(a[4]=n,a[5]=l,f.n=p,o=0))}if(r||n>1)return i;throw d=!0,l}return function(r,s,p){if(c>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,p),o=s,u=p;(t=o<2?e:u)||!d;){a||(o?o<3?(o>1&&(f.n=-1),m(o,u)):f.n=u:f.v=u);try{if(c=2,a){if(o||(r="next"),t=a[r]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,o<2&&(o=0)}else 1===o&&(t=a.return)&&t.call(a),o<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),o=1);a=e}else if((t=(d=f.n<0)?u:n.call(l,f))!==i)break}catch(t){a=e,o=1,u=t}finally{c=1}}return{value:t,done:d}}}(n,a,o),!0),s}var i={};function c(){}function s(){}function d(){}t=Object.getPrototypeOf;var f=[][a]?t(t([][a]())):(l(t={},a,function(){return this}),t),m=d.prototype=c.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=d,l(m,"constructor",d),l(d,"constructor",s),s.displayName="GeneratorFunction",l(d,o,"GeneratorFunction"),l(m),l(m,o,"Generator"),l(m,a,function(){return this}),l(m,"toString",function(){return"[object Generator]"}),(n=function(){return{w:u,m:p}})()}function l(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}l=function(e,t,n,r){function o(t,n){l(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},l(e,t,n,r)}function r(e,t,n,l,r,a,o){try{var u=e[a](o),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(l,r)}System.register(["./base-lib-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./index-legacy78.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy109.js?v=1763689792","./index-legacy147.js?v=1763689792","./index-legacy131.js?v=1763689792","./validator-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./column-legacy.js?v=1763689792","./index.vue_vue_type_style_index_0_scoped_cdc7f4d3_lang-legacy.js?v=1763689792","./useController-legacy6.js?v=1763689792","./site-legacy.js?v=1763689792","./useStore-legacy4.js?v=1763689792"],function(t,l){"use strict";var a,o,u,i,c,s,d,f,m,p,y,b,v,h,g,_,V,x,w,j,k,U,C,O,P,S,T,F,A,E,G,z,I,M,H,$,q,B,D,J,L,N,K,Q,R,W,X,Y,Z,ee,te,ne;return{setters:[function(e){a=e.c,o=e.r,u=e.g,i=e.v,c=e.a8,s=e.x,d=e.O,f=e.C,m=e.e,p=e.A,y=e.z,b=e.J,v=e.K,h=e.y,g=e.B,_=e.G,V=e.L,x=e.D,w=e.b1,j=e.F,k=e.a1,U=e.ad,C=e.am,O=e.an,P=e.al,S=e.aj,T=e.ak,F=e.V,A=e.H},function(e){E=e._},function(e){G=e.L,z=e.cf,I=e.k,M=e.e,H=e.d,$=e.N},function(e){q=e.p,B=e.s,D=e.i,J=e.$,L=e.a,N=e.o,K=e.g,Q=e.e,R=e.b,W=e.c,X=e.d,Y=e.f,Z=e.h,ee=e.u,te=e.j,ne=e.k},null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l={class:"flex items-center"},le={key:0,class:"absolute top-[26px] text-small text-[red]"},re={class:"flex items-center"},ae={class:"text-small text-tertiary flex items-center justify-center"},oe=["title"],ue={key:0,class:"absolute top-[50%] right-[-1rem] translate-y-[-50%] flex items-center"},ie={class:"text-small text-tertiary truncate max-w-[6rem]"},ce={class:"text-small text-tertiary"},se={class:"flex items-center"},de={class:"truncate text-medium max-w-[13rem]"},fe={class:"text-small text-tertiary mt-[.5rem]"},me={class:"text-small ml-8px"},pe={class:"mt-[1.6rem]"},ye={class:"mt-[1.6rem]"},be={class:"flex"},ve={key:2,class:"my-[20px]"},he={class:"flex items-center"},ge={class:"ml-[1rem] text-primary w-[16rem] select-none"},_e={class:"pt-[0]"};t("default",a({__name:"index",setup:function(t,a){var Ve,xe,we=a.expose,je=o(!1),ke=G({data:q.value,options:function(e){return u(function(){return[{type:"slots",key:"custom",rules:{pjname:[z({message:"请输入项目名称"})],port:[{validator:function(e,t,n){"command"!==q.value.stype&&(!/^\d+$/.test(t)||t<0||t>65535)?q.value.listenMsg?n(new Error(" ")):n(new Error("端口号范围为0-65535")):n()},tirgger:["blur","change"]}],path:[z({message:"请选择路径"})],processes:[z({message:"请输入进程数"})],threads:[z({message:"请输入线程数"})],python_bin:[z({message:"请选择Python环境"})],parm:[{validator:function(e,t,n){"command"===q.value.stype&&""===t?n(new Error("请输入启动命令")):n()},tirgger:["blur","change"]}]}}]})},submit:(Ve=n().m(function e(t,l){return n().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,l();case 1:return e.n=2,B(t.value);case 2:return e.a(2,e.v)}},e)}),xe=function(){var e=this,t=arguments;return new Promise(function(n,l){var a=Ve.apply(e,t);function o(e){r(a,n,l,o,u,"next",e)}function u(e){r(a,n,l,o,u,"throw",e)}o(void 0)})},function(e,t){return xe.apply(this,arguments)})}),Ue=ke.BtForm,Ce=ke.submit;return i(function(){D()}),c(J),we({onConfirm:Ce}),function(t,n){var r=I,a=U,o=C,u=O,i=M,c=P,G=S,z=H,B=$,D=E,J=T,Ve=F,xe=A;return s(),d(y(Ue),{"label-width":"100px",class:"p-2rem"},{custom:f(function(){return[m(a,{label:"项目名称",prop:"pjname"},{default:f(function(){return[p("div",l,[m(r,{disabled:y(L),width:"22rem",modelValue:y(q).pjname,"onUpdate:modelValue":n[0]||(n[0]=function(e){return y(q).pjname=e}),placeholder:"请输入Python项目名称"},null,8,["disabled","modelValue"]),b(m(a,{label:"项目端口",prop:"port","label-width":"7rem"},{default:f(function(){return[m(r,{width:"18rem",type:"number",modelValue:y(q).port,"onUpdate:modelValue":n[1]||(n[1]=function(e){return y(q).port=e}),placeholder:"项目的真实端口"},null,8,["modelValue"]),y(q).listenMsg&&"command"!==y(q).stype?(s(),h("div",le,g(y(q).listenMsg),1)):_("",!0)]}),_:1},512),[[v,"command"!==y(q).stype]])])]}),_:1}),m(a,{label:"Python环境",prop:"python_bin"},{default:f(function(){return[p("div",re,[p("div",{class:V(["flex items-center",y(L)?"":"custom-refresh-select"])},[m(u,{modelValue:y(q).python_bin,"onUpdate:modelValue":n[3]||(n[3]=function(e){return y(q).python_bin=e}),filterable:"",class:"!w-[24rem]","popper-class":"env-select",disabled:y(L)},{empty:f(function(){return[p("div",ae,[n[24]||(n[24]=x("暂无Python环境,",-1)),p("span",{class:"bt-link",onClick:n[2]||(n[2]=function(e){return y(N)(y(K))})},"点击添加")])]}),default:f(function(){return[(s(!0),h(j,null,w(y(Q),function(e){return s(),d(o,{key:e.bin_path,value:e.bin_path,label:e.name},{default:f(function(){return[p("div",{class:"relative pt-[1rem]",title:e.name},[e.project_name.length?(s(),h("div",ue,[p("span",ie,g(e.project_name[0]),1),p("span",ce,g("等".concat(e.project_name.length,"个项目正在使用")),1)])):_("",!0),p("div",se,[p("div",de,g(e.name),1),p("span",{class:V(["text-small ml-[8px] px-[.5rem] rounded-base border","tag-".concat(e.type)])},g(y(ne)(e.type)),3)]),p("div",fe,g(e.version),1)],8,oe)]}),_:2},1032,["value","label"])}),128))]}),_:1},8,["modelValue","disabled"])],2),p("span",me,[n[26]||(n[26]=x(" * 如需添加Python环境，请点击",-1)),m(i,{onClick:n[4]||(n[4]=function(e){return y(N)(y(K))})},{default:f(function(){return e(n[25]||(n[25]=[x("环境管理",-1)]))}),_:1})])])]}),_:1}),m(a,{label:"启动方式"},{default:f(function(){return[m(G,{modelValue:y(q).stype,"onUpdate:modelValue":n[5]||(n[5]=function(e){return y(q).stype=e})},{default:f(function(){return[m(c,{label:"command"},{default:f(function(){return e(n[27]||(n[27]=[x("命令行启动",-1)]))}),_:1}),m(c,{label:"uwsgi"},{default:f(function(){return e(n[28]||(n[28]=[x("uwsgi",-1)]))}),_:1}),m(c,{label:"gunicorn"},{default:f(function(){return e(n[29]||(n[29]=[x("gunicorn",-1)]))}),_:1})]}),_:1},8,["modelValue"])]}),_:1}),m(a,{label:"项目路径",prop:"path"},{default:f(function(){return[m(r,{width:"42rem","icon-type":!y(L)&&"folder",disabled:y(L),placeholder:"项目的根路径",onFolder:y(R),onChange:y(W),modelValue:y(q).path,"onUpdate:modelValue":n[6]||(n[6]=function(e){return y(q).path=e})},k({_:2},[y(L)?void 0:{name:"append",fn:f(function(){return[m(B,{onClick:y(R)},{default:f(function(){return[m(z,{icon:"el-folder-opened",class:"cursor-pointer"})]}),_:1},8,["onClick"])]}),key:"0"}]),1032,["icon-type","disabled","onFolder","onChange","modelValue"])]}),_:1}),b(p("div",{class:"mt-[1rem] ml-[12rem]"},"当前框架："+g(y(q).framework),513),[[v,y(q).framework]]),b(p("div",pe,[m(a,{label:"启动命令",prop:"parm"},{default:f(function(){return[m(r,{modelValue:y(q).parm,"onUpdate:modelValue":n[7]||(n[7]=function(e){return y(q).parm=e}),placeholder:"请输入启动命令",width:"42rem"},null,8,["modelValue"])]}),_:1})],512),[[v,"command"===y(q).stype]]),b(p("div",ye,[m(a,{label:"入口文件"},{default:f(function(){return[m(D,{placeholder:"项目的入口文件",modelValue:y(q).rfile,"onUpdate:modelValue":n[8]||(n[8]=function(e){return y(q).rfile=e}),icon:"el-folder-opened",onIconClick:n[9]||(n[9]=function(e){return y(X)(y(q))}),onChange:n[10]||(n[10]=function(e){return y(Y)(y(q))}),width:"42rem"},null,8,["modelValue"])]}),_:1}),m(a,{label:"通讯协议"},{default:f(function(){return[p("div",be,[m(u,{modelValue:y(q).xsgi,"onUpdate:modelValue":n[11]||(n[11]=function(e){return y(q).xsgi=e}),class:"!w-[15rem]"},{default:f(function(){return[m(o,{label:"wsgi",value:"wsgi"}),m(o,{label:"asgi",value:"asgi"})]}),_:1},8,["modelValue"]),m(a,{label:"应用名称"},{default:f(function(){return[m(r,{modelValue:y(q).app,"onUpdate:modelValue":n[12]||(n[12]=function(e){return y(q).app=e}),placeholder:"请输入应用名称",width:"22rem"},null,8,["modelValue"])]}),_:1})])]}),_:1})],512),[[v,"command"!==y(q).stype]]),m(a,{label:"环境变量",class:"mt-[1.6rem]"},{default:f(function(){return[m(G,{modelValue:y(q).envType,"onUpdate:modelValue":n[13]||(n[13]=function(e){return y(q).envType=e})},{default:f(function(){return[m(J,{label:0},{default:f(function(){return e(n[30]||(n[30]=[x("无",-1)]))}),_:1}),m(J,{label:1},{default:f(function(){return e(n[31]||(n[31]=[x("指定变量",-1)]))}),_:1}),m(J,{label:2},{default:f(function(){return e(n[32]||(n[32]=[x("从文件加载",-1)]))}),_:1})]}),_:1},8,["modelValue"])]}),_:1}),b(m(a,{label:" "},{default:f(function(){return[b(m(r,{width:"40rem",type:"textarea",rows:4,resize:"none",modelValue:y(q).env,"onUpdate:modelValue":n[14]||(n[14]=function(e){return y(q).env=e}),placeholder:"环境变量，1行1个，例如： JAVA_HOME=/usr/local/btjdk/jdk8"},null,8,["modelValue"]),[[v,1===y(q).envType]]),b(m(D,{modelValue:y(q).envPath,"onUpdate:modelValue":n[15]||(n[15]=function(e){return y(q).envPath=e}),placeholder:"请选择环境变量文件",icon:"el-folder-opened",onIconClick:y(Z),width:"42rem"},null,8,["modelValue","onIconClick"]),[[v,2===y(q).envType]])]}),_:1},512),[[v,0!==y(q).envType]]),m(a,{label:"启动用户"},{default:f(function(){return[m(u,{modelValue:y(q).user,"onUpdate:modelValue":n[16]||(n[16]=function(e){return y(q).user=e}),class:"!w-[16rem]"},{default:f(function(){return[(s(!0),h(j,null,w(y(ee),function(e){return s(),d(o,{key:e,label:e,value:e},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),y(L)?(s(),d(a,{key:0,label:"开机启动"},{default:f(function(){return[m(Ve,{modelValue:y(q).auto_run,"onUpdate:modelValue":n[17]||(n[17]=function(e){return y(q).auto_run=e})},{default:f(function(){return e(n[33]||(n[33]=[x(" 是否设置开机自动启动（默认自带守护进程每120秒检测一次） ",-1)]))}),_:1},8,["modelValue"])]}),_:1})):_("",!0),y(L)?_("",!0):(s(),d(a,{key:1,label:"安装依赖包"},{default:f(function(){return[m(r,{width:"42rem","icon-type":"folder",placeholder:"安装依赖包路径（非必填）",onFolder:y(te),modelValue:y(q).requirement_path,"onUpdate:modelValue":n[18]||(n[18]=function(e){return y(q).requirement_path=e})},{append:f(function(){return[m(B,{onClick:y(te)},{default:f(function(){return[m(z,{icon:"el-folder-opened",class:"cursor-pointer"})]}),_:1},8,["onClick"])]}),_:1},8,["onFolder","modelValue"])]}),_:1})),y(L)?(s(),h("div",ve,["command"!=y(q).stype?(s(),d(a,{key:0,label:"进程数",prop:"processes"},{default:f(function(){return[p("div",he,[m(r,{width:"16rem",modelValue:y(q).processes,"onUpdate:modelValue":n[19]||(n[19]=function(e){return y(q).processes=e})},null,8,["modelValue"]),m(a,{label:"线程数",prop:"threads"},{default:f(function(){return[m(r,{width:"16rem",modelValue:y(q).threads,"onUpdate:modelValue":n[20]||(n[20]=function(e){return y(q).threads=e})},null,8,["modelValue"])]}),_:1})])]}),_:1})):_("",!0),y(L)&&"uwsgi"===y(q).stype?(s(),d(a,{key:1,label:"通信方式"},{default:f(function(){return[m(u,{modelValue:y(q).is_http,"onUpdate:modelValue":n[21]||(n[21]=function(e){return y(q).is_http=e}),class:"w-[16rem]"},{default:f(function(){return[m(o,{label:"http",value:!0}),m(o,{label:"socket",value:!1})]}),_:1},8,["modelValue"])]}),_:1})):_("",!0)])):_("",!0),y(L)?_("",!0):(s(),h(j,{key:3},[p("div",{class:"more flex items-center cursor-pointer pl-[10rem] my-[2rem] px-[2rem]",onClick:n[22]||(n[22]=function(e){return je.value=!y(je)})},[p("i",{class:V(y(je)?"svgtofont-el-arrow-down":"svgtofont-el-arrow-right")},null,2),p("div",ge,g("更多设置，".concat(y(je)?"点击收回":"点击查看")),1)]),b(p("div",_e,[m(a,{label:"项目初始化命令",prop:"initialize"},{default:f(function(){return[m(r,{rows:3,modelValue:y(q).initialize,"onUpdate:modelValue":n[23]||(n[23]=function(e){return y(q).initialize=e}),type:"textarea",name:"initialize",width:"42rem",placeholder:"此处填写用于初始化项目的命令或脚本，常见的有项目数据库初始化操作等。例如：django常使用python manage.py makemigrations 和 python manage.py migrate 初始化数据库"},null,8,["modelValue"])]}),_:1})],512),[[v,y(je)]]),n[34]||(n[34]=p("ul",{class:"mt-[20px] leading-8 text-small list-disc ml-48px"},[p("li",null,"执行命令：请输入项目需要携带的参数，默认请输入执行文件名"),p("li",null,[x(" 通讯协议：wsgi：同步通讯，一次处理一个请求， asgi：异步处理，并发处理请求 "),p("br"),x(" 根据项目情况具体选择，例如: 传统Flask就是wsgi, Fastapi框架就是asgi, Django两者都可以支持 ")]),p("li",null,"项目初始化命令：初始化脚本会在创建虚拟环境，安装依赖库之后执行")],-1))],64)),y(L)?(s(),d(a,{key:4,label:" "},{default:f(function(){return[m(xe,{type:"primary",onClick:y(Ce)},{default:f(function(){return e(n[35]||(n[35]=[x("保存配置",-1)]))}),_:1},8,["onClick"])]}),_:1})):_("",!0)]}),_:1})}}}))}}})}();
