import{k as e,$ as l,b3 as a,l as s,ah as t,aj as n,_ as o}from"./utils-lib.js?v=1763689792";import{c as u,w as i,I as r,x as d,y as m,J as p,z as c,O as f,C as b,e as _,A as v,F as h,b1 as y,K as x,D as V,ap as k,ad as C,am as g,an as j,H as w,b2 as z,ab as U,v as B,r as I,G as L,R as P,V as R}from"./base-lib.js?v=1763689792";import{c as F,g as G,o as O,f as H,t as E,a as S,b as T,d as q,e as A,h as D,s as K,i as J,j as M,l as W,k as $,m as N,n as Q,p as X,q as Y,r as Z,u as ee,v as le,T as ae,w as se,x as te,y as ne,z as oe,A as ue,B as ie,C as re,D as de,E as me,F as pe,G as ce,H as fe}from"./index240.js?v=1763689792";import{_ as be}from"./index109.js?v=1763689792";import{B as _e}from"./index119.js?v=1763689792";import{p as ve}from"./useController4.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index442.js?v=1763689792";import"./form-item.js?v=1763689792";import"./index110.js?v=1763689792";import"./validator.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";import"./useStore4.js?v=1763689792";import"./site.js?v=1763689792";import"./index123.js?v=1763689792";import"./ace.js?v=1763689792";import"./useController5.js?v=1763689792";import"./useController6.js?v=1763689792";import"./useMethod5.js?v=1763689792";const he={class:"p-[20px]"},ye={class:"pt-[1.6rem]"},xe={class:"flex items-center"},Ve={class:"ml-[20px]"},ke=u({__name:"cache",setup:(a,{expose:s})=>(i(()=>G.value.proxy_cache,e=>{if(e){F.status=e.cache_status;let l="",a="m";e.expires.length>1&&(l=e.expires.slice(0,-1),a=e.expires.slice(-1)),F.time=l,F.unit=a}}),s({onConfirm:O}),(a,s)=>{const t=k,n=C,o=e,u=g,i=j,B=w,I=z,L=U,P=l,R=r("bt-loading");return d(),m("div",he,[p((d(),f(L,{ref_key:"cacheFormRef",ref:T,class:"h-[40rem]",model:c(F),"label-width":"100px",rules:c(q),disabled:c(A)},{default:b(()=>[_(n,{label:"缓存开关",prop:"status"},{default:b(()=>[_(t,{modelValue:c(F).status,"onUpdate:modelValue":s[0]||(s[0]=e=>c(F).status=e),onChange:c(O)},null,8,["modelValue","onChange"])]),_:1}),p(v("div",ye,[_(n,{label:"缓存时间",prop:"time"},{default:b(()=>[v("div",xe,[_(o,{modelValue:c(F).time,"onUpdate:modelValue":s[1]||(s[1]=e=>c(F).time=e)},null,8,["modelValue"]),_(n,{prop:"unit"},{default:b(()=>[_(i,{class:"ml-[1rem] !w-[8rem]",modelValue:c(F).unit,"onUpdate:modelValue":s[2]||(s[2]=e=>c(F).unit=e),placeholder:"请选择"},{default:b(()=>[(d(!0),m(h,null,y(c(E),e=>(d(),f(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),_:1})],512),[[x,c(F).status]]),p(_(n,{class:"!pt-[1.6rem]",label:" "},{default:b(()=>[_(B,{type:"primary",onClick:c(O)},{default:b(()=>[...s[3]||(s[3]=[V("保存",-1)])]),_:1},8,["onClick"])]),_:1},512),[[x,c(F).status]]),_(I),_(B,{type:"default",onClick:c(S)},{default:b(()=>[...s[4]||(s[4]=[V("清理缓存",-1)])]),_:1},8,["onClick"])]),_:1},8,["model","rules","disabled"])),[[R,c(H)]]),v("div",Ve,[_(P,{options:c(D)},null,8,["options"])])])})}),Ce={class:"p-[20px]"},ge={class:"mt-[1.6rem]"},je={class:"flex items-center"},we={class:"ml-[20px]"},ze=u({__name:"content-compression",setup:a=>(i(()=>G.value.gzip,e=>{e?K(e):J.status=!1}),B(()=>{K(G.value.gzip)}),(a,s)=>{const t=k,n=C,o=e,u=g,i=j,z=w,B=U,I=l,L=r("bt-loading");return d(),m("div",Ce,[p((d(),f(B,{ref_key:"compressFormRef",ref:$,class:"h-[48rem]",model:c(J),rules:c(N),"label-width":"100px",disabled:c(A)},{default:b(()=>[_(n,{label:"内容压缩",prop:"status"},{default:b(()=>[_(t,{modelValue:c(J).status,"onUpdate:modelValue":s[0]||(s[0]=e=>c(J).status=e),onChange:c(M)},null,8,["modelValue","onChange"])]),_:1}),p(v("div",ge,[_(n,{label:"压缩类型",prop:"type"},{default:b(()=>[_(o,{modelValue:c(J).type,"onUpdate:modelValue":s[1]||(s[1]=e=>c(J).type=e),type:"textarea",width:"42rem",rows:6,resize:"none"},null,8,["modelValue"])]),_:1}),_(n,{label:"压缩级别",prop:"level"},{default:b(()=>[_(i,{class:"!w-[42rem]",modelValue:c(J).level,"onUpdate:modelValue":s[2]||(s[2]=e=>c(J).level=e)},{default:b(()=>[(d(),m(h,null,y(9,e=>_(u,{key:e,label:e,value:String(e)},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),_(n,{label:"压缩最小长度",prop:"minLength"},{default:b(()=>[v("div",je,[_(o,{modelValue:c(J).minLength,"onUpdate:modelValue":s[3]||(s[3]=e=>c(J).minLength=e)},null,8,["modelValue"]),_(n,{prop:"unit"},{default:b(()=>[_(i,{class:"ml-[1rem] !w-[8rem]",modelValue:c(J).unit,"onUpdate:modelValue":s[4]||(s[4]=e=>c(J).unit=e),placeholder:"请选择"},{default:b(()=>[(d(!0),m(h,null,y(c(W),e=>(d(),f(u,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})])]),_:1})],512),[[x,c(J).status]]),p(_(n,{label:" ",class:"mt-[1.6rem]"},{default:b(()=>[_(z,{type:"primary",onClick:c(M)},{default:b(()=>[...s[5]||(s[5]=[V("保存",-1)])]),_:1},8,["onClick"])]),_:1},512),[[x,c(J).status]])]),_:1},8,["model","rules","disabled"])),[[L,c(H)]]),v("div",we,[_(I,{options:c(Q)},null,8,["options"])])])})}),Ue=u({__name:"ip-list",setup(e){const n=I();i(()=>G.value.ip_limit,e=>{e?X(e):(Y.white=[],Y.black=[])},{deep:!0});const{BtOperation:o}=a({options:[{type:"button",label:"添加IP".concat("ipBlackList"===Z.value?"黑":"白","名单"),active:!0,onClick:ee}]});return B(()=>{X(G.value.ip_limit)}),(e,a)=>{const u=s,i=t,r=be,p=l;return d(),m("div",null,[_(r,null,{"header-left":b(()=>[_(c(o))]),content:b(()=>["ipBlackList"!==c(Z)?(d(),f(u,{key:0,ref_key:"ipListRef",ref:n,data:c(Y).white,"max-height":390,column:c(le)},{empty:b(()=>[...a[0]||(a[0]=[v("div",{class:"flex items-center justify-center"},"当前列表为空",-1)])]),_:1},8,["data","column"])):(d(),f(u,{key:1,ref_key:"ipListRef",ref:n,data:c(Y).black,"max-height":390,column:c(le)},{empty:b(()=>[...a[1]||(a[1]=[v("div",{class:"flex items-center justify-center"},"当前列表为空",-1)])]),_:1},8,["data","column"]))]),"footer-left":b(()=>[_(i,{"table-ref":c(n),options:c(ae)},null,8,["table-ref","options"])]),_:1}),"ipBlackList"!==c(Z)?(d(),f(p,{key:0,class:"mt-[2rem] ml-[1.6rem]",options:[{content:"注意：设置IP白名单后会默认禁止除白名单以外的所有IP访问"}]})):L("",!0)])}}}),Be=u({__name:"http-auth",setup(e){i(()=>G.value.basic_auth,e=>{se(e)});const{BtOperation:l}=a({options:[{label:"添加",type:"button",active:!0,onClick:()=>{te()}}]});return B(async()=>{se(G.value.basic_auth)}),(e,a)=>{const t=s,n=be,o=r("bt-loading");return d(),f(n,null,{"header-left":b(()=>[_(c(l))]),content:b(()=>[p((d(),f(t,{ref:"siteProxyTable","max-height":500,data:c(ne),column:c(oe)},{empty:b(()=>[...a[0]||(a[0]=[v("div",{class:"flex items-center justify-center"},"当前列表为空",-1)])]),_:1},8,["data","column"])),[[o,"正在加载中，请稍后...","title"]])]),_:1})}}}),Ie={class:"p-[20px]"},Le=u({__name:"websocket",setup:e=>(i(()=>G.value.websocket,e=>{ue(e)}),B(()=>{ue(G.value.websocket)}),(e,l)=>{const a=k,s=C,t=U,n=r("bt-loading");return d(),m("div",Ie,[p((d(),f(t,{ref:"customFormRef",model:c(ie),"label-width":"100px",disabled:c(A)},{default:b(()=>[_(s,{label:"websocket支持","label-width":"100px"},{default:b(()=>[_(a,{modelValue:c(ie).websocket,"onUpdate:modelValue":l[0]||(l[0]=e=>c(ie).websocket=e),onChange:c(re)},null,8,["modelValue","onChange"])]),_:1})]),_:1},8,["model","disabled"])),[[n,c(H)]])])})}),Pe={class:"flex flex-col"},Re={class:"flex items-center justify-between mb-[8px]"},Fe={class:"h-[44rem] w-full"},Ge=u({__name:"set-404-page",setup(e,{expose:l}){const a=I(""),s=I(),t=I("utf-8"),n=I(["utf-8","GBK","GB2312","BIG5"]),o=I(!1),u=I(!1),i=async()=>{pe(a.value,t.value)};return B(()=>{de(u,a,t,o)}),l({onRefresh:()=>{de(u,a,t,o)}}),(e,l)=>{const x=R,k=g,C=j,z=_e,U=w,B=r("bt-loading");return d(),m("div",Pe,[v("div",Re,[v("div",null,[_(x,{modelValue:c(o),"onUpdate:modelValue":l[0]||(l[0]=e=>P(o)?o.value=e:null),onChange:c(me)},{default:b(()=>[...l[3]||(l[3]=[V("开启404错误页设置",-1)])]),_:1},8,["modelValue","onChange"])]),l[4]||(l[4]=V(" 提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换 ",-1)),_(C,{class:"!w-[16rem]",modelValue:c(t),"onUpdate:modelValue":l[1]||(l[1]=e=>P(t)?t.value=e:null),onChange:i},{default:b(()=>[(d(!0),m(h,null,y(c(n),e=>(d(),f(k,{key:e,value:e,label:e},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),p((d(),m("div",Fe,[_(z,{ref_key:"aceEditor",ref:s,"is-request":!1,modelValue:c(a),"onUpdate:modelValue":l[2]||(l[2]=e=>P(a)?a.value=e:null),editorOption:c(ve)(),saveEvent:i,class:"h-[40rem] w-full"},null,8,["modelValue","editorOption"]),_(U,{class:"flex !mt-[12px]",type:"primary",onClick:i},{default:b(()=>[...l[5]||(l[5]=[V("保存",-1)])]),_:1})])),[[B,c(u)]])])}}}),Oe={class:"p-[20px]"},He=u({__name:"ipv6-status",setup:(e,{expose:l})=>(l({onConfirm:ce}),(e,l)=>{const a=k,s=C,t=U,n=r("bt-loading");return d(),m("div",Oe,[p((d(),f(t,{ref_key:"cacheFormRef",ref:T,class:"h-[40rem]",model:c(F),"label-width":"100px",rules:c(q),disabled:c(A)},{default:b(()=>[_(s,{label:"监听IPv6",prop:"status"},{default:b(()=>[_(a,{modelValue:c(G).ipv6_status,"onUpdate:modelValue":l[0]||(l[0]=e=>c(G).ipv6_status=e),onChange:c(ce)},null,8,["modelValue","onChange"])]),_:1})]),_:1},8,["model","rules","disabled"])),[[n,c(H)]]),l[1]||(l[1]=v("div",{class:"ml-[20px]"},null,-1))])})}),Ee=o(u({__name:"index",setup(e){const{BtTabs:l}=n({type:"card",value:Z,options:[{label:"缓存",name:"cache",lazy:!0,render:()=>_(ke,null,null)},{label:"内容压缩",name:"compress",lazy:!0,render:()=>_(ze,null,null)},{label:"IP黑名单",name:"ipBlackList",lazy:!0,render:()=>_(Ue,null,null)},{label:"IP白名单",name:"ipWhiteList",lazy:!0,render:()=>_(Ue,null,null)},{label:"http认证",name:"basicauth",lazy:!0,render:()=>_(Be,null,null)},{label:"websocket",name:"websocket",lazy:!0,render:()=>_(Le,null,null)},{label:"404错误页",name:"404",lazy:!0,render:()=>_(Ge,null,null)},{label:"IPv6",name:"ipv6",lazy:!0,render:()=>_(He,null,null)}]});return i(()=>Z.value,e=>{fe()}),B(async()=>{fe()}),(e,a)=>(d(),f(c(l),{class:"h-[650px]"}))}}),[["__scopeId","data-v-77b07c2f"]]);export{Ee as default};
