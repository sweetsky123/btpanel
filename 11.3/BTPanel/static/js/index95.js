import{_ as e}from"./index109.js?v=1763689792";import{V as s,hY as t,p as a,Q as r,hZ as l,u as o,f0 as i,hx as n,N as m}from"./utils-lib.js?v=1763689792";import{_ as p}from"./version-compare.vue_vue_type_script_setup_true_lang.js?v=1763689792";import{s as c,j as u,r as d,e as g,c as h,aP as _,x,y as f,C as v,z as b,D as y,A as j}from"./base-lib.js?v=1763689792";import{e as B}from"./validator.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const w=u("VHOST-LOGS-STORE",()=>({columns:d([{label:"类型",prop:"log_type",minWidth:40},{label:"类别",prop:"log_level",minWidth:40},{label:"状态",prop:"status",minWidth:50,render:e=>g("span",{class:1===e.log_status?"text-primary":"text-error"},[1===e.log_status?"成功":"失败"])},{label:"内容",prop:"log_body",render:e=>g("div",{class:"flex"},[e.username?g("div",{class:"text-tertiary"},["用户名: ["+e.username+"]--\x3e"]):"",g("div",null,[e.log_body])])},{label:"执行时间",prop:"log_time",align:"right",minWidth:60,render:e=>s(e.log_time)}]),getLogsList:async e=>{var s;const{data:a}=await t({p:e.p,search:e.search,rows:e.limit});return{data:a.list||[],total:(null==(s=a.page)?void 0:s.count)||0}}})),C=async e=>{a({title:"清空日志",content:"是否清空日志，是否继续？",onConfirm:async()=>{await r({request:l(),message:!0,success:e})}})},L=h({__name:"index",setup(s){const{mainHeight:t}=o(),{columns:a,getLogsList:r}=(()=>{const e=w(),s=c(e);return{...e,...s}})(),{BtTable:l,BtSearch:u,BtRefresh:d,BtPage:h,refresh:L}=i({request:r,columns:a.value,extension:[n()]});return(s,a)=>{const r=m,o=_("BtTableCategory"),i=_("BtBatch"),n=e;return x(),f("div",null,[g(p),g(n,null,{"header-left":v(()=>[g(r,{onClick:a[0]||(a[0]=e=>b(C)(b(L)))},{default:v(()=>[...a[2]||(a[2]=[y("清除日志",-1)])]),_:1}),j("div",{class:"flex items-center ml-1rem",onClick:a[1]||(a[1]=e=>b(B)({name:"用户管理",type:35,id:62}))},[...a[3]||(a[3]=[j("i",{class:"svgtofont-desired text-medium mr-[4px]"},null,-1),j("span",{class:"bt-link"},"需求反馈",-1)])])]),"header-right":v(()=>[g(o,{class:"!w-[140px] mr-[10px]"}),g(b(u),{placeholder:"请输入用户名称",class:"!w-[270px] mr-[10px]"}),g(b(d))]),content:v(()=>[g(b(l),{"min-height":b(t)},null,8,["min-height"])]),"footer-left":v(()=>[g(i)]),"footer-right":v(()=>[g(b(h))]),_:1})])}}});export{L as default};
