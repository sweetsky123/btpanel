import{c as e,g as l,v as a,a8 as s,x as t,O as o,C as r,e as d,z as p,a1 as n,A as i,D as u,G as m,ad as c,aT as _,V as f,H as b}from"./base-lib.js?v=1763689792";import{L as h,cf as V,ar as w,d as x,N as k,k as v,ax as y,e as j}from"./utils-lib.js?v=1763689792";import{n as g,i as C,a as U,b as N,$ as q,c as z,o as A,v as B,g as D,d as F}from"./index79.js?v=1763689792";const G={class:"flex items-center"},H={class:"flex items-center"},I={class:"flex items-center custom-refresh-select"},L={class:"el-input-group__append !h-3rem !flex items-center"},O={class:"flex items-center"},T=e({__name:"index",setup(e,{expose:T}){const{BtForm:$,submit:E,param:J}=h({data:g.value,options:e=>l(()=>[{type:"input",label:"项目名称",key:"project_name",attrs:{class:"!w-[32rem]",placeholder:"请输入项目名称"},rules:[V({message:"请输入项目名称"})]},{type:"slots",key:"project_path",rules:{project_path:[V({message:"请输入项目路径"})]}},{type:"input",label:"启动命令",key:"project_cmd",attrs:{class:"!w-[32rem]",placeholder:"请输入项目的启动命令",onInput:e=>C()},rules:[V({message:"请输入项目执行命令"})]},{type:"slots",key:"port",rules:{port:[w()]}},{type:"slots",key:"dotnet_version",rules:{dotnet_version:[V({message:"请选择Net版本"})]}},{type:"slots",key:"other"}]),submit:U});return a(N),s(q),T({onConfirm:E,init:N}),(e,l)=>{const a=x,s=k,h=v,V=c,w=_,g=f,C=y,U=j,N=b;return t(),o(p($),{class:"p-[20px]","label-width":"100px"},{project_path:r(()=>[d(V,{label:"运行路径",prop:"project_path"},{default:r(()=>[d(h,{width:"32rem",disabled:p(z),modelValue:p(J).project_path,"onUpdate:modelValue":l[0]||(l[0]=e=>p(J).project_path=e),placeholder:"项目的运行路径"},n({_:2},[p(z)?void 0:{name:"append",fn:r(()=>[d(s,{onClick:p(A)},{default:r(()=>[d(a,{icon:"el-folder-opened",class:"cursor-pointer"})]),_:1},8,["onClick"])]),key:"0"}]),1032,["disabled","modelValue"])]),_:1})]),port:r(()=>[d(V,{label:"项目端口",prop:"port"},{default:r(()=>[i("div",G,[d(h,{width:"20rem",type:"number",class:"mr-[12px]",modelValue:p(J).port,"onUpdate:modelValue":l[1]||(l[1]=e=>p(J).port=e),placeholder:"项目真实端口"},null,8,["modelValue"]),p(z)?m("",!0):(t(),o(g,{key:0,modelValue:p(J).release_firewall,"onUpdate:modelValue":l[2]||(l[2]=e=>p(J).release_firewall=e)},{default:r(()=>[l[9]||(l[9]=u(" 放行端口 ",-1)),d(w,{class:"item",effect:"dark",content:"选中将在防火墙安全组放行监听端口，放行后该项目可在外网访问",placement:"right"},{default:r(()=>[...l[8]||(l[8]=[i("i",{class:"svgtofont-el-question-filled text-warning"},null,-1)])]),_:1})]),_:1},8,["modelValue"]))])]),_:1})]),dotnet_version:r(()=>[d(V,{label:"Net版本",prop:"dotnet_version"},{default:r(()=>[i("div",H,[i("div",I,[d(C,{modelValue:p(J).dotnet_version,"onUpdate:modelValue":l[3]||(l[3]=e=>p(J).dotnet_version=e),disabled:!p(B).length||p(z),options:p(B),class:"!w-[16rem]"},null,8,["modelValue","disabled","options"]),i("div",L,[d(s,{title:"刷新Net版本",class:"!flex",onClick:l[4]||(l[4]=e=>p(D)(!0))},{default:r(()=>[d(a,{icon:"el-refresh",class:"!text-base"})]),_:1})])]),d(U,{class:"ml-[8px]",onClick:p(F)},{default:r(()=>[...l[10]||(l[10]=[u("版本管理",-1)])]),_:1},8,["onClick"])])]),_:1})]),other:r(()=>[d(V,{label:"开机启动"},{default:r(()=>[d(g,{modelValue:p(J).is_power_on,"onUpdate:modelValue":l[5]||(l[5]=e=>p(J).is_power_on=e)},{default:r(()=>[...l[11]||(l[11]=[u(" 是否设置开机自动启动（默认自带守护进程每120秒检测一次） ",-1)])]),_:1},8,["modelValue"])]),_:1}),d(V,{label:"启动用户"},{default:r(()=>[i("div",O,[d(C,{modelValue:p(J).run_user,"onUpdate:modelValue":l[6]||(l[6]=e=>p(J).run_user=e),class:"mr-[8px] !w-[16rem]",options:[{label:"www",value:"www"},{label:"root",value:"root"}]},null,8,["modelValue"])])]),_:1}),d(V,{label:"项目备注"},{default:r(()=>[d(h,{width:"32rem",modelValue:p(J).project_ps,"onUpdate:modelValue":l[7]||(l[7]=e=>p(J).project_ps=e),placeholder:"输入项目备注，非必填"},null,8,["modelValue"])]),_:1}),p(z)?(t(),o(V,{key:0,label:" "},{default:r(()=>[d(N,{type:"primary",onClick:p(E)},{default:r(()=>[...l[12]||(l[12]=[u("保存配置",-1)])]),_:1},8,["onClick"])]),_:1})):m("",!0)]),_:1})}}});export{T as _};
