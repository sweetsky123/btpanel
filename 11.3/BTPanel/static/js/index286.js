import{n as a,H as e,b as t,_ as s}from"./utils-lib.js?v=1763689792";import{c as o,r,v as l,x as m,y as i,D as n,e as p,z as u,R as c,ba as d}from"./base-lib.js?v=1763689792";import{E as D}from"./ssl.js?v=1763689792";import{g as f}from"./useStore5.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";const _={class:"p-[2rem] flex items-center w-full"},v=s(o({__name:"index",props:{compData:{default:()=>{}}},setup(s,{expose:o}){const v=t(),{refs:{isRefreshDomainList:w}}=f(),b=s,Y=r(b.compData.row.endtime||""),j=a=>a.getTime()<Date.now();return o({onConfirm:async t=>{var s;if(!Y.value)return v.error("请选择到期时间"),!1;let o,r;try{o=v.load("正在设置到期时间,请稍后...");let l=[b.compData.row.id];(null==(s=b.compData)?void 0:s.rowList)&&b.compData.rowList.length&&(l=b.compData.rowList.map(a=>a.id));const m=await D({ids:JSON.stringify(l),endtime:Y.value});v.request(m),m.status&&(w.value=!0,Y.value="",t&&t()),r=b.compData.rowList.map(a=>({name:a.domain,status:!0})),a({isAsync:!0,title:"批量设置结果",area:42,component:()=>e(()=>import("./index125.js?v=1763689792"),__vite__mapDeps([]),import.meta.url),compData:{resultData:r,resultTitle:"设置结果"}})}catch(l){}finally{o&&o.close()}}}),l(()=>{0===b.compData.row.endtime&&(Y.value="")}),(a,e)=>{const t=d;return m(),i("div",_,[e[1]||(e[1]=n("到期时间：",-1)),p(t,{modelValue:u(Y),"onUpdate:modelValue":e[0]||(e[0]=a=>c(Y)?Y.value=a:null),class:"!w-[33rem]","disabled-date":j,type:"date",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD",placeholder:"选择日期"},null,8,["modelValue"])])}}}),[["__scopeId","data-v-9ab0bf69"]]);export{v as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
