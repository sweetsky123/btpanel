import{u as e,bR as a,C as t,H as s,_ as l}from"./utils-lib.js?v=1763689792";import{c as o,Y as n,Z as r,b as d,aH as i,av as u,r as c,t as v,g as m,w as f,a3 as h,v as p,a8 as b,aP as y,x as _,y as w,A as g,F as C,b1 as x,z as k,N as L,G as A,O as E,C as I,J as R,K as $,e as j,P as B,L as T,aQ as V,d as M,aA as O,B as P}from"./base-lib.js?v=1763689792";import{_ as S}from"./index116.js?v=1763689792";const H={class:"flex flex-col p-[1.2rem]"},W=["onClick"],z=l(o({__name:"index",props:n({options:{default:()=>[]},store:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},showContent:{type:Boolean,default:!0},contentClass:{default:"router-tabs-content"}},{modelValue:{},modelModifiers:{}}),emits:n(["cutTab","afterLeave"],["update:modelValue"]),setup(l,{emit:o}){const n=M(()=>s(()=>import("./index217.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)),z=l,D=o,F=r(l,"modelValue"),{mainWidth:G,forceLtd:J,aliyunEcsLtd:K,payment:N}=e(),Q=d(),U=i(),Y=u(z.options),Z=c(!0),q=c(!1),X=c("0px"),ee=c(0),ae=c(),te=c(),se="".concat(Q.path.split("/")[1],"_router").toUpperCase(),{authType:le}=v(N.value),oe=m(()=>"router-tabs-content"===z.contentClass);f(()=>Q.name,()=>{if(ie())de(Q.name),F.value=Q.name;else{const e=localStorage.getItem(se)||Y.value[0].name;U.push({name:e}),de(e),F.value=e}});const ne=e=>{const a=e.target.offsetLeft,t=e.target.offsetWidth;X.value="".concat(a+t-22,"px"),q.value=!0},re=h(ae,e=>{const a=e[0],{width:t}=a.contentRect;ee.value=t,Z.value=G.value-320>=ee.value}),de=e=>{localStorage.setItem(se,e)},ie=()=>{const e=Q.path.split("/");return e.length>2&&""!=e[2]},ue=(e,a=!0,t=!0)=>{F.value=e,a&&de(e),Q.name!==e&&t&&U.push({name:e})};return f(()=>t.value,e=>{var a;const t=e.find(e=>-1!==Q.path.indexOf(e.path));if((null==t?void 0:t.children)&&Array.isArray(t.children)&&Y.value.forEach(e=>{const a=t.children.find(a=>e.path===a.name);e.show=!a||a.show}),!(null==(a=Y.value.find(e=>e.name===Q.name))?void 0:a.show)){const e=Y.value.filter(e=>e.show);e&&e.length&&ue(e[0].name)}},{immediate:!0}),f(G,()=>{Z.value=G.value-320>=ee.value}),p(()=>{var e,t,s;const l=localStorage.getItem(se);if(Y.value.length||(Y.value=a(null==(e=Q.matched[1])?void 0:e.children,"array",[])),"/mail"===(null==(t=Q.matched[1])?void 0:t.path)&&Y.value.forEach(e=>{e.show=!0}),"/vhost"===(null==(s=Q.matched[1])?void 0:s.path)&&Y.value.forEach(e=>{e.show=!0}),z.store)return ie()?ue(Q.name):ue(l||Y.value[0].name)}),b(()=>{re.stop()}),(e,a)=>{const t=S,s=O,o=y("router-view");return _(),w("div",H,[g("div",{class:T(["header-tabs",{disabled:l.disabled}])},[g("div",{ref_key:"headerChildContentRef",ref:ae,class:"flex flex-wrap"},[(_(!0),w(C,null,x(k(Y),(e,t)=>{var s,l;return _(),w(C,{key:t},[e.show?(_(),w("div",{key:0,ref_for:!0,ref_key:"tabListRef",ref:te,class:T(["header-child-tab",{"active-tab":F.value===e.name,"!hidden":null==(s=null==e?void 0:e.meta)?void 0:s.ignore}]),onClick:a=>((e,a=!1)=>{z.disabled||(F.value!==e||a)&&(de(e),F.value=e,U.push({name:e}),D("cutTab",e))})(e.name),onMouseenter:ne,onMouseleave:a[0]||(a[0]=e=>q.value=!1)},P(null==(l=e.meta)?void 0:l.title),43,W)):A("",!0)],64)}),128))],512),e.$slots.right?L(e.$slots,"right",{key:0},void 0,!0):A("",!0),e.$slots.right?A("",!0):(_(),E(s,{key:1,width:"580",disabled:"free"!==k(le),"show-arrow":!1,"popper-style":"padding: 0;border-radius: var(--el-border-radius-round);overflow: hidden;","popper-class":"el-product-state-popover"},{reference:I(()=>[R(j(t,{"is-home":!0,"disable-pro":!0},null,512),[[$,k(Z)&&!k(K)]])]),default:I(()=>[(_(),E(B(k(n))))]),_:1},8,["disabled"]))],2),l.showContent?(_(),w("div",{key:0,class:T(["",{"module-ui":k(oe),"mt-[1.2rem]":k(oe)}])},[e.$slots.default?(_(),w("div",{key:0,class:T(l.contentClass)},[L(e.$slots,"default",{},void 0,!0)],2)):(_(),w("div",{key:1,class:T(l.contentClass)},[j(o,null,{default:I(({Component:e})=>[j(V,{name:"fade",mode:"out-in",onAfterLeave:a[1]||(a[1]=e=>D("afterLeave"))},{default:I(()=>[(_(),E(B(e)))]),_:2},1024)]),_:1})],2))],2)):A("",!0)])}}}),[["__scopeId","data-v-c2d1147c"]]);export{z as _};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
