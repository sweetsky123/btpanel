!function(){function e(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function t(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,r,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function i(t,o,u,a){var i=o&&o.prototype instanceof c?o:c,s=Object.create(i.prototype);return n(s,"_invoke",function(t,n,o){var u,a,i,c=0,s=o||[],f=!1,v={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(r,t){return u=r,a=0,i=e,v.n=t,l}};function p(t,n){for(a=t,i=n,r=0;!f&&c&&!o&&r<s.length;r++){var o,u=s[r],p=v.p,d=u[2];t>3?(o=d===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=e):u[0]<=p&&((o=t<2&&p<u[1])?(a=0,v.v=n,v.n=u[1]):p<d&&(o=t<3||u[0]>n||n>d)&&(u[4]=t,u[5]=n,v.n=d,a=0))}if(o||t>1)return l;throw f=!0,n}return function(o,s,d){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,d),a=s,i=d;(r=a<2?e:i)||!f;){u||(a?a<3?(a>1&&(v.n=-1),p(a,i)):v.n=i:v.v=i);try{if(c=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=e}else if((r=(f=v.n<0)?i:t.call(n,v))!==l)break}catch(r){u=e,a=1,i=r}finally{c=1}}return{value:r,done:f}}}(t,u,a),!0),s}var l={};function c(){}function s(){}function f(){}r=Object.getPrototypeOf;var v=[][u]?r(r([][u]())):(n(r={},u,function(){return this}),r),p=f.prototype=c.prototype=Object.create(v);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,n(e,a,"GeneratorFunction")),e.prototype=Object.create(p),e}return s.prototype=f,n(p,"constructor",f),n(f,"constructor",s),s.displayName="GeneratorFunction",n(f,a,"GeneratorFunction"),n(p),n(p,a,"Generator"),n(p,u,function(){return this}),n(p,"toString",function(){return"[object Generator]"}),(t=function(){return{w:i,m:d}})()}function n(e,r,t,o){var u=Object.defineProperty;try{u({},"",{})}catch(e){u=0}n=function(e,r,t,o){function a(r,t){n(e,r,function(e){return this._invoke(r,t,e)})}r?u?u(e,r,{value:t,enumerable:!o,configurable:!o,writable:!o}):e[r]=t:(a("next",0),a("throw",1),a("return",2))},n(e,r,t,o)}function o(e,r,t,n,o,u,a){try{var i=e[u](a),l=i.value}catch(e){return void t(e)}i.done?r(l):Promise.resolve(l).then(n,o)}function u(e){return function(){var r=this,t=arguments;return new Promise(function(n,u){var a=e.apply(r,t);function i(e){o(a,n,u,i,l,"next",e)}function l(e){o(a,n,u,i,l,"throw",e)}i(void 0)})}}System.register(["./base-lib-legacy.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./ssl-legacy.js?v=1763689792","./useStore-legacy11.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792"],function(r,n){"use strict";var o,a,i,l,c,s,f,v,p,d,y,m,b,h,g,w,_,j,x,S,O;return{setters:[function(e){o=e.c,a=e.s,i=e.r,l=e.x,c=e.y,s=e.e,f=e.C,v=e.A,p=e.L,d=e.z,y=e.S,m=e.R,b=e.aZ,h=e.U},function(e){g=e.b,w=e.p,_=e.Q,j=e._},function(e){x=e.T,S=e.U},function(e){O=e.u},null],execute:function(){var n={class:"p-[16px]"},T={class:"flex flex-1 justify-start mt-[16px]"},A={class:"flex-1 mr-[2rem]"},k={class:"flex-1"},I=o({__name:"index",emits:["close"],setup:function(r,o){var j=o.expose,I=o.emit,D=a(O()),P=D.activeTabs,R=D.sslIsRefresh,E=D.testIsRefresh,G=D.encryptIsRefresh,V=D.otherIsRefresh,F=I,U=i(""),C=i(""),z=i(!1),q=i(!1),M=function(e,r){if(r.preventDefault(),"key"===e?z.value=!1:q.value=!1,window.FileReader){var t,n=null===(t=r.dataTransfer)||void 0===t?void 0:t.files;if(n&&n.length>0){var o=n[0],u=new FileReader;u.onload=function(r){var t;null!==(t=r.target)&&void 0!==t&&t.result&&("key"===e?U.value=r.target.result:C.value=r.target.result)},u.onerror=function(){g().error("请上传证书文件")},u.readAsText(o)}else g().error("无效的证书文件拖拽上传")}else g().error("当前浏览器版本不支持文件拖拽上传，请升级浏览器版本")},H={ssl:function(){return R.value=!0},test:function(){return E.value=!0},encrypt:function(){return G.value=!0},other:function(){return V.value=!0}},K=function(){var e=u(t().m(function e(){var r,n;return t().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,x({key:U.value,csr:C.value});case 1:r=e.v,g().request(r),r.status&&(F("close"),r.creat_order&&w({title:"创建证书订单",content:"检测到证书文件为let's encrypt证书，是否立即同步证书？",onConfirm:function(){var e=u(t().m(function e(){return t().w(function(e){for(;;)switch(e.n){case 0:_({request:S({ssl_hash:r.ssl_hash}),loading:"正在同步证书",message:!0,success:function(){var e;null===(e=H[P.value])||void 0===e||e.call(H)}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}()}),null===(n=H[P.value])||void 0===n||n.call(H)),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}();return j({onConfirm:K}),function(r,t){var o=b,u=h;return l(),c("div",n,[s(o,{type:"success",closable:!1},{title:f(function(){return e(t[8]||(t[8]=[v("div",{class:"mr-[3.2rem] text-small pb-[5px]"},"温馨提示：支持拖拽证书文件上传，并自动识别。",-1)]))}),_:1}),v("div",T,[v("div",A,[t[9]||(t[9]=v("div",{class:"mb-[.4rem]"},"密钥(KEY)",-1)),v("div",{class:p(["drop-zone mb-[.2rem] p-[.2rem]",{over:d(z)}]),onDragover:t[1]||(t[1]=y(function(e){return z.value=!0},["prevent"])),onDragleave:t[2]||(t[2]=y(function(e){return z.value=!1},["prevent"])),onDrop:t[3]||(t[3]=function(e){return M("key",e)})},[s(u,{type:"textarea",rows:22,modelValue:d(U),"onUpdate:modelValue":t[0]||(t[0]=function(e){return m(U)?U.value=e:null})},null,8,["modelValue"])],34)]),v("div",k,[t[10]||(t[10]=v("div",{class:"mb-[.4rem]"},"证书(PEM格式)",-1)),v("div",{class:p(["drop-zone mb-[.2rem] p-[.2rem]",{over:d(q)}]),onDragover:t[5]||(t[5]=y(function(e){return q.value=!0},["prevent"])),onDragleave:t[6]||(t[6]=y(function(e){return q.value=!1},["prevent"])),onDrop:t[7]||(t[7]=function(e){return M("csr",e)})},[s(u,{type:"textarea",rows:22,modelValue:d(C),"onUpdate:modelValue":t[4]||(t[4]=function(e){return m(C)?C.value=e:null})},null,8,["modelValue"])],34)])])])}}});r("default",j(I,[["__scopeId","data-v-6a29ead6"]]))}}})}();
