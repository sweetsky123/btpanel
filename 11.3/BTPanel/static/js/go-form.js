import{c as e,s,aB as o,g as r,e as a,D as t,J as i,c6 as l,aA as p,H as m,v as u,x as n,y as c,z as d}from"./base-lib.js?v=1763689792";import{L as g,k as v}from"./utils-lib.js?v=1763689792";import{b as f,j,a as h,h as b}from"./form-item.js?v=1763689792";import{y as x,z as w,A as C,B as y,C as _,E as k}from"./index238.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index110.js?v=1763689792";import"./index109.js?v=1763689792";import"./column.js?v=1763689792";import"./useController4.js?v=1763689792";import"./validator.js?v=1763689792";import"./index107.js?v=1763689792";import"./useController5.js?v=1763689792";import"./site.js?v=1763689792";import"./useStore4.js?v=1763689792";import"./useController6.js?v=1763689792";import"./useMethod5.js?v=1763689792";const q={class:"p-[2rem] max-h-[60rem] overflow-auto"},z=e({__name:"go-form",setup(e,{expose:z}){const B=x(),{versionOptions:F,popoverFocus:A,isEdit:E}=s(B),H=o("popupClose",()=>{}),{BtForm:M,submit:U,param:V}=g({data:w,options:e=>r(()=>[f("名称","name",{attrs:{class:"!w-[320px]",placeholder:"请输入环境名称",disabled:E.value},rules:[{required:!0,message:"请输入环境名称",trigger:"blur"}]}),j("版本","version",F.value,{attrs:{class:"!w-[22rem]",disabled:E.value},rules:[{required:!0,message:"请选择Go版本",trigger:"change"}]}),h("运行目录","path",{attrs:{class:"!w-[320px]",placeholder:"请选择运行目录"},rules:[{required:!0,message:"请选择运行目录",trigger:["blur","change"]}],icon:"icon-file_mode",iconClick:()=>{C(e)}}),b("启动命令",()=>a(p,{ref:"gopopover",placement:"top-start","popper-class":"green-tips-popover !p-0",title:"",width:"440",visible:A.value,"onUpdate:visible":e=>A.value=e,"trigger-keys":[],trigger:"focus"},{default:()=>a("div",{class:"!p-[12px] bg-primary text-white"},[t("请填写完整启动命令，如：go run main.go")]),reference:()=>i(a(v,{modelValue:e.value.command,"onUpdate:modelValue":s=>e.value.command=s,type:"textarea",width:"52rem",rows:7,resize:"none",onFocus:()=>{A.value=!0},placeholder:"请填写完整启动命令，如：go run main.go"},null),[[l,"gopopover"]])}),"command",{attrs:{class:"!w-[52rem]"},rules:[{required:!0,message:"请填写完整启动命令，如：go run main.go",trigger:"change"}]}),...e.value.port&&e.value.port.length>0?[y(e.value.port),b(" ",()=>a(m,{type:"default",onClick:()=>{e.value.port.push({server:"",con:"",output:!1,protocol:["tcp"],id:1})}},{default:()=>[t("添加")]}))]:[b("端口",()=>a(m,{type:"default",onClick:()=>{e.value.port.push({server:"",con:"",output:!1,protocol:["tcp"],id:1e3*Math.random()})}},{default:()=>[t("添加")]}))]]),submit:async(e,s,o)=>{await s(),_(e.value,H)}});return u(()=>{k(V)}),z({onConfirm:U}),(e,s)=>(n(),c("div",q,[a(d(M))]))}});export{z as default};
