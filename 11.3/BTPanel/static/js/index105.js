import{y as s,I as a,v as e,J as t,p as r,K as i,b as l,u as o,L as n,N as c,_ as d}from"./utils-lib.js?v=1763689792";import{F as m,a as p,b as u}from"./form-item.js?v=1763689792";import{o as g,c as w,g as f,v as b,y as h,e as x,z as y,M as _,D as j,F as v,x as k}from"./base-lib.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index110.js?v=1763689792";const{load:q,request:C}=l(),F=g({password1:"",password2:""}),H=async()=>{let s=q("正在设置面板密码，请稍候...");try{const s=await a({password1:e(F.password1),password2:e(F.password2)});return C(s),s.status&&t("/login?dologin=True",1500),s.status}catch(r){}finally{s.close()}},z=()=>{F.password1=s(10)},I=async()=>{try{await r({icon:"warning-filled",title:"危险操作",isHtml:!0,content:'延用上次密码会降低面板的<span class="text-danger">安全性</span>，是否继续操作？'});const s=await i();C(s),window.location.href="/"}catch(s){}},L=d(w({__name:"index",setup(s){const{mainHeight:a}=o(),e=f(()=>[m(()=>x("div",{class:"text-center !mb-[22px] flex justify-center"},[x("h3",{class:"text-extraLarge font-bold text-default inline-block mr-2 mt-12px"},[j("当前面板密码已过期，请立即修改密码！")])])),p("新的密码","password1",{icon:"el-refresh",iconClick:z,attrs:{placeholder:"请输入新的密码",style:{width:"32rem"}},rules:[{required:!0,message:"请输入新的密码",trigger:["blur","change"]},{min:6,message:"密码长度必须大于5位",trigger:["blur","change"]}]}),u("确认密码","password2",{attrs:{placeholder:"重复输入密码，确认新的密码",style:{width:"32rem"}},rules:[{required:!0,message:"请再次输入密码",trigger:["blur","change"]},{validator:(s,a,e)=>{a!==F.password1?e(new Error("两次输入密码不一致")):e()},trigger:["blur","change"]}]}),m(()=>x(v,null,[x(c,{class:"w-[100%] mt-[1.2rem]",type:"primary",onClick:H},{default:()=>[j("修改密码")]}),x("div",{class:"flex justify-end mt-1rem"},[x("span",{class:"bt-link",onClick:I},[j("延用上一次密码")])])]))]),{BtForm:t}=n({data:()=>F,options:e,submit:async(s,a)=>(await a(),H())});return b(z),(s,e)=>(k(),h("div",{class:"flex flex-col items-center mt-[8%]",style:_({"min-height":y(a)-200+"px"})},[x(y(t),{size:"default",class:"bind-user-info w-[44rem] bind-form"})],4))}}),[["__scopeId","data-v-e12eab93"]]);export{L as default};
