System.register(["./validator-legacy.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./column-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792"],function(e,t){"use strict";var l,a,o,r,n,s,i,u,c,d,v,p,x,f,m;return{setters:[function(e){l=e.b},null,function(e){a=e.c,o=e.r,r=e.g,n=e.v,s=e.a8,i=e.x,u=e.y,c=e.A,d=e.B,v=e.L,p=e.D,x=e.F,f=e.b1,m=e.M},null,null,null,null],execute:function(){var t={class:"relative bg-[var(--el-bg-color)] rounded-medium overflow-hidden shadow-2xl transform transition-all duration-500 scale-100"},b={class:"py-[40px] px-[20px]"},g={class:"flex flex-col items-center mb-[24px]"},h={class:"flex items-end"},y={class:"text-[var(--bt-pro-color)] text-large50 font-bold -mb-[12px]"},w={class:"bg-light rounded-large p-[12px] mb-[20px]"},S={class:"flex justify-center space-x-[8px] items-center"},j=["disabled"],I="bt-coupon-countdown",M="bt-coupon-open-time";e("default",a({__name:"index",emits:["close"],setup:function(e,a){var k=a.emit,_=o(600),D=o(99),z=o(!1),C=o(!1),L=o([]),T=o("200～400"),A=k,B=null,F=function(){var e={totalSeconds:_.value,milliseconds:D.value,timestamp:Date.now()};localStorage.setItem(I,JSON.stringify(e))},H=function(){localStorage.removeItem(I),localStorage.removeItem(M)},J=function(){var e=localStorage.getItem(M),t=Date.now();if(e)try{var l=parseInt(e,10),a=l+6e5-t;return a>0?(_.value=Math.floor(a/1e3),void(D.value=Math.floor(a%1e3/10))):(H(),void A("close"))}catch(o){H()}_.value=600,D.value=99,localStorage.setItem(M,Date.now().toString())},N=r(function(){return Math.floor(_.value/60).toString().padStart(2,"0")}),O=r(function(){return(_.value%60).toString().padStart(2,"0")}),q=r(function(){return D.value.toString().padStart(2,"0")}),E=r(function(){return _.value<=0&&D.value<=0}),G=function(){E.value||(K(),H(),A("close"),l("绑定宝塔账号，享受更多服务","/?model=bind-cupon"))},K=function(){C.value=!0,L.value=[];for(var e=function(e){setTimeout(function(){var t={id:Date.now()+e,x:100*Math.random(),y:100*Math.random(),size:8*Math.random()+4,color:P()};L.value.push(t),setTimeout(function(){var e=L.value.findIndex(function(e){return e.id===t.id});e>-1&&L.value.splice(e,1)},1e3)},50*e)},t=0;t<50;t++)e(t);setTimeout(function(){C.value=!1,L.value=[]},3e3)},P=function(){var e=["var(--bt-pro-color)","var(--bt-pro-light-color)","var(--bt-pro-sub-color)","var(--bt-pro-light-bg-color)","var(--bt-pro-color)"];return e[Math.floor(Math.random()*e.length)]};return n(function(){J(),B=setInterval(function(){if(D.value-=1,D.value<0&&(D.value=99,_.value--),_.value<=0&&D.value<=0)return B&&(clearInterval(B),B=null),H(),void A("close");F()},10)}),s(function(){B&&clearInterval(B),F()}),function(e,l){return i(),u("div",null,[c("div",{ref:"couponModal",class:v(["w-full relative overflow-hidden rounded-medium",{"scale-95 opacity-0":z.value}])},[c("div",t,[c("div",b,[l[7]||(l[7]=c("div",{class:"flex items-center justify-center mb-[16px]"},[c("i",{class:"fa fa-ticket text-[var(--bt-pro-color)] text-subtitleLarge mr-[8px]"}),c("h2",{class:"text-[clamp(1.2rem,2.5vw,1.8rem)] font-bold text-default text-shadow"},"绑定账号领取限时优惠券")],-1)),c("div",g,[l[2]||(l[2]=c("p",{class:"text-gray-500 text-small mb-[4px]"},"领取随机金额优惠券",-1)),c("div",h,[l[0]||(l[0]=c("span",{class:"text-[var(--bt-pro-color)] text-subtitleLarge font-bold mr-[4px]"},"¥",-1)),c("span",y,d(T.value),1),l[1]||(l[1]=c("span",{class:"text-[var(--bt-pro-color)] text-medium font-bold ml-[4px] mb-[4px]"},"元",-1))]),l[3]||(l[3]=c("p",{class:"text-gray-500 text-small mt-[8px]"},"满1399元可用",-1))]),c("div",w,[l[6]||(l[6]=c("p",{class:"text-center text-gray-600 text-base mb-[8px]"},"优惠券将在以下时间后过期",-1)),c("div",S,[c("div",{class:v(["text-white rounded-large w-[56px] h-[40px] flex items-center justify-center font-bold text-medium",_.value<10?"bg-red-500":"bg-warning"])},[c("span",null,d(N.value),1)],2),l[4]||(l[4]=c("span",{class:"text-[var(--bt-pro-color)] font-bold"},":",-1)),c("div",{class:v(["text-white rounded-large w-[56px] h-[40px] flex items-center justify-center font-bold text-medium",_.value<10?"bg-red-500":"bg-warning"])},[c("span",null,d(O.value),1)],2),l[5]||(l[5]=c("span",{class:"text-[var(--bt-pro-color)] font-bold"},":",-1)),c("div",{class:v(["text-white rounded-large w-[56px] h-[40px] flex items-center justify-center font-bold text-medium",_.value<10?"bg-red-500":"bg-warning"])},[c("span",null,d(q.value),1)],2)])]),l[8]||(l[8]=c("div",{class:"mb-5"},[c("h3",{class:"text-gray-700 font-semibold text-base mb-[8px] flex items-center"},[c("i",{class:"fa fa-info-circle text-[var(--bt-pro-color)] mr-2"}),p(" 使用规则 ")]),c("ul",{class:"text-gray-600 text-small space-y-1 pl-[20px] list-disc"},[c("li",null,"用户绑定账号专属优惠"),c("li",null,"有效期10分钟")])],-1)),c("button",{disabled:E.value,class:v(["w-full py-[10px] rounded-large font-bold text-medium shadow-lg transform transition-all duration-300 flex items-center justify-center",E.value?"bg-gray-400 text-gray-600 opacity-50 cursor-not-allowed":"bg-gradient-to-r from-[var(--bt-pro-color)] to-[var(--bt-pro-light-color)] text-white hover:shadow-xl hover:-translate-y-1"]),onClick:G},[c("i",{class:v(E.value?"fa fa-clock-o mr-[8px]":"fa fa-gift mr-[8px]")},null,2),p(" "+d(E.value?"已过期":"立即领取优惠券"),1)],10,j)])]),l[9]||(l[9]=c("div",{class:"absolute -top-[20px] -right-[20px] w-[64px] h-[64px] bg-[var(--bt-pro-light-color)] rounded-full opacity-20 animate-pulse-slow"},null,-1)),l[10]||(l[10]=c("div",{class:"absolute -bottom-[24px] -left-[24px] w-[96px] h-[96px] bg-warning rounded-full opacity-10 animate-pulse-slow"},null,-1))],2),c("div",{ref:"fireworksContainer",class:v(["fixed inset-0 pointer-events-none",{hidden:!C.value}])},[(i(!0),u(x,null,f(L.value,function(e){return i(),u("div",{key:e.id,class:"absolute rounded-full",style:m({width:e.size+"px",height:e.size+"px",backgroundColor:e.color,left:e.x+"%",top:e.y+"%",animation:"firework 1s ease-out forwards"})},null,4)}),128))],2)])}}}))}}});
