!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,r,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.toStringTag||"@@toStringTag";function i(n,o,a,u){var i=o&&o.prototype instanceof c?o:c,f=Object.create(i.prototype);return t(f,"_invoke",function(n,t,o){var a,u,i,c=0,f=o||[],s=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return a=n,u=0,i=e,d.n=t,l}};function p(n,t){for(u=n,i=t,r=0;!s&&c&&!o&&r<f.length;r++){var o,a=f[r],p=d.p,m=a[2];n>3?(o=m===t)&&(i=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(u=0,d.v=t,d.n=a[1]):p<m&&(o=n<3||a[0]>t||t>m)&&(a[4]=n,a[5]=t,d.n=m,u=0))}if(o||n>1)return l;throw s=!0,t}return function(o,f,m){if(c>1)throw TypeError("Generator is already running");for(s&&1===f&&p(f,m),u=f,i=m;(r=u<2?e:i)||!s;){a||(u?u<3?(u>1&&(d.n=-1),p(u,i)):d.n=i:d.v=i);try{if(c=2,a){if(u||(o="next"),r=a[o]){if(!(r=r.call(a,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,u<2&&(u=0)}else 1===u&&(r=a.return)&&r.call(a),u<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=e}else if((r=(s=d.n<0)?i:n.call(t,d))!==l)break}catch(r){a=e,u=1,i=r}finally{c=1}}return{value:r,done:s}}}(n,a,u),!0),f}var l={};function c(){}function f(){}function s(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(t(r={},a,function(){return this}),r),p=s.prototype=c.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,t(e,u,"GeneratorFunction")),e.prototype=Object.create(p),e}return f.prototype=s,t(p,"constructor",s),t(s,"constructor",f),f.displayName="GeneratorFunction",t(s,u,"GeneratorFunction"),t(p),t(p,u,"Generator"),t(p,a,function(){return this}),t(p,"toString",function(){return"[object Generator]"}),(n=function(){return{w:i,m:m}})()}function t(e,n,r,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}t=function(e,n,r,o){function u(n,r){t(e,n,function(e){return this._invoke(n,r,e)})}n?a?a(e,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[n]=r:(u("next",0),u("throw",1),u("return",2))},t(e,n,r,o)}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach(function(n){a(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function a(n,t,r){return(t=function(n){var t=function(n,t){if("object"!=e(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,t||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==e(t)?t:t+""}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function u(e,n,t,r,o,a,u){try{var i=e[a](u),l=i.value}catch(e){return void t(e)}i.done?n(l):Promise.resolve(l).then(r,o)}function i(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function i(e){u(a,r,o,i,l,"next",e)}function l(e){u(a,r,o,i,l,"throw",e)}i(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./ssl-legacy.js?v=1763689792"],function(e,t){"use strict";var r,a,u,l,c,f,s,d,p,m,v,b,y,h,g,_,w,O,j,S,P,k,V,D,x,C,E,G;return{setters:[function(e){r=e.j,a=e.b,u=e._},function(e){l=e.c,c=e.r,f=e.aB,s=e.W,d=e.g,p=e.w,m=e.x,v=e.O,b=e.C,y=e.A,h=e.e,g=e.z,_=e.y,w=e.b1,O=e.F,j=e.G,S=e.S,P=e.R,k=e.an,V=e.ad,D=e.U,x=e.ab,C=e.am},function(e){E=e.C,G=e.D}],execute:function(){var t={class:"py-[16px]"},N=l({__name:"index",props:{title:{type:String,default:"添加NDS验证"}},setup:function(e){var u=a(),l=c({dns_name:"",ps:""}),N=c(null),T=f("isShowForm",s(!1)),U=f("formParams",s([])),F=f("isRefreshDNSList",s(!1)),R=f("formRow",s({})),q=c([]),z=d(function(){return!!R.value.id}),L=function(e){var n;q.value=(null===(n=U.value.find(function(n){return n.id.toLowerCase()===e.toLowerCase()}))||void 0===n?void 0:n.params)||[],A()},J=c({dns_name:[{required:!0,message:"请选择验证类型",trigger:"change"}]}),A=function(){q.value.forEach(function(e){J.value[e]=[{required:!0,message:"请输入".concat(e),trigger:"blur"}]})},B=function(){l.value={dns_name:"",ps:""},R.value={dns_name:"DNSPodDns"}},I=function(){var e=i(n().m(function e(){var t,r,a,i,c,f;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=N.value,e.n=1,t.validate().catch(function(){return!1});case 1:if(e.v){e.n=2;break}return e.a(2,!1);case 2:if(e.p=2,r=o({},l.value),!l.value.id){e.n=4;break}return e.n=3,E({dns_id:r.id,ps:r.ps||"",pdata:JSON.stringify(r)});case 3:i=e.v,a=i,e.n=6;break;case 4:return e.n=5,G({dns_name:r.dns_name,ps:r.ps||"",pdata:JSON.stringify(r)});case 5:c=e.v,a=c;case 6:u.request(a),T.value=!1,F.value=!0,B(),e.n=8;break;case 7:return e.p=7,f=e.v,u.error(f),e.a(2,!1);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=i(n().m(function e(){return n().w(function(e){for(;;)switch(e.n){case 0:B();case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return p(U,function(e){e.length&&(l.value.dns_name=e[0].id,L(e[0].id))}),p(R,function(e){l.value=o({},e),e.dns_name&&L(e.dns_name)},{immediate:!0}),p(T,function(e){e&&(R.value.dns_name?(l.value=o({},R.value),L(R.value.dns_name)):(l.value={dns_name:"",ps:""},U.value.length>0&&(l.value.dns_name=U.value[0].id,L(U.value[0].id))))}),function(n,o){var a=C,u=k,i=V,c=D,f=x,s=r;return m(),v(s,{title:e.title,modelValue:g(T),"onUpdate:modelValue":o[3]||(o[3]=function(e){return P(T)?T.value=e:null}),area:["50rem"],"show-footer":"",onCancel:W,onConfirm:I},{default:b(function(){return[y("div",t,[h(f,{ref_key:"dnsformRef",ref:N,size:"small",model:g(l),rules:g(J),class:"relative w-full","label-position":"right",onSubmit:o[2]||(o[2]=S(function(){},["prevent"]))},{default:b(function(){return[h(i,{label:"验证类型",prop:"dns_name","label-width":"100"},{default:b(function(){return[h(u,{modelValue:g(l).dns_name,"onUpdate:modelValue":o[0]||(o[0]=function(e){return g(l).dns_name=e}),class:"!w-[33rem]",size:"default",filterable:"","default-first-option":"",placeholder:"请选择验证类型",disabled:g(z),onChange:L},{default:b(function(){return[(m(!0),_(O,null,w(g(U),function(e){return m(),v(a,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])}),128))]}),_:1},8,["modelValue","disabled"])]}),_:1}),g(q).length?(m(!0),_(O,{key:0},w(g(q),function(e,n){return m(),v(i,{key:n,label:e,prop:e,"label-width":"100"},{default:b(function(){return[h(c,{modelValue:g(l)[e],"onUpdate:modelValue":function(n){return g(l)[e]=n},class:"!w-[33rem]",placeholder:"请输入".concat(e)},null,8,["modelValue","onUpdate:modelValue","placeholder"])]}),_:2},1032,["label","prop"])}),128)):j("",!0),h(i,{prop:"ps",label:"备注","label-width":"100"},{default:b(function(){return[h(c,{modelValue:g(l).ps,"onUpdate:modelValue":o[1]||(o[1]=function(e){return g(l).ps=e}),placeholder:"请输入备注",clearable:"",class:"remark-input !w-[33rem]"},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model","rules"])])]}),_:1},8,["title","modelValue"])}}});e("a",u(N,[["__scopeId","data-v-98ba7463"]]))}}})}();
