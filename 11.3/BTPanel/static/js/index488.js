import{n as e,H as s,Q as a,k as r}from"./utils-lib.js?v=1763689792";import{c as o,aB as i,o as t,r as l,v as d,x as n,y as m,e as p,C as u,z as f,A as c,ad as w,ab as _}from"./base-lib.js?v=1763689792";import{_ as b}from"./index260.js?v=1763689792";import{bf as j}from"./firewall.js?v=1763689792";import{f as v}from"./validator.js?v=1763689792";import{g as x}from"./useStore6.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const h={class:"ml-[10rem]"},g=o({__name:"index",setup(o,{expose:g}){const{refs:{isRefreshSpywares:y}}=x(),D=i("popupClose"),R=t({dirs:""}),V=l(),z=l(!1),C={dirs:[{validator:(e,s,a)=>{if(!(s.length>0))return a(new Error("请输入目录"));a()},trigger:["blur","change"]}]},E=[{content:"添加指定目录",event:()=>{v({type:"dir",change(e){""!=R.dirs?R.dirs=R.dirs+"\n"+e:R.dirs=e}})}},{content:"添加网站目录",event:()=>e({title:"添加网站目录",area:50,component:()=>s(()=>import("./add-website-dir.js?v=1763689792"),__vite__mapDeps([]),import.meta.url),compData:R,showFooter:!0})}];return d(()=>{}),g({onConfirm:async e=>{await V.value.validate(),a({request:j({data:JSON.stringify({dirs:R.dirs.split("\n")})}),loading:z,success:()=>{D(),y.value=!0}})}}),(e,s)=>{const a=r,o=w,i=b,t=_;return n(),m("div",null,[p(t,{disabled:f(z),ref_key:"addDir",ref:V,rules:C,model:f(R),class:"p-[2rem] addDirFrom overflow-auto max-h-[60rem]","label-width":"5rem"},{default:u(()=>[p(o,{label:"目录",prop:"dirs"},{default:u(()=>[p(a,{type:"textarea",modelValue:f(R).dirs,"onUpdate:modelValue":s[0]||(s[0]=e=>f(R).dirs=e),width:"30rem",class:"resize-none",autosize:{minRows:5,maxRows:5},placeholder:"如需填写多个目录请换行填写\n例：/www/aaa /www/bbb",clearable:""},null,8,["modelValue"])]),_:1}),p(o,null,{default:u(()=>[c("div",h,[p(i,{options:E})])]),_:1})]),_:1},8,["disabled","model"])])}}});export{g as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
