!function(){function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}var n=["type"];function e(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),e.push.apply(e,r)}return e}function r(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach(function(n){o(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o(n,e,r){return(e=function(n){var e=function(n,e){if("object"!=t(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,e||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==t(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function i(t,n){if(null==t)return{};var e,r,o=function(t,n){if(null==t)return{};var e={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==n.indexOf(r))continue;e[r]=t[r]}return e}(t,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)e=i[r],-1===n.indexOf(e)&&{}.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function u(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return a(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=Array(n);e<n;e++)r[e]=t[e];return r}function c(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,n,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,r,o,i){var c=r&&r.prototype instanceof a?r:a,s=Object.create(c.prototype);return l(s,"_invoke",function(e,r,o){var i,a,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(n,e){return i=n,a=0,c=t,p.n=e,u}};function d(e,r){for(a=e,c=r,n=0;!f&&l&&!o&&n<s.length;n++){var o,i=s[n],d=p.p,y=i[2];e>3?(o=y===r)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=d&&((o=e<2&&d<i[1])?(a=0,p.v=r,p.n=i[1]):d<y&&(o=e<3||i[0]>r||r>y)&&(i[4]=e,i[5]=r,p.n=y,a=0))}if(o||e>1)return u;throw f=!0,r}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,y),a=s,c=y;(n=a<2?t:c)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,c)):p.n=c:p.v=c);try{if(l=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((n=(f=p.n<0)?c:e.call(r,p))!==u)break}catch(n){i=t,a=1,c=n}finally{l=1}}return{value:n,done:f}}}(e,o,i),!0),s}var u={};function a(){}function s(){}function f(){}n=Object.getPrototypeOf;var p=[][r]?n(n([][r]())):(l(n={},r,function(){return this}),n),d=f.prototype=a.prototype=Object.create(p);function y(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,l(t,o,"GeneratorFunction")),t.prototype=Object.create(d),t}return s.prototype=f,l(d,"constructor",f),l(f,"constructor",s),s.displayName="GeneratorFunction",l(f,o,"GeneratorFunction"),l(d),l(d,o,"Generator"),l(d,r,function(){return this}),l(d,"toString",function(){return"[object Generator]"}),(c=function(){return{w:i,m:y}})()}function l(t,n,e,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}l=function(t,n,e,r){function i(n,e){l(t,n,function(t){return this._invoke(n,e,t)})}n?o?o(t,n,{value:e,enumerable:!r,configurable:!r,writable:!r}):t[n]=e:(i("next",0),i("throw",1),i("return",2))},l(t,n,e,r)}function s(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var n=this,e=arguments;return new Promise(function(r,o){var i=t.apply(n,e);function u(t){s(i,r,o,u,a,"next",t)}function a(t){s(i,r,o,u,a,"throw",t)}u(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./index-legacy109.js?v=1763689792","./index-legacy124.js?v=1763689792","./index.vue_vue_type_script_setup_true_lang-legacy6.js?v=1763689792","./site-legacy.js?v=1763689792","./index-legacy138.js?v=1763689792","./index-legacy147.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./index.vue_vue_type_style_index_0_scoped_cdc7f4d3_lang-legacy.js?v=1763689792","./column-legacy.js?v=1763689792","./useController-legacy6.js?v=1763689792","./useStore-legacy4.js?v=1763689792","./useController-legacy5.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy137.js?v=1763689792","./index-legacy110.js?v=1763689792","./index-legacy131.js?v=1763689792","./index-legacy107.js?v=1763689792","./useMethod-legacy5.js?v=1763689792"],function(t,e){"use strict";var o,a,l,s,p,d,y,v,m,b,g,h,j,_,x,w,k,C,O,S,P,T,B,E,A,I,H,R,W,D,L,N,G,F,q,M,V,U,z,K,Q,$,J,X,Y,Z,tt,nt,et,rt,ot,it,ut,at,ct,lt,st,ft,pt,dt,yt,vt,mt,bt,gt,ht,jt,_t;return{setters:[function(t){o=t.u,a=t.b3,l=t.an,s=t.q,p=t.ao,d=t.cN,y=t.cM,v=t.H,m=t.ap,b=t.j},function(t){g=t._},function(t){h=t._},function(t){j=t._},function(t){_=t.delSorted,x=t.addSiteTypes,w=t.modifySiteTypes,k=t.removeSiteType},function(t){C=t.B},function(t){O=t.u},function(t){S=t.c,P=t.t,T=t.s,B=t.w,E=t.e,A=t.D,I=t.H,H=t.v,R=t.n,W=t.x,D=t.y,L=t.z,N=t.C,G=t.A,F=t.L,q=t.R},null,null,function(t){M=t.a,V=t.b,U=t.d,z=t.k,K=t.l,Q=t.g,$=t.u},function(t){J=t.b,X=t.c,Y=t.d,Z=t.e,tt=t.f,nt=t.g},function(t){et=t.S},function(t){rt=t.S,ot=t.a,it=t.p,ut=t.b,at=t.c,ct=t.d,lt=t.t,st=t.e,ft=t.f,pt=t.g,dt=t.r,yt=t.h,vt=t.i,mt=t.j,bt=t.k,gt=t.l,ht=t.m,jt=t.n,_t=t.q},null,null,null,null,null,null],execute:function(){var xt={class:"p-[20px] pb-[24px]"};t("default",S({__name:"index",setup:function(t){var S=o(),wt=S.payment,kt=(S.mainHeight,S.plugin,S.enterpriseRec);P(wt.value);var Ct=T(et()),Ot=Ct.activeType,St=Ct.isRefreshList,Pt=Ct.searchWidth,Tt=et().getClassList,Bt=T(rt()),Et=Bt.pluginInfo,At=Bt.scanData,It=rt().getPhpList;B(tt,function(t){null!=t&&t.pluginInfo&&(Et.value=t.pluginInfo)},{immediate:!0,deep:!0});var Ht,Rt,Wt,Dt=O({key:"type",name:"PHP分类",options:function(){return[{label:"全部分类",value:"all"}]},event:{get:(Ht=f(c().m(function t(){var n,e;return c().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Tt();case 1:return n=t.v,e=n.data,gt.value=e,t.a(2,e)}},t)})),function(){return Ht.apply(this,arguments)}),add:function(t){return x(t,Ot.value)},update:function(t){return w(t,Ot.value)},delete:function(t){return k(t,Ot.value)}},ignore:["0","-2"],field:"name"}),Lt=m(_t),Nt=a({options:[{type:"button",label:"添加站点",active:!0,onClick:ot},{type:"dropdown",label:"高级设置",onClick:it,options:[{label:"修改默认页面",onClick:it},{label:"默认站点",onClick:function(){return it("defaultSite")}},{label:"PHP命令行版本",onClick:function(){return it("phpCommandLine")}},{label:"HTTPS防窜站",onClick:function(){return it("httpsOfficersSite")}},{label:"TLS设置",onClick:function(){return it("tlsSetting")}},{label:"全局设置",onClick:function(){return it("globalSetting")}},{label:"关联数据库",onClick:function(){return it("associatedDatabase")}}]}].concat(u(kt.value?[{type:"custom",render:function(){return E(I,{onClick:function(){return J("all")}},{default:function(){return[A("网站统计总览")]}})}},{type:"custom",render:function(){return E(I,{onClick:ut},{default:function(){var t,n;return[A("漏洞扫描"),E("span",{class:"ml-4px py-1px px-4px text-center font-bold ".concat((null===(t=At.value)||void 0===t?void 0:t.loophole_num)>0?"text-danger":"text-warning")},[null===(n=At.value)||void 0===n?void 0:n.loophole_num])]}})}},{type:"custom",render:function(){return E(I,{onClick:at},{default:function(){var t,n;return[A("网站安全"),E("span",{class:"ml-4px py-1px px-4px text-center font-bold ".concat((null===(t=At.value)||void 0===t?void 0:t.web_scaning_times)>0?"text-danger":"text-warning")},[null===(n=At.value)||void 0===n?void 0:n.web_scaning_times])]}})}}]:[]),[{type:"custom",render:function(){return E(C,{class:"ml-1rem",isRequest:!1,pluginInfo:Et.value},null)}}])}).BtOperation,Gt=l({request:(Wt=f(c().m(function t(e){var o,u,a,l;return c().w(function(t){for(;;)switch(t.n){case 0:return o=e.type,u=i(e,n),t.n=1,It(r(r({type:s(o)||"all"===o?"-1":o},u),{},{table:"sites",order:Xt.order||""}));case 1:return a=t.v,l=ct("/site/php_column"),a.data.forEach(function(t){t.isWaf=null==l||!l.length||l[1].isCustom}),lt.value=a.data,t.a(2,a)}},t)})),function(t){return Wt.apply(this,arguments)}),sort:(Rt=f(c().m(function t(n){var e,r,o,i;return c().w(function(t){for(;;)switch(t.n){case 0:if(n.column,e=n.prop,r=n.order,o=e,r){t.n=2;break}return o="",t.n=1,_();case 1:Xt.order="",t.n=3;break;case 2:i={orderName:o,orderStatus:"ascending"===r?"asc":"desc"},Xt.order="".concat(i.orderName," ").concat(i.orderStatus);case 3:$t();case 4:return t.a(2)}},t)})),function(t){return Rt.apply(this,arguments)}),columns:[M({type:"page",key:"id"}),{subtitle:"WAF图标",isCustom:!0,isLtd:!0,isHide:!0,showClick:function(t){Xt.data.forEach(function(n){n.isWaf=t})}},X({label:"网站名",type:Ot.value,openPlugin:st,onClick:ft}),V({width:80,sortable:"custom",event:ht,data:["已停止","运行中"]}),{label:"备份",width:65,isCustom:!0,render:function(t){return E("span",{onClick:function(){return pt(t)},class:"".concat(t.backup_count?"text-primary":"text-warning"," cursor-pointer")},[t.backup_count?"有(".concat(t.backup_count,")"):"无备份"])}},U({prop:"path",labelClassName:"php-table-path",minWidth:140})].concat(u(kt.value?[r(r({},z({event:function(t){return ft(r(r({},t),{},{tabName:"flowQuota"}),"directory")}})),{},{isCustom:!1}),K({storageKey:"/site/php_day_metric",onClick:J})]:[]),[Y(),Q({table:"sites",minWidth:110,width:"auto"}),{label:"PHP",isCustom:!0,minWidth:80,width:80,render:function(t){var n=!t.php_version_status;return E("span",{class:"cursor-pointer "+(n&&"静态"!==t.php_version?"bt-warn":"bt-link"),onClick:function(){return ft(t,"php")}},[n&&"静态"!==t.php_version?t.php_version+"[未安装]":"其它"==t.php_version?"自定义":t.php_version])}},Z({onClick:function(t){ft(t,"ssl")}}),$([{onClick:function(t){st(t,"monitor-setting")},title:"统计"},{onClick:function(t){st(t,"bt_waf")},title:"WAF"},{title:"设置",onClick:function(t){return ft(t)}},{title:"删除",onClick:function(t){return jt(t)}}])]),extension:[Dt,Lt,p(St),d("search",{name:"sites",key:"php",list:dt.value}),y()],empty:function(){return E("span",null,[A("您的列表为空，您可以"),E("span",{class:"bt-link",onClick:ot},[A("添加一个项目")])])}}),Ft=Gt.BtTable,qt=Gt.BtPage,Mt=Gt.BtRefresh,Vt=Gt.BtTableCategory,Ut=Gt.BtRecommendSearch,zt=Gt.BtColumn,Kt=Gt.BtBatch,Qt=Gt.BtErrorMask,$t=Gt.refresh,Jt=Gt.categoryRef,Xt=Gt.config;return H(function(){R(function(){yt.value=Jt(),v(function(){return e.import("./index-legacy383.js?v=1763689792")},void 0,e.meta.url),v(function(){return e.import("./index-legacy248.js?v=1763689792")},void 0,e.meta.url),kt.value&&vt()})}),function(t,n){var e=h,r=b,o=g;return W(),D("div",null,[E(j,{ref_key:"envRef",ref:tt,onInit:L($t)},null,8,["onInit"]),E(L(Qt)),E(o,null,{"header-left":N(function(){return[E(L(Nt)),G("div",{class:"flex items-center ml-1rem",onClick:n[0]||(n[0]=function(){return L(nt)&&L(nt).apply(void 0,arguments)})},u(n[2]||(n[2]=[G("i",{class:"svgtofont-desired text-medium"},null,-1),G("span",{class:"bt-link"},"需求反馈",-1)])))]}),"header-right":N(function(){return[E(L(Vt),{class:"!w-[140px] mr-[10px]"}),E(L(Ut),{type:"php",placeholder:"请输入域名或备注",class:F(["mr-[10px]","!w-[".concat(L(Pt),"px]")])},null,8,["class"]),E(L(Mt),{class:"mr-[10px]"}),E(L(zt))]}),content:N(function(){return[E(L(Ft))]}),"footer-left":N(function(){return[E(L(Kt))]}),"footer-right":N(function(){return[E(L(qt))]}),popup:N(function(){return[E(r,{title:"插件预览",modelValue:L(mt),"onUpdate:modelValue":n[1]||(n[1]=function(t){return q(mt)?mt.value=t:null}),area:66},{default:N(function(){return[G("div",xt,[E(e,{data:L(bt)},null,8,["data"])])]}),_:1},8,["modelValue"])]}),_:1})])}}}))}}})}();
