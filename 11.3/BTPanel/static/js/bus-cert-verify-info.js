import{c as e,g as l,e as a,J as s,K as t,D as o,H as n,v as r,x as d,y as u,C as m,z as i,A as p,F as c,b1 as f,O as v,B as b,R as y,L as x,G as _,am as V,an as h,ad as g,ak as w,aT as C,aj as j,ax as k,az as A,U,ab as S}from"./base-lib.js?v=1763689792";import{L as H,bE as D,k as N,ag as I,M,e as E,j as R,$ as T,_ as z}from"./utils-lib.js?v=1763689792";import{n as L}from"./form-item.js?v=1763689792";import{_ as B}from"./input-popover.vue_vue_type_script_setup_true_lang.js?v=1763689792";import{n as F,p as P,q as G,ak as J,D as K,E as O,v as q,x as Q,y as W,F as X,G as Y,H as Z,I as $,J as ee,Y as le,Z as ae,w as se,X as te,z as oe,K as ne,A as re,B as de,L as ue,M as me,N as ie,O as pe,P as ce,Q as fe,R as ve,S as be,T as ye,U as xe,V as _e,W as Ve}from"./useController15.js?v=1763689792";import{u as he}from"./useStore12.js?v=1763689792";import{d as ge}from"./useMethod6.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index110.js?v=1763689792";import"./site.js?v=1763689792";import"./index109.js?v=1763689792";import"./column.js?v=1763689792";import"./useStore4.js?v=1763689792";import"./useController6.js?v=1763689792";import"./validator.js?v=1763689792";import"./index107.js?v=1763689792";import"./useController5.js?v=1763689792";import"./useMethod5.js?v=1763689792";import"./useController4.js?v=1763689792";import"./ssl.js?v=1763689792";import"./useStore5.js?v=1763689792";const we={class:"px-3rem py-1.2rem"},Ce={key:0,class:"flex items-flex-start"},je={class:"flex flex-col max-h-[16rem] overflow-y-auto"},ke={class:"flex items-center gap-[8px]"},Ae={class:"dns-option-content"},Ue={class:"dns-name font-500"},Se={class:"dns-domains text-tertiary text-small my-2"},He={class:"flex items-center"},De={key:1,class:"flex"},Ne={class:"flex items-center gap-[8px]"},Ie={class:"dns-option-content"},Me={class:"dns-name font-500"},Ee={class:"dns-domains text-tertiary text-small my-2"},Re={class:"flex items-center"},Te={class:"mr-[2px]"},ze=["onClick"],Le={key:0,class:"!caret-medium inline-flex items-center"},Be={class:"flex justify-between"},Fe={class:"flex flex-col p-[20px] error"},Pe={class:"p-[20px]"},Ge={class:"mb-[8px] border-light"},Je={class:"p-[20px]"},Ke=z(e({__name:"bus-cert-verify-info",props:{compData:{}},emits:["close"],setup(e,{emit:z}){const{orderInfo:Ke,sslDnsApiInfo:Oe}=he(),qe=z,Qe=e,{BtForm:We,param:Xe,submit:Ye}=H({data:F.value,options:e=>l(()=>[{type:"custom",render:()=>a(D,{label:"证书信息"},{default:()=>[a("span",{class:"text-primary"},[a("span",null,[Ke.value.title]),s(a("span",null,[o("，包含"),Ke.value.limit,o("个域名")]),[[t,Ke.value.limit>1]])])]})},{type:"slots",key:"sslVerifyType"},{type:"slots",key:"domains"},L(P,"证书用户信息"),...P.value?[{type:"custom",render:()=>a(D,{label:"所在地区"},{default:()=>[a("div",{class:"flex flex-row"},[a(B,{"custom-class":"mr-[16px] !w-[20rem]",modelValue:e.value.Administrator.state,"onUpdate:modelValue":l=>e.value.Administrator.state=l,"placeholder-tips":"请输入所在省份，必填项"},null),a(B,{"custom-class":"!w-[20rem]",modelValue:e.value.Administrator.city,"onUpdate:modelValue":l=>e.value.Administrator.city=l,"placeholder-tips":"请输入所在市/县，必填项"},null)])]})},..."dv"!==Ke.value.type?[{type:"custom",render:()=>a(D,{label:"公司详细地址"},{default:()=>[a(B,{"custom-class":"!w-[42rem]",modelValue:e.value.Administrator.address,"onUpdate:modelValue":l=>e.value.Administrator.address=l,"placeholder-tips":"请输入公司详细地址，具体要求见说明，必填项"},null)]})}]:[],{type:"custom",render:()=>a(D,{label:"公司名称"},{default:()=>[a(B,{"custom-class":"!w-[42rem]",modelValue:e.value.Administrator.organation,"onUpdate:modelValue":l=>e.value.Administrator.organation=l,"placeholder-tips":"请输入公司名称，如为个人申请请输入个人姓名，必填项"},null)]})},{type:"custom",render:()=>a(D,{label:"姓名"},{default:()=>[a(B,{"custom-class":"!w-[42rem]",modelValue:e.value.Administrator.name,"onUpdate:modelValue":l=>e.value.Administrator.name=l,"placeholder-tips":"请输入姓名，必填项"},null)]})},{type:"custom",render:()=>a(D,{label:"邮箱"},{default:()=>[a(B,{"custom-class":"!w-[42rem]",modelValue:e.value.Administrator.email,"onUpdate:modelValue":l=>e.value.Administrator.email=l,"placeholder-tips":"请输入邮箱地址，必填项"},null)]})},{type:"custom",render:()=>a(D,{label:"手机"},{default:()=>[a(B,{"custom-class":"!w-[42rem]",modelValue:e.value.Administrator.mobile,"onUpdate:modelValue":l=>e.value.Administrator.mobile=l,"placeholder-tips":"请输入手机号码，若为空，则使用当前绑定手机号"},null)]})}]:[],{type:"custom",render:()=>a(D,{label:" "},{default:()=>[a(n,{type:"primary",onClick:()=>Ye()},{default:()=>[o("提交资料")]})]})},{type:"help",options:G.value}]),submit:async(e,l)=>{try{await l()}catch(a){return!1}return await J(e,Qe.compData.orderInfo.cert_ssl_type)}}),Ze=()=>{qe("close"),ge()};return r(()=>{K(),O()}),(e,l)=>{const r=V,H=E,z=h,L=g,B=w,F=C,P=j,G=k,J=A,K=R,O=U,he=T,ge=S;return d(),u("div",we,[a(i(We),{"label-width":"80px"},{domains:m(()=>[i(q)?(d(),u("div",Ce,[l[14]||(l[14]=p("span",{class:"el-form-item__label",style:{width:"80px"}},"域名",-1)),p("div",je,[(d(!0),u(c,null,f(i(Q),(e,n)=>(d(),v(L,{key:e.key,prop:"_domain_".concat(n),rules:[{validator:(l,a,s)=>{e.value&&String(e.value).trim()?s():s(new Error("域名不能为空"))},trigger:["blur","change"]}]},{default:m(()=>[p("div",ke,[a(i(N),{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,disabled:!i(q),width:"CNAME_CSR_HASH"===i(W)?"29rem":"44rem",class:"disabled-input",placeholder:i(X)},null,8,["modelValue","onUpdate:modelValue","disabled","width","placeholder"]),s(a(z,{modelValue:e.interface,"onUpdate:modelValue":l=>e.interface=l,placeholder:"选择DNS接口",class:"domain-select !w-[14rem]",placement:"bottom"},{default:m(()=>[(d(!0),u(c,null,f(i(Y),e=>(d(),v(r,{key:e.value,label:e.label,value:e.value,class:"dns-option flex flex-col justify-center !h-[5rem] !leading-auto !line-height-normal"},{default:m(()=>[p("div",Ae,[p("div",Ue,b(e.label),1),p("div",Se,b(e.domains.length?e.domains.join(","):"manual"===e.value?"手动解析":"未添加域名"),1)])]),_:2},1032,["label","value"]))),128)),a(r,{label:"更多类型",value:"none",disabled:""},{default:m(()=>[p("p",He,[l[13]||(l[13]=p("span",null,"更多类型，请添加DNS接口",-1)),a(H,{class:"ml-2 underline",onClick:Ze},{default:m(()=>[...l[12]||(l[12]=[o("点击添加",-1)])]),_:1})])]),_:1})]),_:1},8,["modelValue","onUpdate:modelValue"]),[[t,"CNAME_CSR_HASH"===i(W)]])])]),_:2},1032,["prop","rules"]))),128))])])):(d(),u("div",De,[a(L,{label:"域名",prop:"domains"},{default:m(()=>[p("div",Ne,[a(i(N),{modelValue:i(Xe).domains,"onUpdate:modelValue":l[0]||(l[0]=e=>i(Xe).domains=e),disabled:!i(q),width:"CNAME_CSR_HASH"===i(W)?"29rem":"44rem",class:"disabled-input",placeholder:i(X)},null,8,["modelValue","disabled","width","placeholder"]),s(a(z,{modelValue:i(Xe).interface,"onUpdate:modelValue":l[1]||(l[1]=e=>i(Xe).interface=e),placeholder:"选择DNS接口",class:"domain-select !w-[14rem]",placement:"bottom"},{default:m(()=>[(d(!0),u(c,null,f(i(Y),e=>(d(),v(r,{key:e.value,label:e.label,value:e.value,class:"dns-option flex flex-col justify-center !h-[5rem] !leading-auto !line-height-normal"},{default:m(()=>[p("div",Ie,[p("div",Me,b(e.label),1),p("div",Ee,b(e.domains.length?e.domains.join(","):"manual"===e.value?"手动解析":"未添加域名"),1)])]),_:2},1032,["label","value"]))),128)),a(r,{label:"更多类型",value:"none",disabled:""},{default:m(()=>[p("p",Re,[l[16]||(l[16]=p("span",null,"更多类型，请添加DNS接口",-1)),a(H,{class:"ml-2 underline",onClick:Ze},{default:m(()=>[...l[15]||(l[15]=[o("点击添加",-1)])]),_:1})])]),_:1})]),_:1},8,["modelValue"]),[[t,"CNAME_CSR_HASH"===i(W)]])]),s(p("div",null,[a(i(n),{size:"small",type:"primary",onClick:i(Z)},{default:m(()=>[...l[17]||(l[17]=[o("选择已有域名",-1)])]),_:1},8,["onClick"]),a(i(n),{size:"small",type:"default",onClick:i($)},{default:m(()=>[...l[18]||(l[18]=[o("自定义域名",-1)])]),_:1},8,["onClick"])],512),[[t,!i(q)]])]),_:1})]))]),sslVerifyType:m(()=>[a(i(D),{label:"验证方式"},{default:m(()=>[a(P,{class:"!leading-[2.4rem]",modelValue:i(W),"onUpdate:modelValue":l[2]||(l[2]=e=>y(W)?W.value=e:null)},{default:m(()=>[(d(!0),u(c,null,f(i(ee),e=>(d(),v(F,{class:"item",key:e.value,effect:"dark",enterable:!1,content:e.tips,placement:"top-start"},{default:m(()=>[i(le)(i(ae),i(se),e)?(d(),v(B,{key:0,value:e.value},{default:m(()=>[p("span",Te,b(e.label),1),s(p("span",{class:x(["cursor-pointer",e.isCheck?"!text-primary":"!text-danger"]),onClick:l=>(e=>{M.msg({customClass:"el-error-html-message",dangerouslyUseHTMLString:!0,message:e.join("<br>"),type:"error"})})(e.checkTips)}," ["+b(e.isCheck?"正常":"异常")+"] ",11,ze),[[t,""!==e.isCheck]]),i(te)?(d(),u("span",Le,[...l[19]||(l[19]=[o(" [ ",-1),p("i",{class:"svgtofont-el-loading mx-[2px]"},null,-1),p("span",{class:"align-middle"},"检测中",-1),o(" ] ",-1)])])):_("",!0)]),_:2},1032,["value"])):_("",!0)]),_:2},1032,["content"]))),128))]),_:1},8,["modelValue"])]),_:1})]),dnsVerify:m(()=>[a(i(D),{label:"选择DNS接口"},{default:m(()=>[a(z,{class:"mr-1rem !w-[16rem]",modelValue:i(oe),"onUpdate:modelValue":l[3]||(l[3]=e=>y(oe)?oe.value=e:null),placeholder:"请选择",onChange:l[4]||(l[4]=e=>i(ne)(!0))},{default:m(()=>[(d(!0),u(c,null,f(i(Oe),e=>(d(),v(r,{key:e.value,label:e.label,value:e.value},{default:m(()=>[p("span",Be,[p("span",null,b(e.label),1),s(p("span",{class:x(e.data?"text-primary":"text-orange")},b(e.data?"[已配置]":"[未配置]"),3),[[t,e.config]])])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"]),s(a(i(n),{type:"default",onClick:l[5]||(l[5]=e=>i(ne)(!1))},{default:m(()=>[...l[20]||(l[20]=[o("配置",-1)])]),_:1},512),[[t,"dns"!==i(oe)]])]),_:1})]),_:1}),a(K,{modelValue:i(de),"onUpdate:modelValue":l[6]||(l[6]=e=>y(de)?de.value=e:null),area:50},{default:m(()=>[p("div",Fe,[l[21]||(l[21]=p("span",{class:"flex items-center mb-[12px]"},[p("i",{class:"svgtofont-el-warning text-warning text-[4rem] mr-[4px]"}),p("span",{class:"text-medium"},"当前提交信息存在以下问题，请解决后重新提交！")],-1)),a(J,{data:i(re),border:""},{default:m(()=>[a(G,{prop:"field",label:"错误字段"}),a(G,{prop:"error",label:"错误信息"})]),_:1},8,["data"])])]),_:1},8,["modelValue"]),a(K,{title:"选择域名",modelValue:i(fe),"onUpdate:modelValue":l[9]||(l[9]=e=>y(fe)?fe.value=e:null),area:57,"show-footer":!0,onConfirm:i(ve)},{default:m(()=>[p("div",Pe,[a(O,{class:"!w-[53rem] mb-[16px]",modelValue:i(ue),"onUpdate:modelValue":l[7]||(l[7]=e=>y(ue)?ue.value=e:null),placeholder:"支持字段模糊搜索",onInput:i(me),clearable:""},null,8,["modelValue","onInput"]),p("div",Ge,[l[22]||(l[22]=p("div",{class:"flex justify-between items-center bg-base py-[1rem] pl-[1rem]"},"域名",-1)),a(i(I),{modelValue:i(ie),"onUpdate:modelValue":l[8]||(l[8]=e=>y(ie)?ie.value=e:null),options:i(pe),class:"custom-radio-group whitespace-nowrap py-[2px] w-full"},null,8,["modelValue","options"])]),a(he,{options:i(ce),class:"ml-[20px]"},null,8,["options"])])]),_:1},8,["modelValue","onConfirm"]),a(K,{title:"自定义域名",modelValue:i(_e),"onUpdate:modelValue":l[11]||(l[11]=e=>y(_e)?_e.value=e:null),area:57,"show-footer":!0,onConfirm:i(Ve)},{default:m(()=>[p("div",Je,[a(ge,{class:"mb-[16px]",ref_key:"customDomainRef",ref:be,model:i(ye),rules:i(xe)},{default:m(()=>[a(L,{label:"自定义域名",prop:"domain"},{default:m(()=>[a(O,{autofocus:"",class:"!w-[40rem] mb-[8px]",modelValue:i(ye).domain,"onUpdate:modelValue":l[10]||(l[10]=e=>i(ye).domain=e),placeholder:"请输入需要申请证书的".concat(i(se)?"IP（IP证书）":"域名（单域名证书）","，必填项，例如：").concat(i(se)?"192.168.1.1":"www.bt.cn")},null,8,["modelValue","placeholder"])]),_:1})]),_:1},8,["model","rules"]),a(he,{options:i(ce),class:"ml-[20px]"},null,8,["options"])])]),_:1},8,["modelValue","onConfirm"])])}}}),[["__scopeId","data-v-391f1741"]]);export{Ke as default};
