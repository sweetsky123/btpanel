import{c as e,s as a,r as l,g as s,v as t,a8 as o,I as n,x as r,y as m,z as i,O as d,C as u,e as p,D as c,A as f,B as g,F as b,G as h,J as x,ak as y,ad as _,ab as v,T as V}from"./base-lib.js?v=1763689792";import{_ as C}from"./index109.js?v=1763689792";import{x as j,V as k,k as D,l as w}from"./utils-lib.js?v=1763689792";import{cL as F}from"./validator.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const R={class:"p-20px"},T={key:0,class:"flex flex-col"},U={class:"flex items-center"},z={class:"leading-8 text-base"},L={key:0,class:"text-danger"},S={class:"flex items-center h-[4.8rem] mt-4 pl-[1.2rem] text-base bg-light"},A={class:"mx-[1rem]"},q=e({__name:"index",setup(e,{expose:q}){const B=F(),{compData:G,fileTabActiveData:H,sitesPath:I,overlayFormRef:J,overlayForm:N,tableLoading:O,quickRules:P,calcData:$,tableColumns:E,tableData:K}=a(B),{handleSelectionChange:M,watchType:Q,onConfirm:W,init:X,$reset:Y}=B,Z=l(),ee=s(()=>H.value.param.path===I.value);return t(async()=>{X(Z)}),o(()=>{Y()}),q({onConfirm:W}),(e,a)=>{const l=y,s=_,t=D,o=v,F=w,q=C,B=V,H=n("bt-loading"),I=n("focus");return r(),m("div",R,["single"===i(G).type?(r(),d(o,{key:0,ref_key:"overlayFormRef",ref:J,model:i(N),rules:i(P)},{default:u(()=>[p(s,{label:"操作类型"},{default:u(()=>[p(l,{modelValue:i(N).type,"onUpdate:modelValue":a[0]||(a[0]=e=>i(N).type=e),label:"over",onChange:i(Q)},{default:u(()=>[...a[4]||(a[4]=[c("覆盖文件",-1)])]),_:1},8,["modelValue","onChange"]),p(l,{modelValue:i(N).type,"onUpdate:modelValue":a[1]||(a[1]=e=>i(N).type=e),label:"rename",onChange:i(Q)},{default:u(()=>[...a[5]||(a[5]=[c("重命名文件",-1)])]),_:1},8,["modelValue","onChange"])]),_:1}),p(s,{label:"文件名",prop:"filename"},{default:u(()=>[p(t,{modelValue:i(N).filename,"onUpdate:modelValue":a[2]||(a[2]=e=>i(N).filename=e),disabled:"over"===i(N).type,width:"24rem"},null,8,["modelValue","disabled"])]),_:1}),p(s,{label:"大小"},{default:u(()=>[f("span",null,g(i(N).is_dir?"--":i(j)(i(N).size)),1)]),_:1}),p(s,{label:"最后修改时间"},{default:u(()=>[c(g(i(k)(Number(i(N).mtime))),1)]),_:1})]),_:1},8,["model","rules"])):(r(),m(b,{key:1},["batch"===i(G).type?(r(),m("div",T,[f("div",U,[a[9]||(a[9]=f("i",{class:"svgtofont-el-warning text-warning text-titleLarge mr-8px"},null,-1)),f("span",z,[a[6]||(a[6]=c("以下目标文件名称与源文件相同，点击确定后勾选文件将跳过，",-1)),a[7]||(a[7]=f("span",{class:"text-danger"}," 未勾选文件将会被覆盖，",-1)),i(ee)?(r(),m("span",L," 当前目录为建站目录，")):h("",!0),a[8]||(a[8]=c(" 请确认后继续",-1))])]),p(q,null,{"header-left":u(()=>[...a[10]||(a[10]=[])]),"header-right":u(()=>[...a[11]||(a[11]=[])]),content:u(()=>[x(p(F,{onSelectionChange:i(M),column:i(E),data:i(K),ref_key:"overlayTableRef",ref:Z,"max-height":300},null,8,["onSelectionChange","column","data"]),[[H,i(O)]])]),"footer-left":u(()=>[...a[12]||(a[12]=[])]),"footer-right":u(()=>[...a[13]||(a[13]=[])]),popup:u(()=>[...a[14]||(a[14]=[])]),_:1}),f("div",null,[f("div",S,[a[15]||(a[15]=f("span",null,"计算结果：",-1)),f("span",A,g(i($).addend1)+" + "+g(i($).addend2),1),a[16]||(a[16]=f("span",{class:"mr-[1rem]"},"=",-1)),x(p(B,{modelValue:i($).sum,"onUpdate:modelValue":a[3]||(a[3]=e=>i($).sum=e),autofocus:"true","controls-position":"right",size:"small"},null,8,["modelValue"]),[[I]])])])])):h("",!0)],64))])}}});export{q as default};
