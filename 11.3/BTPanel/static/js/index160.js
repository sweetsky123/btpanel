import{Q as a,W as t,P as e,l as o,$ as l}from"./utils-lib.js?v=1763689792";import{_ as s}from"./index109.js?v=1763689792";import{_ as n}from"./index118.js?v=1763689792";import{j as r,r as i,o as p,c as m,s as d,v as c,a8 as u,I as g,x as b,y as h,e as f,C as j,z as x,J as _}from"./base-lib.js?v=1763689792";import{bU as v}from"./validator.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const D=r("FILES-OPERATION-RECORD-STORE",()=>{const e=i(!1),o=i([]),l=p({loading:!1,content:"",total:0,limit:20,p:1,help:[{content:'清空当前日志可前往"日志->操作日志"中清空'}]}),s=i([{label:"操作时间",prop:"addtime",width:160},{label:"操作日志",prop:"log"}]),n=async()=>{await a({loading:e,request:v({content:l.content||"",p:l.p}),data:{data:[Array,o],page:t(l)}})};return{isLoading:e,tableColumn:s,tableData:o,recordTableData:l,searchSubmit:a=>{l.content=a,n()},getData:n,$reset:()=>{e.value=!1,Object.assign(l,{loading:!1,content:"",total:0,limit:20,p:1}),o.value=[]}}}),w={class:"flex flex-col p-16px"},S=m({__name:"index",setup(a){const t=D(),{isLoading:r,tableColumn:i,tableData:p,recordTableData:m}=d(t),{searchSubmit:v,getData:S,$reset:y}=t;return c(()=>{S()}),u(()=>{y()}),(a,t)=>{const d=e,c=o,u=n,D=s,y=l,C=g("bt-loading");return b(),h("div",w,[f(D,null,{"header-left":j(()=>[...t[4]||(t[4]=[])]),"header-right":j(()=>[f(d,{modelValue:x(m).content,"onUpdate:modelValue":t[0]||(t[0]=a=>x(m).content=a),onSearch:x(v),placeholder:"请输入搜索关键字",class:"!w-[30rem]"},null,8,["modelValue","onSearch"])]),content:j(()=>[_(f(c,{ref:"favTable",height:"40rem",column:x(i),data:x(p),description:"列表为空"},null,8,["column","data"]),[[C,x(r)],[C,"正在加载列表，请稍后...","title"]])]),"footer-left":j(()=>[...t[5]||(t[5]=[])]),"footer-right":j(()=>[f(u,{page:x(m).p,"onUpdate:page":t[1]||(t[1]=a=>x(m).p=a),row:x(m).limit,"onUpdate:row":t[2]||(t[2]=a=>x(m).limit=a),layout:"prev, pager, next, total",total:x(m).total,onChange:t[3]||(t[3]=a=>x(S)())},null,8,["page","row","total"])]),popup:j(()=>[...t[6]||(t[6]=[])]),_:1}),f(y,{options:x(m).help,"list-style":"disc",class:"ml-24px"},null,8,["options"])])}}});export{S as default};
