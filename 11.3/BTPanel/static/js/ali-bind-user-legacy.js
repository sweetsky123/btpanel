!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.toStringTag||"@@toStringTag";function i(n,a,o,l){var i=a&&a.prototype instanceof u?a:u,s=Object.create(i.prototype);return r(s,"_invoke",function(n,r,a){var o,l,i,u=0,s=a||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,l=0,i=e,f.n=n,c}};function p(n,r){for(l=n,i=r,t=0;!d&&u&&!a&&t<s.length;t++){var a,o=s[t],p=f.p,m=o[2];n>3?(a=m===r)&&(i=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(l=0,f.v=r,f.n=o[1]):p<m&&(a=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,f.n=m,l=0))}if(a||n>1)return c;throw d=!0,r}return function(a,s,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&p(s,m),l=s,i=m;(t=l<2?e:i)||!d;){o||(l?l<3?(l>1&&(f.n=-1),p(l,i)):f.n=i:f.v=i);try{if(u=2,o){if(l||(a="next"),t=o[a]){if(!(t=t.call(o,i)))throw TypeError("iterator result is not an object");if(!t.done)return t;i=t.value,l<2&&(l=0)}else 1===l&&(t=o.return)&&t.call(o),l<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((t=(d=f.n<0)?i:n.call(r,f))!==c)break}catch(t){o=e,l=1,i=t}finally{u=1}}return{value:t,done:d}}}(n,o,l),!0),s}var c={};function u(){}function s(){}function d(){}t=Object.getPrototypeOf;var f=[][o]?t(t([][o]())):(r(t={},o,function(){return this}),t),p=d.prototype=u.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,r(e,l,"GeneratorFunction")),e.prototype=Object.create(p),e}return s.prototype=d,r(p,"constructor",d),r(d,"constructor",s),s.displayName="GeneratorFunction",r(d,l,"GeneratorFunction"),r(p),r(p,l,"Generator"),r(p,o,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(n=function(){return{w:i,m:m}})()}function r(e,t,n,a){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}r=function(e,t,n,a){function l(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(l("next",0),l("throw",1),l("return",2))},r(e,t,n,a)}function a(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var l=e.apply(t,n);function i(e){a(l,r,o,i,c,"next",e)}function c(e){a(l,r,o,i,c,"throw",e)}i(void 0)})}}System.register(["./base-lib-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./bt_logo_new-legacy.js?v=1763689792","./useController-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792"],function(t,r){"use strict";var a,l,i,c,u,s,d,f,p,m,v,h,b,g,y,w,x,_,k,D,j,C,V,z,O,S,E,T,A,I,G,U,M,q,B,H,P,L,F,K;return{setters:[function(e){a=e.c,l=e.r,i=e.o,c=e.v,u=e.aG,s=e.x,d=e.O,f=e.C,p=e.J,m=e.K,v=e.z,h=e.A,b=e.e,g=e.B,y=e.L,w=e.Q,x=e.y,_=e.D,k=e.G,D=e.F,j=e.M,C=e.aA,V=e.ad,z=e.U,O=e.H,S=e.b2,E=e.ab},function(e){T=e._},function(e){A=e.u,I=e.M,G=e.io,U=e.bL,M=e.t,q=e.r,B=e.e,H=e._},function(e){P=e._},function(e){L=e.u,F=e.b,K=e.f},null],execute:function(){var r={class:"flex !justify-center !w-full items-center"},$={class:"text-default inline-block mr-2 font-bold mt-12x"},W={key:0,class:"absolute el-form-item__error"},J={class:"flex justify-end items-center text-small mt-[1rem]"},N={key:0,class:"view-con bg-white"},Q={key:1,class:"w-[100%] mt-[1.2rem] flex items-center justify-center text-primary",size:"default"},R={key:2,class:"flex justify-end items-center text-small mt-[1rem] h-[1.68rem]"},X={key:0},Y={class:"more-bind"},Z=a({__name:"ali-bind-user",props:{compData:{default:null}},emits:["close"],setup:function(t,a){var H,Z=a.expose,ee=(a.emit,t),te=A(),ne=te.aliyunEcsLtd,re=te.payment,ae=l(!1),oe=l("获取验证码"),le=i({username:"",password:"",code:""}),ie=i({username:!1,password:!1,code:!1}),ce=l(""),ue=l(0),se=l(),de=l(!1),fe=l(1),pe=l(ee.compData.authData),me=l({username:[{validator:function(e,t,n){var r;if(null!==(r=ee.compData)&&void 0!==r&&r.title&&(de.value=!1),/^1[3456789]\d{9}$/.test(t))n();else if(""===t)n(new Error("请输入宝塔官网账号"));else{var a;if(null!==(a=ee.compData)&&void 0!==a&&a.title)return de.value=!0,void n(new Error(" "));n(new Error(" 请输入正确的手机号 "))}},trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:["blur","change"]},{validator:function(e,t,n){t.length>=8?n():n(new Error("请输入至少8位密码"))},trigger:["blur","change"]}],token:[{required:!1,message:"请输入验证码",trigger:["blur","change"]},{validator:function(e,t,n){ae.value||n(),6===t.length?n():n(new Error("请输入6位验证码，不可为空"))},trigger:["blur","change"]}]}),ve=function(){var e=o(n().m(function e(){return n().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,se.value.validate();case 1:return e.n=2,F({isCheck:ae,userInfo:le,userToken:ce});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),he=function(e){ue.value&&clearInterval(ue.value);var t=function(){if(--e<=0)return clearInterval(ue.value),oe.value="获取验证码",void(ie.code=!1);oe.value="重新获取验证码(".concat(e,"s)")};t(),ue.value=setInterval(t,1e3),ie.code=!0},be=function(){var e=o(n().m(function e(){var t,r,a;return n().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=I.load("正在绑定中......"),e.p=1,e.n=2,G({client:2});case 2:r=e.v,(a=r.data).status||a.success?K(ee.compData.redirect):(t.close(),I.error(a.msg||a.res)),e.n=4;break;case 3:e.p=3,e.v,null==t||t.close();case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=o(n().m(function e(){var t;return n().w(function(e){for(;;)switch(e.n){case 0:if(le.username&&le.password){e.n=1;break}return e.a(2,I.error("请先输入手机号和密码"));case 1:return ie.username=!0,ie.password=!0,he(60),e.n=2,U({username:le.username,token:ce.value});case 2:t=e.v,I.request(t);case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ye=function(){se.value.clearValidate(),je()},we=l(!1),xe=function(){var e=o(n().m(function e(){return n().w(function(e){for(;;)switch(e.n){case 0:try{we.value=2===pe.value.client&&1===pe.value.login,2===pe.value.client&&1===pe.value.login?_e(2):_e(1)}catch(t){_e(1)}case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),_e=function(e){var t;fe.value=e,null!==(t=ee.compData)&&void 0!==t&&t.onChangeType&&ee.compData.onChangeType(1===e?"bind":"other")},ke=L(null===(H=ee.compData)||void 0===H?void 0:H.redirect),De=(ke.qrcodeLoading,ke.openWechatLogin),je=ke.onCancelWechat,Ce=function(){q.push("/"),ye()};return Z({onOpen:function(){M(se.value.$el,"username")},onCancel:ye}),c(function(){var e;xe(),null===(e=se.value)||void 0===e||e.clearValidate()}),u(function(){je()}),function(n,a){var o,l=C,i=V,c=z,u=B,A=O,I=B,G=T,U=S,M=E;return s(),d(M,{ref_key:"bindUserInfo",ref:se,size:"large",rules:v(me),model:v(le),autocomplete:"off",class:y(["bind-user-info",{"bind-form":!(null===(o=t.compData)||void 0===o||!o.title)}])},{default:f(function(){var n,o,C,V,z,O,S,E,T,M,q,B,H;return[p(h("div",null,[b(i,{class:"text-center !mb-5 flex justify-center"},{default:f(function(){var n;return[h("div",r,[h("h3",$,g((null===(n=t.compData)||void 0===n?void 0:n.title)||"切换宝塔官网账号"),1),b(l,{placement:"top-start",width:"200",trigger:"hover",content:"宝塔面板许多功能都依赖于官网，绑定仅限于为您提供更好的面板服务体验，不涉及您服务器任何敏感信息，请放心使用。",class:"inline-block relative -top-1.5"},{reference:f(function(){return e(a[10]||(a[10]=[h("a",{class:"bt-ico-ask align-middle",href:"javascript:;"},"?",-1)]))}),_:1})])]}),_:1}),(s(),d(i,{key:1,prop:"username",class:y({"!mb-[3rem]":!(null===(n=t.compData)||void 0===n||!n.title)})},{default:f(function(){var n;return[b(c,{modelValue:v(le).username,"onUpdate:modelValue":a[0]||(a[0]=function(e){return v(le).username=e}),clearable:"",required:"",name:"username",autocomplete:"off",class:"!leading-[4rem] !h-[4rem]",placeholder:"宝塔官网账号",disabled:v(ie).username,onKeyup:a[1]||(a[1]=w(function(e){return ve()},["enter"]))},null,8,["modelValue","disabled"]),null!==(n=t.compData)&&void 0!==n&&n.title&&v(de)?(s(),x("span",W,[a[12]||(a[12]=h("span",null,"请使用宝塔官网登录账号进行登录，若未有账号，可进行",-1)),b(u,{class:"!text-small",href:"https://www.bt.cn/register"},{default:f(function(){return e(a[11]||(a[11]=[_(" 免费注册 ",-1)]))}),_:1})])):k("",!0)]}),_:1},8,["class"])),(s(),d(i,{key:2,prop:"password"},{default:f(function(){return[b(c,{modelValue:v(le).password,"onUpdate:modelValue":a[2]||(a[2]=function(e){return v(le).password=e}),clearable:"",required:"",type:"password",name:"password",class:"!leading-[4rem] !h-[4rem]",autocomplete:"off",placeholder:"密码","show-password":!0,disabled:v(ie).password,onKeyup:a[3]||(a[3]=w(function(e){return ve()},["enter","native"]))},null,8,["modelValue","disabled"])]}),_:1})),p(b(i,{prop:"code"},{default:f(function(){return[b(c,{modelValue:v(le).code,"onUpdate:modelValue":a[4]||(a[4]=function(e){return v(le).code=e}),type:"text",clearable:"",autocomplete:"off",placeholder:"验证码",onKeyup:a[5]||(a[5]=w(function(e){return ve()},["enter","native"]))},{append:f(function(){return[b(A,{class:"relative top-0 rounded-r-base",type:"primary",size:"default",disabled:v(ie).code,plain:"",onClick:ge},{default:f(function(){return[_(g(v(oe)),1)]}),_:1},8,["disabled"])]}),_:1},8,["modelValue"])]}),_:1},512),[[m,v(ae)]]),b(A,{type:"primary",class:"w-[100%] mt-[1.2rem]",size:"default",onClick:a[6]||(a[6]=function(e){return ve()})},{default:f(function(){var e,n;return[_(g((null===(e=t.compData)||void 0===e?void 0:e.btn)||(null!==(n=t.compData)&&void 0!==n&&n.title?"绑定账号":"切换账号")),1)]}),_:1}),h("div",J,[v(re).bindUser?k("",!0):(s(),x(D,{key:0},[b(I,{onClick:Ce},{default:f(function(){return e(a[13]||(a[13]=[_("暂不绑定",-1)]))}),_:1}),b(G)],64)),b(I,{href:"https://www.bt.cn/register"},{default:f(function(){return e(a[14]||(a[14]=[_("注册账号",-1)]))}),_:1}),b(G),b(I,{href:"https://www.bt.cn/login.html?page=reset"},{default:f(function(){return e(a[15]||(a[15]=[_("忘记密码",-1)]))}),_:1}),b(G),b(I,{href:"https://www.bt.cn/bbs"},{default:f(function(){return e(a[16]||(a[16]=[_("问题反馈",-1)]))}),_:1})])],512),[[m,1===v(fe)]]),p(h("div",null,[null!==(o=t.compData)&&void 0!==o&&o.title?k("",!0):(s(),x("div",{key:0,class:y({"view-con":!0,"bg-white":!(null!==(C=t.compData)&&void 0!==C&&C.title)})},[h("div",{class:y({"app-box":!0,"bg-white":!(null!==(V=t.compData)&&void 0!==V&&V.title)})},e(a[17]||(a[17]=[h("img",{alt:"",src:P},null,-1)])),2),a[19]||(a[19]=h("div",{class:"change-icon"},[h("svg",{t:"1729493717851",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"19919",width:"200",height:"200"},[h("path",{d:"M914.618182 477.090909H546.909091V109.381818c0-18.618182-16.290909-34.909091-34.909091-34.909091s-34.909091 16.290909-34.909091 34.909091v367.709091H109.381818c-18.618182 0-34.909091 16.290909-34.909091 34.909091s16.290909 34.909091 34.909091 34.909091h367.709091v367.709091c0 18.618182 16.290909 34.909091 34.909091 34.909091s34.909091-16.290909 34.909091-34.909091V546.909091h367.709091c18.618182 0 34.909091-16.290909 34.909091-34.909091s-16.290909-34.909091-34.909091-34.909091z",fill:"var(--el-color-text-tertiary)","p-id":"19920"})])],-1)),h("div",{class:y({"app-box":!0,"bg-white":!(null!==(z=t.compData)&&void 0!==z&&z.title)})},e(a[18]||(a[18]=[h("div",{class:"ali-icon"},null,-1)])),2)],2)),h("div",{class:y({"bg-light":null===(O=t.compData)||void 0===O?void 0:O.title,"rounded-base":null===(S=t.compData)||void 0===S?void 0:S.title}),style:j({border:null!==(E=t.compData)&&void 0!==E&&E.title?"1px solid var(--el-border-color)":"none","padding-top":null!==(T=t.compData)&&void 0!==T&&T.title?"2rem":"0"})},[null!==(M=t.compData)&&void 0!==M&&M.title?(s(),x("div",N,e(a[20]||(a[20]=[h("div",{class:"app-box bg-white"},[h("img",{alt:"",src:P})],-1),h("div",{class:"change-icon"},[h("svg",{t:"1729493717851",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"19919",width:"200",height:"200"},[h("path",{d:"M914.618182 477.090909H546.909091V109.381818c0-18.618182-16.290909-34.909091-34.909091-34.909091s-34.909091 16.290909-34.909091 34.909091v367.709091H109.381818c-18.618182 0-34.909091 16.290909-34.909091 34.909091s16.290909 34.909091 34.909091 34.909091h367.709091v367.709091c0 18.618182 16.290909 34.909091 34.909091 34.909091s34.909091-16.290909 34.909091-34.909091V546.909091h367.709091c18.618182 0 34.909091-16.290909 34.909091-34.909091s-16.290909-34.909091-34.909091-34.909091z",fill:"var(--el-color-text-tertiary)","p-id":"19920"})])],-1),h("div",{class:"app-box bg-white"},[h("div",{class:"ali-icon"})],-1)])))):k("",!0),b(i,{class:y(["!mb-5 flex justify-center",{"p-[2.5rem]":null===(q=t.compData)||void 0===q?void 0:q.title,"!pt-0":null===(B=t.compData)||void 0===B?void 0:B.title}])},{default:f(function(){return[b(U),a[21]||(a[21]=h("h3",{class:"text-base w-full text-secondary inline-block font-bold"},"阿里云用户专享特权：",-1)),a[22]||(a[22]=h("h3",{class:"text-small leading-[1] w-full text-tertiary inline-block mt-[1rem] flex items-center"},[h("span",{class:"svgtofont-el-check text-primaryDark font-bold mr-[.5rem]"}),_(" 免费使用原本需要付费的功能： ")],-1)),a[23]||(a[23]=h("h3",{class:"text-small leading-[1] w-full text-tertiary inline-block mt-[1rem] ml-[1.9rem] flex items-center"},[h("img",{src:"/static/img/soft_ico/ico-msg_push.png",class:"w-[2rem] mr-[1rem]"}),_(" 异常监控推送 ")],-1)),a[24]||(a[24]=h("h3",{class:"text-small leading-[1] w-full text-tertiary inline-block mt-[1.5rem] flex items-center"},[h("span",{class:"svgtofont-el-check text-primaryDark font-bold mr-[.5rem]"}),_(" 宝塔官方付费软件均享额外折扣 ")],-1))]}),_:1},8,["class"]),b(A,{type:"primary",class:"w-[85%] mt-[4rem] relative left-[7.5%]",style:{margin:"1rem auto 0"},size:"default",onClick:be},{default:f(function(){return e(a[25]||(a[25]=[_("一键激活专享特权",-1)]))}),_:1}),v(ne)?k("",!0):(s(),x("div",Q,[v(re).bindUser?k("",!0):(s(),x(D,{key:0},[b(I,{onClick:Ce},{default:f(function(){return e(a[26]||(a[26]=[_("暂不绑定",-1)]))}),_:1}),b(G)],64)),h("span",{class:"cursor-pointer hover:text-primaryDark",onClick:a[7]||(a[7]=function(e){return _e(1)})},"已有宝塔账号登录")])),null!==(H=t.compData)&&void 0!==H&&H.title?(s(),x("div",R)):k("",!0)],6)],512),[[m,2===v(fe)]]),1===v(fe)?(s(),x("div",X,[a[29]||(a[29]=h("div",{class:"more-title"},[h("span",null,"更多绑定方式")],-1)),h("div",Y,[p(h("div",{class:"wechat-login-container",onClick:a[8]||(a[8]=function(e){return _e(2)})},e(a[27]||(a[27]=[h("div",{class:"wechat-icon-circle"},[h("i",{class:"wechat-icon tencent_ico"})],-1),h("div",{class:"wechat-text"},"阿里云",-1)])),512),[[m,1===v(fe)&&v(we)]]),p(h("div",{class:y(["wechat-login-container",{"ml-[1.4rem]":v(we)}]),onClick:a[9]||(a[9]=function(){return v(De)&&v(De).apply(void 0,arguments)})},e(a[28]||(a[28]=[h("div",{class:"wechat-icon-circle"},[h("i",{class:"wechat-icon"},[h("svg",{t:"1749545795651",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9096",width:"20",height:"20"},[h("path",{d:"M391.95 175.27c-159.03 0-289.29 108.4-289.29 246.04 0 79.45 43.35 144.67 115.74 195.2l-28.93 87.05 101.12-50.74c36.19 7.19 65.22 14.54 101.33 14.54 9.08 0 18.09-0.45 27.01-1.16-5.64-19.37-8.92-39.61-8.92-60.62 0-126.32 108.54-228.89 245.97-228.89 9.37 0 18.64 0.69 27.86 1.71C658.8 261.87 534.2 175.27 391.95 175.27z m-93.97 195.31c-21.67 0-43.56-14.52-43.56-36.21 0-21.77 21.89-36.09 43.56-36.09s36.12 14.33 36.12 36.09c-0.02 21.69-14.45 36.21-36.12 36.21z m202.46 0c-21.69 0-43.45-14.52-43.45-36.21 0-21.77 21.76-36.09 43.45-36.09 21.79 0 36.21 14.33 36.21 36.09 0 21.69-14.43 36.21-36.21 36.21z m0 0",fill:"#3CB034","p-id":"9097"}),h("path",{d:"M920.01 602.12c0-115.59-115.74-209.86-245.72-209.86-137.64 0-246.05 94.27-246.05 209.86 0 115.84 108.41 209.92 246.05 209.92 28.81 0 57.85-7.25 86.79-14.51l79.36 43.44-21.76-72.3c58.06-43.53 101.33-101.3 101.33-166.55z m-325.5-36.14c-14.41 0-28.95-14.31-28.95-28.92 0-14.44 14.54-28.96 28.95-28.96 21.89 0 36.21 14.52 36.21 28.96 0 14.61-14.33 28.92-36.21 28.92z m159.13 0c-14.31 0-28.74-14.31-28.74-28.92 0-14.44 14.43-28.96 28.74-28.96 21.67 0 36.21 14.52 36.21 28.96 0 14.61-14.54 28.92-36.21 28.92z m0 0",fill:"#3CB034","p-id":"9098"})])])],-1),h("div",{class:"wechat-text"},"微信",-1)])),2),[[m,1===v(fe)]])])])):k("",!0)]}),_:1},8,["rules","model","class"])}}});t("default",H(Z,[["__scopeId","data-v-b632fca8"]]))}}})}();
