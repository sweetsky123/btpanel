import{L as s,n as e,e as a,$ as l}from"./utils-lib.js?v=1763689792";import{c as t,v as o,I as n,x as r,y as i,J as u,z as m,e as p,C as c,F as d,b1 as f,O as b,A as y,B as v,S as h,G as x,R as k,D as _,g as j,am as w,an as g,H as C}from"./base-lib.js?v=1763689792";import{B as V}from"./index119.js?v=1763689792";import{u as B}from"./useStore4.js?v=1763689792";import{i as F,t as S,o as q,e as A,f as H,a as R,h as T,s as U,b as z,c as D,d as G}from"./useController18.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./ace.js?v=1763689792";import"./site.js?v=1763689792";const I={class:"h-full"},J={key:0,class:"flex items-center justify-between"},L={class:"flex items-center justify-between"},N=["onClick"],O={class:"flex items-center"},$={class:"my-[12px]"},E=t({__name:"rewrite",setup(t){const{siteType:E}=B(),K=()=>{const{BtForm:a,submit:l}=s({options:()=>j(()=>[{type:"input",label:"模板名称",key:"name",attrs:{placeholder:"请输入模板名称"},rules:[{required:!0,message:"请输入模板名称",trigger:"blur"}]}]),submit:async(s,e)=>(await e(),await G(s.value))});e({title:"另存为模板",area:42,showFooter:!0,component:()=>p(a,{class:"p-2rem"},null),onConfirm:l})};return o(F),(s,e)=>{const t=w,o=g,j=a,B=V,F=C,G=l,M=n("bt-loading");return r(),i("div",I,[u((r(),i("div",null,[["php","proxy","phpasync"].includes(m(E))?(r(),i("div",J,[p(o,{class:"!w-[15rem]",modelValue:m(R),"onUpdate:modelValue":e[0]||(e[0]=s=>k(R)?R.value=s:null),onChange:m(T)},{default:c(()=>[(r(!0),i(d,null,f(m(q),(s,e)=>(r(),b(t,{key:e,value:s},{default:c(()=>[y("div",L,[y("span",null,v(s),1),m(A)(s)?(r(),i("span",{key:0,class:"el-icon-close cursor-pointer text-base ml-1rem",onClick:h(e=>m(H)({name:s}),["stop"])},null,8,N)):x("",!0)])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onChange"]),y("span",O,[e[5]||(e[5]=_("规则转换工具： ",-1)),p(j,{href:"https://www.bt.cn/Tools",target:"_blank"},{default:c(()=>[...e[4]||(e[4]=[_("Apache转Nginx ",-1),y("i",{class:"svgtofont-el-link"},null,-1)])]),_:1})])])):x("",!0),y("div",$,[p(B,{id:"staticContentRef",request:!1,class:"!h-[40rem] !w-full border border-dark rounded-base",modelValue:m(U),"onUpdate:modelValue":e[1]||(e[1]=s=>k(U)?U.value=s:null),onSave:e[2]||(e[2]=s=>m(z)())},null,8,["modelValue"])]),y("div",null,[p(F,{type:"primary",onClick:e[3]||(e[3]=s=>m(z)())},{default:c(()=>[...e[6]||(e[6]=[_("保存",-1)])]),_:1}),["php","proxy"].includes(m(E))?(r(),b(F,{key:0,onClick:K},{default:c(()=>[...e[7]||(e[7]=[_("另存为模板",-1)])]),_:1})):x("",!0)]),p(G,{options:m(D),class:"ml-[20px] mt-[20px]"},null,8,["options"])])),[[M,m(S)],[M,"正在加载内容，请稍候...","title"]])])}}});export{E as default};
