import{lw as a,aK as e,Q as s,lx as l,$ as t}from"./utils-lib.js?v=1763689792";import{c as u,r as n,v as m,I as o,J as c,z as i,x as d,y as r,A as v,e as p,C as f,F as y,b1 as _,O as b,R as x,D as j,am as w,an as g,H as k}from"./base-lib.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";const V={class:"p-[20px]"},h=u({__name:"defalut-site",setup(u){const h=n(!1),C=n([{name:"默认站点",value:"default"},{name:"自定义站点",value:"custom"}]),H=n("default"),I=async()=>{const a={site_name:"未设置默认站点"===H.value?"0":H.value};h.value=!0,await s({loading:"正在设置默认站点，请稍后...",request:l(a),message:!0}),h.value=!1};return m(()=>{(async()=>{h.value=!0;try{const{data:e}=await a();H.value=e.data.defaultSite,e.data.defaultSite||(H.value="未设置默认站点"),C.value=e.data.sites,C.value.unshift({name:"未设置默认站点",value:"未设置默认站点"})}catch(s){e(s)}finally{h.value=!1}})()}),(a,e)=>{const s=w,l=g,u=k,n=t,m=o("bt-loading");return c((d(),r("div",V,[e[2]||(e[2]=v("span",{class:"mr-[12px]"},"默认站点",-1)),p(l,{modelValue:i(H),"onUpdate:modelValue":e[0]||(e[0]=a=>x(H)?H.value=a:null),class:"!w-[32rem]"},{default:f(()=>[(d(!0),r(y,null,_(i(C),(a,e)=>(d(),b(s,{key:e,label:a.name,value:a.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),p(u,{type:"primary",onClick:I,class:"!mt-[20px] !block"},{default:f(()=>[...e[1]||(e[1]=[j("保存",-1)])]),_:1}),p(n,{class:"ml-[20px] my-[20px]",options:[{content:"设置默认站点后,所有未绑定的域名和IP都被定向到默认站点"},{content:"可有效防止恶意解析"}]})])),[[m,i(h)]])}}});export{h as default};
