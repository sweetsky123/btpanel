!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function t(e){for(var t=1;t<arguments.length;t++){var u=null!=arguments[t]?arguments[t]:{};t%2?n(Object(u),!0).forEach(function(n){r(e,n,u[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(u)):n(Object(u)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(u,n))})}return e}function r(n,t,r){return(t=function(n){var t=function(n,t){if("object"!=e(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var u=r.call(n,t||"default");if("object"!=e(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==e(t)?t:t+""}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function l(t,r,u,o){var l=r&&r.prototype instanceof c?r:c,s=Object.create(l.prototype);return a(s,"_invoke",function(t,r,u){var a,o,l,c=0,s=u||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(n,t){return a=n,o=0,l=e,d.n=t,i}};function p(t,r){for(o=t,l=r,n=0;!f&&c&&!u&&n<s.length;n++){var u,a=s[n],p=d.p,v=a[2];t>3?(u=v===r)&&(l=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=p&&((u=t<2&&p<a[1])?(o=0,d.v=r,d.n=a[1]):p<v&&(u=t<3||a[0]>r||r>v)&&(a[4]=t,a[5]=r,d.n=v,o=0))}if(u||t>1)return i;throw f=!0,r}return function(u,s,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,v),o=s,l=v;(n=o<2?e:l)||!f;){a||(o?o<3?(o>1&&(d.n=-1),p(o,l)):d.n=l:d.v=l);try{if(c=2,a){if(o||(u="next"),n=a[u]){if(!(n=n.call(a,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,o<2&&(o=0)}else 1===o&&(n=a.return)&&n.call(a),o<2&&(l=TypeError("The iterator does not provide a '"+u+"' method"),o=1);a=e}else if((n=(f=d.n<0)?l:t.call(r,d))!==i)break}catch(n){a=e,o=1,l=n}finally{c=1}}return{value:n,done:f}}}(t,u,o),!0),s}var i={};function c(){}function s(){}function f(){}n=Object.getPrototypeOf;var d=[][r]?n(n([][r]())):(a(n={},r,function(){return this}),n),p=f.prototype=c.prototype=Object.create(d);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return s.prototype=f,a(p,"constructor",f),a(f,"constructor",s),s.displayName="GeneratorFunction",a(f,o,"GeneratorFunction"),a(p),a(p,o,"Generator"),a(p,r,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(u=function(){return{w:l,m:v}})()}function a(e,n,t,r){var u=Object.defineProperty;try{u({},"",{})}catch(e){u=0}a=function(e,n,t,r){function o(n,t){a(e,n,function(e){return this._invoke(n,t,e)})}n?u?u(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(o("next",0),o("throw",1),o("return",2))},a(e,n,t,r)}function o(e,n,t,r,u,a,o){try{var l=e[a](o),i=l.value}catch(e){return void t(e)}l.done?n(i):Promise.resolve(i).then(r,u)}function l(e){return function(){var n=this,t=arguments;return new Promise(function(r,u){var a=e.apply(n,t);function l(e){o(a,r,u,l,i,"next",e)}function i(e){o(a,r,u,l,i,"throw",e)}l(void 0)})}}function i(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return c(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./index-legacy109.js?v=1763689792","./ssl-legacy.js?v=1763689792","./useController-legacy15.js?v=1763689792","./useMethod-legacy12.js?v=1763689792","./useStore-legacy12.js?v=1763689792","./site-legacy.js?v=1763689792","./index-legacy61.js?v=1763689792","./column-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./useStore-legacy4.js?v=1763689792","./useController-legacy6.js?v=1763689792","./validator-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792","./useController-legacy5.js?v=1763689792","./useMethod-legacy5.js?v=1763689792","./useController-legacy4.js?v=1763689792","./useStore-legacy11.js?v=1763689792","./useMethod-legacy7.js?v=1763689792","./index-legacy118.js?v=1763689792","./useMethod-legacy9.js?v=1763689792","./useMethod-legacy11.js?v=1763689792","./header-nav-tools.vue_vue_type_script_setup_true_lang-legacy.js?v=1763689792"],function(e,n){"use strict";var r,a,o,c,s,f,d,p,v,m,y,h,b,_,g,w,j,S,k,x,O,D,C,P,A,L,M,T,V,N,I,E,q,R,U,G,B,H,F,W,z,X,J,Q,$,K,Y,Z,ee,ne,te,re,ue,ae,oe,le,ie,ce,se,fe,de;return{setters:[function(e){r=e.k,a=e._,o=e.B,c=e.H,s=e.M,f=e.az,d=e.Q,p=e.kQ,v=e.R,m=e.kR,y=e.bH,h=e.r,b=e.L,_=e.bE,g=e.l,w=e.$,j=e.j,S=e.f0,k=e.p,x=e.kS,O=e.aC},function(e){D=e.c,C=e.s,P=e.aB,A=e.x,L=e.y,M=e.z,T=e.O,V=e.C,N=e.A,I=e.B,E=e.G,q=e.e,R=e.R,U=e.D,G=e.aZ,B=e.H,H=e.r,F=e.o,W=e.g,z=e.V,X=e.v,J=e.F,Q=e.b1,$=e.ag,K=e.ad,Y=e.aE,Z=e.j,ee=e.P,ne=e.m,te=e.aD},function(e){re=e._},function(e){ue=e.L},function(e){ae=e.f},function(e){oe=e.l},function(e){le=e.u},function(e){ie=e.authDomainApi,ce=e.validateDomain,se=e.getCertList},function(e){fe=e.c},function(e){de=e.u},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var pe={class:"cert-info"},ve={class:"cert-value"},me={class:"cert-info"},ye={class:"cert-value"},he={class:"mb-16px flex justify-between gap-[10px]"},be={class:"w-48%"},_e={class:"w-48%"},ge={class:"mb-12px flex"},we=D({__name:"other",setup:function(e){var n=C(Ye()),t=n.keys,u=n.crt,a=n.domains,o=n.menuData,l=Ye(),c=l.onSave,s=l.onDel,f=P("popupClose");return function(e,n){var l,d=G,p=r,v=B;return A(),L("div",null,[null!==(l=M(o))&&void 0!==l&&l.row.ssl_status?(A(),T(d,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:V(function(){var e;return[N("div",pe,[n[4]||(n[4]=N("span",{class:"cert-label"},"品牌: ",-1)),N("span",ve,I(null===(e=M(o))||void 0===e?void 0:e.row.ssl_info.issuer),1)]),N("div",me,[n[5]||(n[5]=N("span",{class:"cert-label"},"认证域名: ",-1)),N("span",ye,I(M(a)),1)])]}),_:1})):E("",!0),N("div",he,[N("div",be,[n[6]||(n[6]=N("div",{class:"mb-8px"},"密钥(KEY)",-1)),q(p,{type:"textarea",class:"!w-full",modelValue:M(t),"onUpdate:modelValue":n[0]||(n[0]=function(e){return R(t)?t.value=e:null}),rows:14},null,8,["modelValue"])]),N("div",_e,[n[7]||(n[7]=N("div",{class:"mb-8px"},"证书(CRT/PEM格式)",-1)),q(p,{type:"textarea",class:"!w-full",modelValue:M(u),"onUpdate:modelValue":n[1]||(n[1]=function(e){return R(u)?u.value=e:null}),rows:14},null,8,["modelValue"])])]),N("div",ge,[q(v,{type:"primary",onClick:n[2]||(n[2]=function(e){return M(c)(M(f))})},{default:V(function(){return i(n[8]||(n[8]=[U(" 保存 ",-1)]))}),_:1}),q(v,{onClick:n[3]||(n[3]=function(e){return M(s)(M(f))})},{default:V(function(){return i(n[9]||(n[9]=[U(" 关闭 ",-1)]))}),_:1})])])}}}),je=a(we,[["__scopeId","data-v-3dc2a7c3"]]),Se=le(),ke=Se.setApplyInfo,xe=Se.letApplyInfo,Oe=H(null),De=H([]),Ce=H(!1),Pe=H("");H(!1);var Ae=H([]),Le=F({resource:"1",auth_to:!1,autoWildcard:!1,domain:[],checkList:[]}),Me=H(!1),Te=H(""),Ve=function(){var e=l(u().m(function e(){var t,r,a,o,l;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,c(function(){return Promise.resolve().then(function(){return Ze})},void 0,n.meta.url);case 1:t=e.v,r=t.MAIL_DOMAIN_SSL,a=r(),o=C(a),l=o.menuData,Ae.value=[],Ae.value.push(l.value.row.domain),Le.checkList=Ae.value;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=l(u().m(function e(r){var a,o,l,i,f,d,p,v,m;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,c(function(){return Promise.resolve().then(function(){return Ze})},void 0,n.meta.url);case 1:if(o=e.v,l=o.MAIL_DOMAIN_SSL,i=l(),f=C(i),d=f.menuData,0!==r.value.checkList.length){e.n=2;break}return s.error("请选择一个域名"),e.a(2,!1);case 2:if(null!==(a=d.value)&&void 0!==a&&null!==(a=a.row)&&void 0!==a&&a.dns_id||r.value.auth_to){e.n=3;break}return s.error("选中的域名存在未设置DNS接口配置"),e.a(2,!1);case 3:return p={domains:JSON.stringify(r.value.checkList),auth_type:"dns",auth_to:r.value.auth_to?"dns":JSON.stringify(r.value.checkList),auto_wildcard:r.value.autoWildcard?"1":"0"},e.p=4,e.n=5,oe();case 5:return v=e.v,e.n=6,ue(p);case 6:m=e.v,Te.value=m.data.index,v._props.onCancel(),Ie(m.data,t({auth_type:"dns"},r.value)),Ge.value[1].text="可通过CMD命令来手动验证域名解析是否生效: nslookup -q=txt _acme-challenge.".concat(Le.checkList[0].replace("*.","")),e.n=8;break;case 7:e.p=7,e.v;case 8:return e.a(2)}},e,null,[[4,7]])}));return function(n){return e.apply(this,arguments)}}(),Ie=function(e,n){if(!1===e.status&&e.hasOwnProperty("msg")&&f(e.msg))s.msg({customClass:"bt-message-error-html",dangerouslyUseHTMLString:!0,message:e.msg,type:"error",showClose:!0,duration:0});else if(!0!==e.status&&"pending"!==e.status&&void 0===(null==e?void 0:e.save_path))ae(e,xe.value.dnsTable,xe.value.info);else{if("pending"===e.status&&"dns"===n.auth_type){De.value=[];for(var t=0;t<e.auths.length;t++){var r=[],u=e.auths[t].domain.replace("*.","");r.push({domain:"_acme-challenge.".concat(u),type:"TXT",auth_value:e.auths[t].auth_value,must:"是",force:"是"}),r.push({domain:u,type:"CAA",auth_value:'0 issue "letsencrypt.org"',must:"否",force:"否"}),De.value.push({domain:e.auths[t].domain,data:r})}return e.hasOwnProperty("error")?Ce.value=e.error:Ce.value=!1,ke(e,n),void(Me.value=!0)}Re(e)}},Ee=function(){var e=l(u().m(function e(n){var t,r,a;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,oe();case 1:return t=e.v,e.n=2,ie({index:Te.value,domain:n.domain});case 2:r=e.v,a=r.data,t._props.onCancel(),Me.value=!1,"valid"===a.status?s.success("验证成功"):!0===a.status?Re(a):ae(a,n.data,{auth_type:"dns"});case 3:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),qe=function(){var e=l(u().m(function e(){var n,t;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,oe();case 1:return n=e.v,e.n=2,d({request:ce({index:Te.value}),message:!1});case 2:t=e.v,n._props.onCancel(),Me.value=!1,!0===t.status?Re(t):ae({msg:t.data},[],{auth_type:"dns"});case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=l(u().m(function e(n){return u().w(function(e){for(;;)switch(e.n){case 0:d({loading:"正在部署证书，请稍候...",request:p({domain:n.domains[0],key:n.private_key,csr:n.cert+n.root}),message:!0,success:function(e){!0===e.status&&(s.success("证书部署成功"),Oe.value(),fe())}});case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),Ue=H([{label:"解析域名",prop:"domain"},{label:"记录值",prop:"auth_value",render:function(e,n){var t=e.auth_value;return q("div",{class:"flex items-center"},[q("div",{class:"truncate w-[15rem]"},[t]),q("span",{class:"svgtofont-icon-copy ml-[4px] text-secondary text-medium w-[1.6rem] cursor-pointer",onClick:function(){return o({value:t})}},null)])}},{label:"类型",prop:"type",render:function(e,n){q("span",null,[e.type])}},{label:"必需",prop:"must",width:100}]),Ge=H([{text:"解析域名需要一定时间来生效,完成所以上所有解析操作后,请等待1分钟后再点击验证按钮"},{text:""},{text:"若您使用的是宝塔云解析插件,阿里云DNS,DnsPod作为DNS,可使用DNS接口自动解析"}]),Be=function(){var e=l(u().m(function e(n){var t,r,a;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t={search_limit:n.search_limit||0,search_name:n.search||"",force_refresh:1},e.n=1,d({request:se(t)});case 1:return r=e.v,a=r.data,v(a)||s.request(a),e.a(2,{data:a,total:0,other:{}});case 2:return e.p=2,e.v,e.a(2,{data:[],total:0,other:{}})}},e,null,[[0,2]])}));return function(n){return e.apply(this,arguments)}}(),He=function(){var e=l(u().m(function e(t){var r,a,o,i,s,f;return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,c(function(){return Promise.resolve().then(function(){return Ze})},void 0,n.meta.url);case 1:a=e.v,o=a.MAIL_DOMAIN_SSL,i=o(),s=C(i),f=s.menuData,d({loading:"正在部署证书，请稍候...",message:!0,request:m({ssl_hash:t.hash,domain:null===(r=f.value)||void 0===r?void 0:r.row.domain}),success:function(){var e=l(u().m(function e(n){return u().w(function(e){for(;;)switch(e.n){case 0:n.status&&(fe(),Oe.value());case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}()});case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),Fe={class:"p-[12px] border-[1px] w-[50rem] h-[22rem] flex flex-col overflow-auto rounded-small border-light checkGroup"},We={class:"w-[41rem] flex items-center justify-between"},ze={class:"p-[1.5rem]"},Xe={class:"ml-[.4rem] text-danger"},Je={class:"max-h-[38rem] overflow-auto"},Qe={key:0,class:"flex justify-end"},$e=D({__name:"apply",setup:function(e){var n=Ye(),t=C(n).menuData;Oe.value=P("popupClose");var r,a=H([{content:"如开启后无法使用HTTPS访问，请检查安全组是否正确放行443端口"},{content:function(){return q("span",null,[U("在DNS验证中，我们提供了多种自动化DNS-API，并提供了手动模式-"),q("span",{class:"bt-link",onClick:function(){y(),h.push({name:"domain"})}},[U("点击添加DNS接口")])])}},{content:"使用DNS接口申请证书可自动续期，手动模式下证书到期后需重新申请"}]),o=b({data:Le,options:function(e){return W(function(){return[{type:"radio",label:"验证方法",key:"resource",options:[{label:"DNS验证(支持通配符)",value:"1"}]},{type:"custom",render:function(){return q(_,{label:" "},{default:function(){return[q(z,{modelValue:e.value.auth_to,"onUpdate:modelValue":function(n){return e.value.auth_to=n}},{default:function(){return[U(" 手动解析 ")]}})]}})}},{type:"custom",render:function(){return q(_,{label:" "},{default:function(){return[q(z,{modelValue:e.value.autoWildcard,"onUpdate:modelValue":function(n){return e.value.autoWildcard=n}},{default:function(){return[U("自动组合泛域名")]}}),q("div",{class:"text-small"},[U("* 如需申请通配符域名请勾选此项，且不要在下方域名列表中选中泛域名")])]}})}},{type:"slots",key:"domain"},{type:"custom",render:function(){return q(_,{label:" "},{default:function(){return[q(B,{type:"primary",onClick:function(){return s()}},{default:function(){return[U("申请证书")]}})]}})}},{type:"help",options:a.value}]})},submit:(r=l(u().m(function e(n){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ne(n);case 1:return e.a(2,e.v)}},e)})),function(e){return r.apply(this,arguments)})}),c=o.BtForm,s=o.submit,f=o.param;return X(function(){Le.checkList=[],Le.auth_to=!1,Le.autoWildcard=!1,Le.domain=[],Ve()}),function(e,n){var r=B,u=$,a=K,o=g,l=re,s=w,d=j;return A(),L(J,null,[q(M(c),{class:"p-2rem"},{domain:V(function(){return[q(a,{label:"域名"},{default:V(function(){return[N("div",Fe,[q(u,{class:"flex flex-col",modelValue:M(f).checkList,"onUpdate:modelValue":n[0]||(n[0]=function(e){return M(f).checkList=e})},{default:V(function(){return[(A(!0),L(J,null,Q(M(Ae),function(e,u){return A(),L("div",{class:"flex flex-col",key:u},[(A(),T(M(z),{class:"w-full !mx-0 mb-[4px] overflow-hidden",value:e,key:e,border:""},{default:V(function(){var u;return[N("div",We,[N("span",null,I(e),1),null!==(u=M(t))&&void 0!==u&&u.row.dns_id||M(Le).auth_to?E("",!0):(A(),T(r,{key:0,type:"primary",size:"small",class:"ml-auto"},{default:V(function(){return i(n[2]||(n[2]=[U(" 配置DNS ",-1)]))}),_:1}))])]}),_:2},1032,["value"]))])}),128))]}),_:1},8,["modelValue"])])]}),_:1})]}),_:1}),q(d,{modelValue:M(Me),"onUpdate:modelValue":n[1]||(n[1]=function(e){return R(Me)?Me.value=e:null}),area:70,title:"手动解析TXT记录"},{default:V(function(){return[N("div",ze,[n[5]||(n[5]=U(" 请按以下列表做TXT解析: ",-1)),N("span",Xe,I(M(Pe)),1),q(l,null,{content:V(function(){return[N("div",Je,[(A(!0),L(J,null,Q(M(De),function(e,t){return A(),L(J,null,[e.data.length?(A(),L("div",{key:t},[N("span",null,"验证域名："+I(e.domain),1),q(o,{class:"my-[1rem]",column:M(Ue),data:e.data},null,8,["column","data"]),M(Ce)?(A(),L("div",Qe,[q(r,{type:"default",onClick:function(n){return M(Ee)(e)}},{default:V(function(){return i(n[3]||(n[3]=[U("验证",-1)]))}),_:1},8,["onClick"])])):E("",!0)])):E("",!0)],64)}),256))])]}),"footer-right":V(function(){return[M(Ce)?E("",!0):(A(),T(r,{key:0,type:"default",onClick:M(qe)},{default:V(function(){return i(n[4]||(n[4]=[U("验证",-1)]))}),_:1},8,["onClick"]))]}),_:1}),q(s,{list:M(Ge),listStyle:"disc",class:"ml-[20px]"},null,8,["list"])])]}),_:1},8,["modelValue"])],64)}}}),Ke=D({__name:"folder",setup:function(e){var n=S({request:Be,columns:[{label:"域名",prop:"subject",render:function(e){var n;return Y("div",{class:"whitespace-pre-wrap"},(null===(n=e.dns)||void 0===n?void 0:n.join("\n"))||e.subject)}},{label:"到期时间",prop:"not_after"},{label:"品牌",prop:"info.issuer",showOverflowTooltip:!0},{label:"位置",render:function(e){return e.cloud_id>0?"云端":"本地"}},de([{onClick:He,title:"部署"}])]}),t=n.BtTable;n.BtSearch,n.BtTableSelect,n.refresh;return function(e,n){return A(),L("div",null,[q(M(t),{"max-height":500})])}}}),Ye=Z("MAIL_DOMAIN_SSL",function(){var e=H("other"),n=[{type:"other",title:"当前证书",component:je},{type:"apply",title:"申请证书",component:$e},{type:"folder",title:"证书夹",component:Ke}],t=H(""),r=H(""),a=H(),o=W(function(){var e;return((null===(e=a.value)||void 0===e||null===(e=e.row)||void 0===e?void 0:e.ssl_info.dns)||[]).join(", ")}),i=function(){var e=l(u().m(function e(n){var o,l,i,c;return u().w(function(e){for(;;)switch(e.n){case 0:if(t.value&&""!==t.value&&r.value&&""!==r.value){e.n=1;break}return s.error("证书不能为空"),e.a(2);case 1:return e.n=2,p({domain:null===(o=a.value)||void 0===o?void 0:o.row.domain,key:t.value,csr:r.value});case 2:if(l=e.v,i=l.data,s.request(i),!i.status){e.n=3;break}null===(c=a.value)||void 0===c||c.onRefresh(),n(),e.n=4;break;case 3:return e.a(2,!1);case 4:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),c=function(){var e=l(u().m(function e(n){var o,l,i,c;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,k({title:"确认删除",content:"是否删除SSL证书?"});case 1:return e.n=2,x({domain:null===(o=a.value)||void 0===o?void 0:o.row.domain,key:t.value,csr:r.value});case 2:if(l=e.v,i=l.data,s.request(i),!i.status){e.n=3;break}null===(c=a.value)||void 0===c||c.onRefresh(),n(),e.n=4;break;case 3:return e.a(2,!1);case 4:e.n=6;break;case 5:e.p=5,e.v;case 6:return e.a(2)}},e,null,[[0,5]])}));return function(n){return e.apply(this,arguments)}}();return{menu:e,menus:n,menuData:a,initMenu:function(e){a.value={row:e.row,onRefresh:function(){e.onRefresh&&e.onRefresh()}},e.row.ssl_status&&(t.value=e.row.ssl_info.key,r.value=e.row.ssl_info.src)},keys:t,crt:r,domains:o,onSave:i,onDel:c}}),Ze=Object.freeze(Object.defineProperty({__proto__:null,MAIL_DOMAIN_SSL:Ye,default:Ye},Symbol.toStringTag,{value:"Module"})),en={class:"h-full p-16px"};e("default",D({__name:"index",props:{compData:{}},setup:function(e){var n=C(Ye()),t=n.menu,r=n.menuData,u=Ye(),a=u.initMenu,o=u.menus;return a(e.compData),function(e,n){var u=te,a=O;return A(),L("div",en,[q(a,{modelValue:M(t),"onUpdate:modelValue":n[0]||(n[0]=function(e){return R(t)?t.value=e:null}),type:"card"},{default:V(function(){return[(A(!0),L(J,null,Q(M(o),function(e){return A(),T(u,{key:e.type,label:e.title,name:e.type},{default:V(function(){return[(A(),T(ee(e.component),ne({ref_for:!0},M(r)),null,16))]}),_:2},1032,["label","name"])}),128))]}),_:1},8,["modelValue"])])}}}))}}})}();
