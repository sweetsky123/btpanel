import{c as s,r as a,v as t,I as e,J as l,z as n,x as o,y as u,A as p,e as m,R as r,ap as c,b2 as i}from"./base-lib.js?v=1763689792";import{Q as d,M as g,$ as x}from"./utils-lib.js?v=1763689792";import{getHttpsInfo as S,setHttpsMode as v,setGlobalHttp2https as _}from"./site.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";const h={class:"p-[20px]"},T=s({__name:"anti-channel-site",setup(s){const T=a([{content:"开启后可以解决HTTPS窜站的问题"},{content:"不支持IP证书的防窜，直接使用IP访问的勿开"}]),V=a([{content:"开启后将在网站新部署SSL证书时生效"},{content:"不影响已部署SSL的网站"}]),b=a(),j=a(),y=a(!1),P=async s=>{const a=await d({loading:"正在设置，请稍后...",request:v(),message:!0});b.value=a.status?s:!s},f=async s=>{const a=await d({loading:"正在设置，请稍后...",request:_({status:s?1:0}),message:!0});j.value=a.status?s:!s};return t(()=>{d({loading:y,request:S(),success:s=>{s.status?(b.value=s.data.data.https_mode,j.value=s.data.data.http2https):g.error(s.msg)}})}),(s,a)=>{const t=c,d=x,g=i,S=e("bt-loading");return l((o(),u("div",h,[a[2]||(a[2]=p("span",{class:"mr-[12px]"},"HTTPS防窜站",-1)),m(t,{modelValue:n(b),"onUpdate:modelValue":a[0]||(a[0]=s=>r(b)?b.value=s:null),onChange:P},null,8,["modelValue"]),m(d,{class:"ml-[20px] my-[20px]",options:n(T)},null,8,["options"]),m(g),a[3]||(a[3]=p("span",{class:"mr-[12px]"},"部署SSL后自动开启HTTPS",-1)),m(t,{modelValue:n(j),"onUpdate:modelValue":a[1]||(a[1]=s=>r(j)?j.value=s:null),onChange:f},null,8,["modelValue"]),m(d,{class:"ml-[20px] my-[20px]",options:n(V)},null,8,["options"])])),[[S,n(y)]])}}});export{T as default};
