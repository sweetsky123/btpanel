import{c as t,x as s,y as e,A as a,L as l,z as n,D as o,B as r,G as i,e as c,C as p,O as d,bP as m,bO as u,H as x}from"./base-lib.js?v=1763689792";import{B as f,Q as _,l as v,$ as y,_ as b}from"./utils-lib.js?v=1763689792";import{p as j,s as g,a as k,e as w,r as C}from"./index9.js?v=1763689792";import{a5 as h}from"./config.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index123.js?v=1763689792";import"./form-item.js?v=1763689792";import"./index110.js?v=1763689792";import"./useMethod2.js?v=1763689792";import"./useController2.js?v=1763689792";const L={class:"p-2rem"},P={class:"w-[56rem]"},z={class:"text-extraLarge font-bold flex items-center justify-center"},B={key:0,class:"text-base text-secondary my-[1.2rem] flex flex-col justify-center items-center"},D={class:"flex flex-col leading-[22px]"},H={key:0,class:"text-base text-white bg-darkPrimary p-[12px] flex flex-col relative"},I={key:2,class:"flex flex-col"},O={class:"flex justify-end mt-[1.2rem]"},q=b(t({__name:"migrate-progress",emits:["close"],setup(t,{emit:b}){const q=b,A=()=>{let t="目标服务器信息：".concat(g.value.panel_addr,"\n目标服务器登录账号：").concat(g.value.panel_user,"\n目标服务器登录密码：").concat(g.value.panel_password);f({value:t})},G=async()=>{await _({loading:"正在记录信息，请稍后...",request:h()}),q("close")};return(t,f)=>{const _=m,b=u,h=y,M=v,Q=x;return s(),e("div",L,[a("div",P,[a("div",z,[a("i",{class:l(["!text-titleLarge mr-[12px]",{"text-dangerDark svgtofont-el-circle-close-filled":3===n(j).status,"text-primary svgtofont-el-success-filled":2===n(j).status}])},null,2),o(" 宝塔面板迁移"+r(2===n(j).status?"成功":"失败"),1)]),2===n(j).status?(s(),e("div",B,[...f[1]||(f[1]=[a("span",null," 备份数据已上传至新服务器，还原任务已在新服务器运行 ",-1),a("span",null," 进度请在新服务器中的【面板设置】-【备份还原】中查看 ",-1)])])):i("",!0),a("div",D,[n(g).panel_addr?(s(),e("pre",H,[f[2]||(f[2]=o("\t\t\t\t\t",-1)),a("span",null,"目标服务器信息："+r(n(g).panel_addr),1),f[3]||(f[3]=o("\n\t\t\t\t\t",-1)),a("span",null,"目标服务器登录账号："+r(n(g).panel_user),1),f[4]||(f[4]=o("\n\t\t\t\t\t",-1)),a("span",null,"目标服务器登录密码："+r(n(g).panel_password),1),f[5]||(f[5]=o("\n\t\t\t\t\t",-1)),a("i",{class:"svgtofont-el-document-copy text-white !text-base cursor-pointer absolute right-[12px] top-[8px]",onClick:A}),f[6]||(f[6]=o("\n\t\t\t\t",-1))])):i("",!0)]),c(b,{title:!1,column:1,size:"small",border:"",class:"my-[1.2rem] table-descriptions"},{default:p(()=>[a("div",null,[c(_,{label:"开始时间："},{default:p(()=>[o(r(n(g).start_time),1)]),_:1}),c(_,{label:"最后更新时间："},{default:p(()=>[o(r(n(g).last_update),1)]),_:1})])]),_:1}),2===n(j).status?(s(),d(h,{key:1,class:"ml-[20px] my-[20px]",options:[{content:"如需还原宝塔防火墙/监控报表/系统架构/防篡改插件，请尽快登录面板绑定宝塔用户及升级为专业版/企业版，否则将无法还原相关插件数据"},{content:"如果迁移了节点管理数据，请在节点面板中添加新机器的IP白名单"},{content:"如第一次还原数据不完整，可尝试第二次进行还原"}]})):i("",!0),3===n(j).status?(s(),e("div",I,[c(M,{column:n(k),data:n(w)},null,8,["column","data"]),a("div",O,[c(Q,{type:"danger",onClick:f[0]||(f[0]=t=>(C(),void q("close")))},{default:p(()=>[...f[7]||(f[7]=[o("重试",-1)])]),_:1})])])):i("",!0),a("div",{class:"w-full flex justify-end"},[a("span",{class:"bt-link mt-[0.8rem]",onClick:G},"我已记录信息，关闭弹窗")])])])}}}),[["__scopeId","data-v-75706770"]]);export{q as default};
