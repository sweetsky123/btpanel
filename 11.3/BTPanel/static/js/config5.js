import{e}from"./utils-lib.js?v=1763689792";import{s as a,w as t,x as s}from"./api.js?v=1763689792";import{c as r,z as l,r as o,o as c,v as i,x as d,y as p,O as m,G as n,A as u,D as A,e as g,C as I}from"./base-lib.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";const D={class:"tx_key_bind px-[2rem] py-[4rem]"},f={class:"flex items-center gap-1rem"},y={class:"leading-2rem text-base px-[2rem]"},h=r({__name:"config",props:{compData:{default:()=>({})}},setup(r){const h=r,{BtInput:w,BtInputIcon:k,ElFormItem:E,ElForm:v,ElAlert:b,ElButton:P}=l(h.compData.dependencies.components),{useAxios:j,useMessage:x,useConfirm:V}=l(h.compData.dependencies.hooks);l(h.compData.dependencies.utils);const F=x(),Y=o(),Z=c({appid:h.compData.appId||"",secretId:h.compData.secretId||"",secretKey:h.compData.secretKey||""}),R=c({appid:[{required:!0,message:"请输入APPID",trigger:"blur"}],secretId:[{required:!0,message:"请输入SecretId",trigger:"blur"}],secretKey:[{required:!0,message:"请输入SecretKey",trigger:"blur"}]}),C=async()=>{await Y.value.validate();try{const e=F.load("正在关联密钥，请稍后..."),a=await t({appid:Z.appid,secretId:Z.secretId,secretKey:Z.secretKey});e.close(),F.request(a),a.status&&window.location.reload()}catch(e){}};return i(()=>{a(j)}),(a,t)=>{const o=e;return d(),p("div",D,[r.compData.tips||r.compData.alert?(d(),m(l(b),{key:0,type:"error",description:r.compData.tips||r.compData.alert,class:"!mb-1.6rem",closable:!1},null,8,["description"])):n("",!0),t[8]||(t[8]=u("div",{class:"tx_key_title"},[u("span",{class:"flex items-center justify-center"},[u("img",{class:"w-[3.5rem] h-[2.5rem] mr-4x",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAZCAYAAAC/zUevAAADk0lEQVRIS62WXWxTZRjHf88pqxIjIjXxA4k4nCLGTEagg0SF6IWYYEBCL8hgDjPR8O1HxCu3GyBe6NhClJigWPBmQYyIMXwkM4R1JUHDyJiDTpBGjVlWErMLieM85j3nrJx2bU/38d40fd//8+/vPM9znrfCWNcWnY+wBJgP1Hif3cBFIIXFflrkr7HYStni7Todm3dR3kG4s0Tcn8DnY4EpD2KzrsRiF/Bk2dDQh8XrtMjZoJhgiO36DDangRk+s6MIpxjmF/ZJgh1aic08lDeAFT7dDZR62uRYKZDSEG4JfgSijolwHGUXrdJZ1HSbrkbZD0Q8TQaLBbTItWIxpSG2aiuwxQv+HXiOVrkelF7c5v0eeMiD/5K90jBeiDTwsBOsrKZNvgkEGBFs1Z3AbuAm0I1FrFg2imdisy7H4gcPoIM2WVY2wIhwk9YQ5hqfSGZ8PbHD/o57/htkKPQAFfbX7A7HxwxhAg7rvdhUE6KXtfJ3IY/cTHRdmQYcAFkEzMoN0CNIaC/RyjOBMHF9EJuNWLwKPJ3VK2mEcwgbqJN/RvZvQyR6ZyMVXwHPlvwR1WYWVzUV1RzUJkI0ol5TFhaeYZj1NLhvjAuR7I2gU06DVOfFdACPZ7t85LAYiAGw+DAwU67gAjYvUC+DHkTqU5Q3fcEbCetRaqoGnL1EqhFxJuZ9WY1IE9E5zdnv+QBKPxYfc4tT2FyngkrgFdR5Y9wlfEadvCUkU+tRDmYPah8r/MYkf6tG7RZgqae9jNyKEX3iAvkAQjthNhET9yHyV1zVt1UvdKW+AF7z0D6gds6eounsTE9F/m0FWQf6EourOgoC1EmsZEniasa7maomG3EhkTLdutDZCFlzWVjZF1jTc1efZ9GjP40LwJgfUnPP9Di/o3QLyf4hVO9yNoqVohBVoRIEZcDv4yuJKcdVYLZLpcucFAetiQL4MyH0GIjjwMseROkZYEQTBTAecTWX2QGvJ9oNxEfAe7cfvuIpah+5VDAZkwHgQgwBbgvYNAud6RlYN89nS+KUxW5Ap55kyaw/sjATBTik07B5EcH8PZjp+X7LOlnlzoTE5ShidY1+eukGzZCJDDA4fY3vPLhvcs3uBhaM8r+DCDHJ+O6O/vcRHT0jMpH2PICgti3nvI9hVtIgvxpx7nRMXlmDytvmZXWcJh/gBDYJ6iXnAiw8ont6wqTvb2Qg4g6UyVjCz/7r22/5P8qBPGWz9M1HAAAAAElFTkSuQmCC"}),A("关联腾讯云API密钥")]),u("span")],-1)),g(l(v),{ref_key:"configFormRef",ref:Y,rules:l(R),"label-position":"right","label-width":"100px","hide-required-asterisk":true,"show-message":true,model:l(Z),class:"demo-form-inline mb-2rem"},{default:I(()=>[g(l(E),{label:"APPID",prop:"appid"},{default:I(()=>[g(l(w),{modelValue:l(Z).appid,"onUpdate:modelValue":t[0]||(t[0]=e=>l(Z).appid=e),width:"24.8rem",placeholder:"请输入APPID"},null,8,["modelValue"])]),_:1}),g(l(E),{label:"SecretId",prop:"secretId"},{default:I(()=>[g(l(w),{modelValue:l(Z).secretId,"onUpdate:modelValue":t[1]||(t[1]=e=>l(Z).secretId=e),width:"24.8rem",placeholder:"请输入SecretId"},null,8,["modelValue"])]),_:1}),g(l(E),{label:"SecretKey",prop:"secretKey"},{default:I(()=>[g(l(w),{modelValue:l(Z).secretKey,"onUpdate:modelValue":t[2]||(t[2]=e=>l(Z).secretKey=e),width:"24.8rem",class:"password",placeholder:"请输入SecretKey"},null,8,["modelValue"])]),_:1}),g(l(E),{label:" "},{default:I(()=>[u("div",f,[g(l(P),{type:"primary",onClick:C},{default:I(()=>[...t[4]||(t[4]=[A("关联API密钥",-1)])]),_:1}),h.compData.isEdit||r.compData.tips?(d(),m(l(P),{key:0,type:"define",onClick:t[3]||(t[3]=e=>(async()=>{try{await V({title:"解绑腾讯云API密钥",content:"是否取消关联腾讯云API密钥,是否继续？"});const e=F.load("正在取消关联密钥，请稍后..."),a=await s();e.close(),F.request(a),a.status&&window.location.reload()}catch(e){}})())},{default:I(()=>[...t[5]||(t[5]=[A("取消关联密钥",-1)])]),_:1})):n("",!0)])]),_:1})]),_:1},8,["rules","model"]),t[9]||(t[9]=u("div",{class:"leading-2rem text-base mb-[0.5rem] px-[2rem]",style:{color:"red"}},"温馨提示：请确保当前关联的密钥是本服务器的，如果不一致，将会导致数据获取异常和不正确，请须知",-1)),u("div",y,[t[7]||(t[7]=A("您正在使用宝塔面板腾讯云联合定制版，请关联您的腾讯云API密钥，如何获取腾讯云API密钥，",-1)),g(o,{href:"https://console.cloud.tencent.com/cam/capi",target:"_blank",class:"btlink"},{default:I(()=>[...t[6]||(t[6]=[A("点击查看",-1)])]),_:1})])])}}});export{h as default};
