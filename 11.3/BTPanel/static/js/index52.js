import{u as e}from"./index114.js?v=1763689792";import{u as t,a,g as s,b as l,c as n,d as o,e as i,f as r,h as p,o as m,i as u,j as c,k as d,s as _,l as f,m as v}from"./useStore9.js?v=1763689792";import{u as b,b3 as x,an as P,V as T,ao as h,cN as j,cM as y,B as F,n as k,H as g,ap as E,e as I,M as w}from"./utils-lib.js?v=1763689792";import{_ as B}from"./index109.js?v=1763689792";import{_ as D}from"./index113.js?v=1763689792";import{_ as R}from"./index110.js?v=1763689792";import{u as C}from"./index147.js?v=1763689792";import{_ as L}from"./index137.js?v=1763689792";import{r as O,p as q,c as A,e as V,F as M,v as S,x as H,y as z,z as N,C as Z,A as W,B as G,D as J,a8 as K,O as Q}from"./base-lib.js?v=1763689792";import{a as U,i as X,b as Y,j as $,d as ee,k as te,g as ae,u as se}from"./column.js?v=1763689792";import{p as le}from"./validator.js?v=1763689792";import{B as ne}from"./index138.js?v=1763689792";import"./index115.js?v=1763689792";import"./index116.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index131.js?v=1763689792";import"./index.vue_vue_type_style_index_0_scoped_cdc7f4d3_lang.js?v=1763689792";import"./index107.js?v=1763689792";const oe=A({__name:"index",setup(e){const{serverIp:v,mainHeight:K,payment:Q}=b(),{ftpPort:oe,rowData:ie,pluginInfo:re,isRefreshFtpList:pe}=t(),{isEdit:me}=a(),ue=e=>(ie.value=e,me.value=!!e,k({title:"".concat(e?"修改FTP用户【".concat(e.name,"】"):"添加FTP用户"),area:50,btn:"".concat(e?"保存":"确认"),compData:e||{},component:()=>g(()=>import("./index329.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})),ce=(e,t=!1)=>{"ltd"===Q.value.authType?de(e):le({sourceId:t?260:52})},de=e=>{ie.value=e,k({title:"【".concat(e.name,"】FTP配额容量"),area:50,btn:!0,compData:e,component:()=>g(()=>import("./index331.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})},_e=(e=!0)=>{f.value=e,k({title:"FTP日志扫描工具",area:[70,52],component:()=>g(()=>import("./index333.js?v=1763689792").then(e=>e.k),__vite__mapDeps([]),import.meta.url)})},fe=C({key:"type_id",name:"FTP分类",options:()=>[{label:"全部分类",value:"all"}],event:{get:n,add:o,update:i,delete:r}}),ve=[{name:"容量限制",callback:()=>{if(0===Be.data.length)return w.error("暂无FTP用户，请先添加FTP用户");ce(Be.data[0],!0)}},{name:"FTP日志分析",callback:_e}],{BtOperation:be}=x({options:[{type:"button",label:"添加FTP",active:!0,onClick:()=>ue()},{type:"button",label:"修改FTP端口",onClick:()=>{k({title:"修改FTP端口",area:40,btn:!0,component:()=>g(()=>import("./index332.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})}},{type:"button",label:"FTP日志分析",onClick:()=>_e(!1)},{type:"divider"},{type:"custom",render:()=>V(ne,{class:"ml-1rem",isRequest:!1,pluginInfo:re.value},null)}]}),xe=E([{label:"启用FTP",value:"start",event:d},{label:"停用FTP",value:"stop",event:d},{label:"改密FTP",value:"exitPaw",event:async(e,t,a,s,l,n)=>{ie.value={selectedList:a,clearSelection:l,config:n},await k({title:"批量修改FTP密码",area:"auto",btn:!0,compData:{selectedList:a,clearSelection:l,config:n},component:()=>g(()=>import("./index336.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})}},{label:"设置分类",value:"setClass",event:async(e,t,a,s,l,n)=>{_(a,l,Ie,n)}},{label:"删除FTP",value:"delete",event:d}]),{BtTable:Pe,BtPage:Te,BtRecommendSearch:he,BtRefresh:je,BtColumn:ye,BtBatch:Fe,BtTableCategory:ke,BtErrorMask:ge,tableRef:Ee,classList:Ie,refresh:we,config:Be}=P({request:e=>("all"===e.type_id&&(e.type_id=""),s(e)),columns:[U({type:"page",key:"id"}),{label:"用户名",prop:"name",minWidth:120},X({width:160}),Y({event:p,data:["已停用","已启用"]}),$({label:"快速连接",width:80,title:"复制快速连接信息",text:"点击查看",event:e=>{ie.value=e,k({title:"快速连接",area:48,compData:e,component:()=>g(()=>import("./index335.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})}}),ee(),{label:"密码有效期",isCustom:!0,width:120,title:"设置密码有效期",prop:"end_time",render:e=>{let{isOrange:t,isEnd:a}=l(e);return V("span",{onClick:()=>{ie.value=e,(e=>{k({title:"设置密码有效期",area:46,btn:!0,compData:e,component:()=>g(()=>import("./index330.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})})(e)},title:"设置密码有效期",style:"color:#".concat(a?"ef0808":t?"f0ad4e":"20a53a",";cursor:pointer")},["0"!==e.end_time?T(Number(e.end_time),"yyyy-MM-dd"):"永久"])}},te({event:ce,width:100}),ae({table:"ftps",width:"auto"}),se([{onClick:e=>{ie.value=e,k({title:"修改FTP权限配置-[".concat(e.name,"]"),area:72,btn:"保存",compData:e,component:()=>g(()=>import("./index334.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})},title:"配置"},{onClick:ue,title:"修改"},{onClick:m,title:"日志"},{onClick:u,title:"删除"}])],extension:[fe,xe,h(pe),j("search",{name:"ftps",list:ve}),y()]}),{BtSoftInstallMask:De,checkInstallRequest:Re}=(e=>{if(!e.request&&!e.options)throw new Error("请传入request或者options参数");const t=O({name:"",version:"",setup:!1,status:!1,title:e.name||""}),a=q("_".concat(e.name,"_mask"),!1),s=async()=>{if(!e.request)return;const s=await e.request();t.value=s,a.value=!t.value.setup};return(null==e?void 0:e.extension)&&e.extension.length&&(null==e||e.extension.forEach(e=>{e.install(t.value)})),(null==e?void 0:e.options)&&(t.value=e.options,a.value=!t.value.setup),{init:async()=>(await s(),{BtSoftInstallMask:A(()=>()=>t.value.setup?null:V(L,{options:t.value},null))}),checkInstallRequest:s,BtSoftInstallMask:()=>V(M,null,[a.value?V(L,{options:t.value},null):null])}})({request:c,name:"Pure-FTPd",extension:[]});return S(Re),(e,t)=>{const a=R,s=I,l=D,n=B;return H(),z(M,null,[V(N(De)),V(N(ge)),V(l,{class:"!mb-[12px]",closable:!1,type:"info","show-icon":""},{title:Z(()=>[t[2]||(t[2]=W("span",null,"当前FTP地址为：",-1)),W("span",{class:"cursor-pointer",title:"点击复制FTP路径",onClick:t[0]||(t[0]=e=>N(F)({value:"ftp://".concat(N(v),":").concat(N(oe))}))}," ftp://"+G(N(v)||"IP地址")+":"+G(N(oe)||"端口"),1),V(a),V(s,{target:"_blank",class:"bt-link",href:"https://download.bt.cn/win/filezilla/FileZilla-setup.exe"},{default:Z(()=>[...t[1]||(t[1]=[J(" 下载FTP连接工具(FileZilla, 免费开源) ",-1)])]),_:1})]),_:1}),V(n,null,{"header-left":Z(()=>[V(N(be))]),"header-right":Z(()=>[V(N(ke),{class:"!w-[140px] mr-[10px]"}),V(N(he),{type:"ftps",placeholder:"请输入FTP用户/备注",class:"!w-[270px] mr-[10px]"}),V(N(je),{class:"mr-[10px]"}),V(N(ye))]),content:Z(()=>[V(N(Pe),{"min-height":N(K)},null,8,["min-height"])]),"footer-left":Z(()=>[V(N(Fe))]),"footer-right":Z(()=>[V(N(Te))]),_:1})],64)}}}),ie=A({__name:"index",setup(t){const{BtRouterTabs:a}=e({level:!0});return K(()=>{v()}),(e,t)=>(H(),Q(N(a),null,{default:Z(()=>[V(oe)]),_:1}))}});export{ie as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
