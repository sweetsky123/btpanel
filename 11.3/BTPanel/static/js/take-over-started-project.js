import{_ as a}from"./index109.js?v=1763689792";import{V as e,Q as s,P as l,l as t,b as o}from"./utils-lib.js?v=1763689792";import{_ as r}from"./index130.js?v=1763689792";import{c as i,r as n,o as d,v as c,I as m,x as u,y as p,e as h,C as f,z as j,R as v,D as _,J as g,W as b,al as w,aj as x}from"./base-lib.js?v=1763689792";import{processForCreate as V,processInfoForCreate as y}from"./site.js?v=1763689792";import{u as D}from"./column.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index110.js?v=1763689792";const k={class:"p-[16px]"},C=i({__name:"take-over-started-project",props:{compData:{default:()=>{}}},emits:["close"],setup(i,{emit:C}){const P=i,T=C,q=o(),z=n("java"),I=d({list:[],search:"",loading:!1}),J=(a="")=>{I.search=a,R()},R=async()=>{I.loading=!0;const a=await s({request:V({is_java_process:"java"===z.value?1:0,search:I.search}),data:Array});I.loading=!1,I.list=a},U=b([{label:"PID",prop:"pid",width:100},{label:"启动指令",prop:"cmdline",showOverflowTooltip:!0,render:a=>{var e,s;return h("div",{class:"truncate"},[(null==(e=a.cmdline)?void 0:e.length)?null==(s=a.cmdline)?void 0:s.join(" "):"--"])}},{label:"运行用户",prop:"username",width:100},{label:"启动时间",render:a=>e(1e3*a.create_time),width:150},D([{onClick:async a=>{const e=await s({loading:"获取进程信息中...",request:y({pid:a.pid})});e.status?(q.success("获取进程信息成功"),P.compData.setProject(e.data),T("close")):q.error(e.msg)},width:100,title:"解析该进程"}])]);return c(()=>{R()}),(e,s)=>{const o=w,i=x,n=l,d=r,c=t,b=a,V=m("bt-loading");return u(),p("div",k,[h(b,null,{"header-left":f(()=>[h(i,{modelValue:j(z),"onUpdate:modelValue":s[0]||(s[0]=a=>v(z)?z.value=a:null),size:"default",onChange:R},{default:f(()=>[h(o,{value:"java"},{default:f(()=>[...s[2]||(s[2]=[_("Java进程",-1)])]),_:1}),h(o,{value:"more"},{default:f(()=>[...s[3]||(s[3]=[_("更多进程信息",-1)])]),_:1})]),_:1},8,["modelValue"])]),"header-right":f(()=>[h(n,{modelValue:j(I).search,"onUpdate:modelValue":s[1]||(s[1]=a=>j(I).search=a),placeholder:"输入关键字搜索",onSearch:J},null,8,["modelValue"]),h(d,{class:"ml-1rem",onRefresh:R})]),content:f(()=>[g(h(c,{ref:"Table",key:"netTable",column:j(U),"max-height":450,data:j(I).list,description:"进程列表为空"},null,8,["column","data"]),[[V,j(I).loading],[V,"正在加载进程列表，请稍后...","title"]])]),"footer-left":f(()=>[...s[4]||(s[4]=[])]),"footer-right":f(()=>[...s[5]||(s[5]=[])]),popup:f(()=>[...s[6]||(s[6]=[])]),_:1})])}}});export{C as default};
