!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.toStringTag||"@@toStringTag";function u(r,o,a,l){var u=o&&o.prototype instanceof c?o:c,s=Object.create(u.prototype);return n(s,"_invoke",function(r,n,o){var a,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return a=t,l=0,u=e,p.n=r,i}};function d(r,n){for(l=r,u=n,t=0;!f&&c&&!o&&t<s.length;t++){var o,a=s[t],d=p.p,m=a[2];r>3?(o=m===n)&&(u=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=d&&((o=r<2&&d<a[1])?(l=0,p.v=n,p.n=a[1]):d<m&&(o=r<3||a[0]>n||n>m)&&(a[4]=r,a[5]=n,p.n=m,l=0))}if(o||r>1)return i;throw f=!0,n}return function(o,s,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,m),l=s,u=m;(t=l<2?e:u)||!f;){a||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,a){if(l||(o="next"),t=a[o]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=a.return)&&t.call(a),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=e}else if((t=(f=p.n<0)?u:r.call(n,p))!==i)break}catch(t){a=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(r,a,l),!0),s}var i={};function c(){}function s(){}function f(){}t=Object.getPrototypeOf;var p=[][a]?t(t([][a]())):(n(t={},a,function(){return this}),t),d=f.prototype=c.prototype=Object.create(p);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,n(e,l,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,n(d,"constructor",f),n(f,"constructor",s),s.displayName="GeneratorFunction",n(f,l,"GeneratorFunction"),n(d),n(d,l,"Generator"),n(d,a,function(){return this}),n(d,"toString",function(){return"[object Generator]"}),(r=function(){return{w:u,m:m}})()}function n(e,t,r,o){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}n=function(e,t,r,o){function l(t,r){n(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[t]=r:(l("next",0),l("throw",1),l("return",2))},n(e,t,r,o)}function o(e,t,r,n,o,a,l){try{var u=e[a](l),i=u.value}catch(e){return void r(e)}u.done?t(i):Promise.resolve(i).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var l=e.apply(t,r);function u(e){o(l,n,a,u,i,"next",e)}function i(e){o(l,n,a,u,i,"throw",e)}u(void 0)})}}System.register(["./base-lib-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./column-legacy.js?v=1763689792"],function(t,n){"use strict";var o,l,u,i,c,s,f,p,d,m,h,y,v,g,b,V,_,w,x,j,S,O,E,A,U,k,C,P,T,G,I;return{setters:[function(e){o=e.c,l=e.r,u=e.o,i=e.W,c=e.v,s=e.x,f=e.y,p=e.e,d=e.C,m=e.z,h=e.R,y=e.A,v=e.J,g=e.K,b=e.D,V=e.S,_=e.ad,w=e.V,x=e.ag,j=e.H,S=e.ab},function(e){O=e._},function(e){E=e.aQ,A=e.Q,U=e.cA,k=e.lp,C=e.ag,P=e.k,T=e.ax,G=e._},function(e){I=e.f},null,null,null],execute:function(){var n={class:"container-dialog"},D={class:"flex items-center"},F={class:"mt-[2.4rem]"},q={class:"flex items-center"},z=o({__name:"container-mirror",props:{compData:{default:function(){return{}}}},setup:function(t){var o=E(),G=o.refs.currentConDetail,z=o.getCurrentCon,H=t,J=l("easy"),N=[{label:"简单模式",value:"easy"},{label:"高级模式",value:"more"}],Q=u({repository:"",tag:"latest",stash:"official",message:"",author:"",isExport:[],path:"",name:""}),R=i([]),K=l(),M={repository:[{required:!0,trigger:["blur","change"],message:"请输入镜像名"}]},W=function(){I({type:"dir",change:function(e){Q.path=e}})},$=function(){var e=a(r().m(function e(){var t;return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,K.value.validate();case 1:t={id:H.compData.row.id,repository:Q.repository,tag:Q.tag},"more"==J.value&&(t.message=Q.message,t.author=Q.author,t.repository="".concat(""!=Q.stash?Q.stash+"/":"").concat(Q.repository),Q.isExport.length>0&&(t.path=Q.path,t.name=Q.name)),A({request:k({data:JSON.stringify(t)}),message:!0,success:function(){var e=a(r().m(function e(t){return r().w(function(e){for(;;)switch(e.n){case 0:if(!t.status){e.n=2;break}return e.n=1,z(G.value.Id);case 1:J.value="easy",B();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),B=function(){Q.repository="",Q.tag="latest",Q.stash="official",Q.message="",Q.author="",Q.isExport=[],Q.path="",Q.name="",K.value.clearValidate()};return c(a(r().m(function e(){return r().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,A({request:U(),data:Array,success:function(e){R.value=e.map(function(e){return{label:e.name,value:"docker.io"===e.url?"official":e.namespace}})}});case 1:return e.a(2)}},e)}))),function(t,r){var o=C,a=_,l=P,u=T,i=w,c=x,E=O,A=j,U=S;return s(),f("div",n,[p(U,{ref_key:"cmdFormRef",ref:K,model:m(Q),rules:M,"label-position":"right",onSubmit:r[10]||(r[10]=V(function(){},["prevent"]))},{default:d(function(){return[p(a,{style:{"margin-bottom":"1.5rem"},label:"创建方式"},{default:d(function(){return[p(o,{type:"button",modelValue:m(J),"onUpdate:modelValue":r[0]||(r[0]=function(e){return h(J)?J.value=e:null}),options:N},null,8,["modelValue"])]}),_:1}),p(a,{prop:"repository",style:{"margin-bottom":"1.5rem"},label:"镜像名"},{default:d(function(){return[p(l,{modelValue:m(Q).repository,"onUpdate:modelValue":r[1]||(r[1]=function(e){return m(Q).repository=e}),width:"24rem",placeholder:"请输入镜像名"},null,8,["modelValue"])]}),_:1}),p(a,{prop:"path",label:"版本号",display:"flex"},{default:d(function(){return[y("div",D,[p(l,{modelValue:m(Q).tag,"onUpdate:modelValue":r[2]||(r[2]=function(e){return m(Q).tag=e}),width:"24rem",placeholder:"请输入版本号"},null,8,["modelValue"]),r[11]||(r[11]=y("span",{class:"ml-[1rem] text-secondary text-small whitespace-nowrap"},"默认：latest",-1))])]}),_:1}),v(y("div",null,[p(a,{prop:"path",label:"仓库地址"},{default:d(function(){return[p(u,{modelValue:m(Q).stash,"onUpdate:modelValue":r[3]||(r[3]=function(e){return m(Q).stash=e}),options:m(R),class:"!w-[24rem]",placeholder:"请选择仓库地址"},null,8,["modelValue","options"])]}),_:1}),p(a,{prop:"path",label:"描述"},{default:d(function(){return[p(l,{modelValue:m(Q).message,"onUpdate:modelValue":r[4]||(r[4]=function(e){return m(Q).message=e}),width:"24rem",placeholder:"描述"},null,8,["modelValue"])]}),_:1}),p(a,{prop:"path",label:"作者"},{default:d(function(){return[p(l,{modelValue:m(Q).author,"onUpdate:modelValue":r[5]||(r[5]=function(e){return m(Q).author=e}),width:"24rem",placeholder:"作者"},null,8,["modelValue"])]}),_:1}),y("div",F,[p(c,{modelValue:m(Q).isExport,"onUpdate:modelValue":r[6]||(r[6]=function(e){return m(Q).isExport=e}),class:"mb-[2rem] ml-[10rem]"},{default:d(function(){return[p(i,{size:"default",label:"生成镜像并导出压缩包",value:"生成镜像并导出压缩包"})]}),_:1},8,["modelValue"]),v(p(a,{label:" "},{default:d(function(){return[p(E,{modelValue:m(Q).path,"onUpdate:modelValue":r[7]||(r[7]=function(e){return m(Q).path=e}),class:"!w-[24rem]",icon:"el-folder-opened",onIconClick:W,onChangePassive:r[8]||(r[8]=function(e){Q.path=Q.path.replace(/\s+/g,"")}),placeholder:"请输入镜像路径"},null,8,["modelValue"])]}),_:1},512),[[g,m(Q).isExport.length>0]]),v(p(a,{prop:"path",label:"文件名"},{default:d(function(){return[y("div",q,[p(l,{modelValue:m(Q).name,"onUpdate:modelValue":r[9]||(r[9]=function(e){return m(Q).name=e}),width:"24rem",placeholder:"文件名"},null,8,["modelValue"]),r[12]||(r[12]=y("span",{class:"ml-[1rem]"},".tar",-1))])]}),_:1},512),[[g,m(Q).isExport.length>0]])])],512),[[g,"more"==m(J)]]),p(A,{type:"primary",class:"ml-[10rem]",onClick:$},{default:d(function(){return e(r[13]||(r[13]=[b("生成镜像",-1)]))}),_:1})]}),_:1},8,["model"])])}}});t("default",G(z,[["__scopeId","data-v-db198e42"]]))}}})}();
