!function(){var e=["document"];function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach(function(t){r(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function r(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,i,o,l=[],s=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=i.call(n)).done)&&(l.push(a.value),l.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw r}}return l}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,l(a.key),a)}}function l(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,n||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function i(n,a,r,i){var s=a&&a.prototype instanceof l?a:l,u=Object.create(s.prototype);return f(u,"_invoke",function(n,a,r){var i,l,s,u=0,c=r||[],d=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return i=t,l=0,s=e,f.n=n,o}};function m(n,a){for(l=n,s=a,t=0;!d&&u&&!r&&t<c.length;t++){var r,i=c[t],m=f.p,p=i[2];n>3?(r=p===a)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=m&&((r=n<2&&m<i[1])?(l=0,f.v=a,f.n=i[1]):m<p&&(r=n<3||i[0]>a||a>p)&&(i[4]=n,i[5]=a,f.n=p,l=0))}if(r||n>1)return o;throw d=!0,a}return function(r,c,p){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&m(c,p),l=c,s=p;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(f.n=-1),m(l,s)):f.n=s:f.v=s);try{if(u=2,i){if(l||(r="next"),t=i[r]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),l=1);i=e}else if((t=(d=f.n<0)?s:n.call(a,f))!==o)break}catch(t){i=e,l=1,s=t}finally{u=1}}return{value:t,done:d}}}(n,r,i),!0),u}var o={};function l(){}function s(){}function u(){}t=Object.getPrototypeOf;var c=[][a]?t(t([][a]())):(f(t={},a,function(){return this}),t),m=u.prototype=l.prototype=Object.create(c);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,f(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=u,f(m,"constructor",u),f(u,"constructor",s),s.displayName="GeneratorFunction",f(u,r,"GeneratorFunction"),f(m),f(m,r,"Generator"),f(m,a,function(){return this}),f(m,"toString",function(){return"[object Generator]"}),(d=function(){return{w:i,m:p}})()}function f(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}f=function(e,t,n,a){function i(t,n){f(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},f(e,t,n,a)}function m(e,t,n,a,r,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function o(e){m(i,a,r,o,l,"next",e)}function l(e){m(i,a,r,o,l,"throw",e)}o(void 0)})}}System.register(["./base-lib-legacy.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./index-legacy116.js?v=1763689792","./index-legacy110.js?v=1763689792","./index-legacy111.js?v=1763689792","./store-legacy.js?v=1763689792","./config-legacy.js?v=1763689792","./store-legacy2.js?v=1763689792","./column-legacy.js?v=1763689792","./store-legacy3.js?v=1763689792","./hooks-legacy.js?v=1763689792"],function(n,r){"use strict";var l,c,f,m,v,y,h,g,b,w,x,k,_,S,C,I,P,j,T,L,O,M,B,D,R,A,E,F,z,N,H,U,V,W,G,q,K,$,J,Z,Q,Y,X,ee,te,ne,ae,re,ie,oe,le,se,ue,ce,de,fe,me,pe,ve,ye,he,ge,be,we,xe,ke,_e,Se,Ce,Ie,Pe,je,Te,Le,Oe,Me,Be,De,Re,Ae,Ee,Fe,ze,Ne,He,Ue,Ve,We,Ge,qe,Ke,$e,Je,Ze,Qe,Ye,Xe,et,tt,nt,at,rt,it,ot,lt,st,ut,ct,dt,ft,mt,pt,vt,yt,ht,gt,bt,wt,xt,kt,_t,St,Ct,It,Pt,jt,Tt,Lt,Ot,Mt,Bt,Dt,Rt,At,Et,Ft,zt,Nt,Ht,Ut,Vt,Wt,Gt,qt,Kt,$t,Jt;return{setters:[function(e){l=e.c,c=e.r,f=e.t,m=e.v,v=e.z,y=e.x,h=e.y,g=e.A,b=e.B,w=e.G,x=e.s,k=e.g,_=e.e,S=e.C,C=e.O,I=e.P,P=e.D,j=e.L,T=e.d,L=e.aA,O=e.at,M=e.as,B=e.ar,D=e.bB,R=e.w,A=e.j,E=e.aH,F=e.n,z=e.F,N=e.b1,H=e.bC,U=e.bD,V=e.p,W=e.o,G=e.R,q=e.ap,K=e.I,$=e.N,J=e.J,Z=e.a1,Q=e.bz,Y=e.bA,X=e.H,ee=e.aY,te=e.K,ne=e.aZ,ae=e.be,re=e.aT,ie=e.M,oe=e.b6,le=e.a3,se=e.bE,ue=e.a8,ce=e.bc,de=e.bd,fe=e.bF,me=e.aK,pe=e.bG,ve=e.bH,ye=e.W,he=e.S,ge=e.by,be=e.bw,we=e.bu,xe=e.Q,ke=e.bI,_e=e.U,Se=e.ax,Ce=e.az,Ie=e.Y,Pe=e.Z,je=e.bJ,Te=e.am,Le=e.an,Oe=e.b},function(e){Me=e.u,Be=e.Q,De=e.ey,Re=e.n,Ae=e.H,Ee=e.ez,Fe=e._,ze=e.eA,Ne=e.w,He=e.a3,Ue=e.E,Ve=e.s,We=e.e,Ge=e.p,qe=e.eB,Ke=e.b,$e=e.af,Je=e.aH,Ze=e.T,Qe=e.av,Ye=e.eC,Xe=e.eD,et=e.az,tt=e.x,nt=e.aS,at=e.r,rt=e.q,it=e.eE,ot=e.eF,lt=e.l,st=e.eG,ut=e.aK,ct=e.b8,dt=e.eH,ft=e.M,mt=e.eI,pt=e.i,vt=e.bU,yt=e.aw,ht=e.V,gt=e.f,bt=e.j,wt=e.z,xt=e.O},function(e){kt=e.g,_t=e.b,St=e.e,Ct=e.ak,It=e.al,Pt=e.am,jt=e.l,Tt=e.p,Lt=e.an,Ot=e.ao,Mt=e.ap,Bt=e.aq,Dt=e.ar,Rt=e.as,At=e.f,Et=e.at,Ft=e.au},function(e){zt=e._},function(e){Nt=e._},function(e){Ht=e._},function(e){Ut=e.H},function(e){Vt=e.a8},function(e){Wt=e.H},function(e){Gt=e.b,qt=e.u,Kt=e.o},function(e){$t=e.H},function(e){Jt=e.c}],execute:function(){var Zt={class:"icon-end-time voucher-logo"},Qt={class:"ml-[4px] font-bold text-[var(--bt-pro-sub-color)]"},Yt=l({__name:"index",setup:function(e){var t=c([]),n=Me(),a=n.payment,i=n.aliyunEcsLtd,o=f(a.value),l=(o.voucherOpenTime,o.isGetCoupon),s=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:Be({request:De(),data:[Array,t]});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),u=function(){i.value||Re({area:40,component:function(){return Ae(function(){return r.import("./index-legacy338.js?v=1763689792")},void 0,r.meta.url)},customClass:"voucherFetchView",compData:{isCoupon:t.value,isHome:!0}})},x=function(){var e=p(d().m(function e(){var t;return d().w(function(e){for(;;)switch(e.n){case 0:t=new Date((new Date).toLocaleDateString()).getTime()+6048e5-1,t=Math.floor(t>0?t/1e3:t),Be({request:Ee({limit_time:t})}),l.value=!0;case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return m(function(){var e=Number(sessionStorage.getItem("voucherOpenTime"));if(-100!==e){if(e)e-Math.floor(Date.now()/1e3)<=0&&(l.value=!0,sessionStorage.removeItem("voucherOpenTime"),x());kt({promises:[s],delay:3e3})}}),function(e,n){return v(t).length>0&&!v(l)&&!v(i)?(y(),h("div",{key:0,class:"flex items-center px-[1rem] py-[.4rem] mr-[8px] rounded-small recom-bg",onClick:u},[g("span",Zt,[g("span",Qt,"您有"+b(v(t).length)+"个优惠券待领取",1)])])):w("",!0)}}}),Xt=Fe(Yt,[["__scopeId","data-v-4f516d2a"]]),en={class:"module-ui home-header"},tn={class:"home-header-left"},nn={class:"mr-[8px] flex items-center"},an={class:"cursor-pointer flex items-center mr-[4px] ml-[4px]"},rn=["title"],on={class:"block"},ln={class:"home-header-right"},sn=["title"],un={class:"flex items-center"},cn={class:"ml-2 text-xs text-info"},dn={class:"flex items-center"},fn={class:"flex items-center"},mn=l({__name:"index",setup:function(e){var t=Me(),n=t.payment,a=t.aliyunEcsLtd,i=(t.forceLtd,t.isHideAd),o=t.mainWidth,l=t.globalTheme,u=f(n.value).authType,c=T(function(){return Ae(function(){return r.import("./index-legacy339.js?v=1763689792")},void 0,r.meta.url)}),d=T(function(){return Ae(function(){return r.import("./index-legacy217.js?v=1763689792")},void 0,r.meta.url)}),p=Ut(),R=x(p),A=R.bindUser,E=R.systemInfo,F=R.panelInfo,z=R.panelVersion,N=k(function(){return ze.value}),H=function(){switch(N.value){case"auto":return"tools-adaptive-"+(Ue.value?"dark":"light");case"light":return"tools-light";case"dark":return"tools-dark"}return"tools-light"},U=function(e){Ve(e),l.value.theme.preset=e,Vt({data:JSON.stringify(l.value)})};m(function(){Ne()});var V=k(function(){return o.value<968}),W=k(function(){var e;return E.value.name?null===(e=E.value.name.split(" ")[0])||void 0===e?void 0:e.toLowerCase():""});return k(function(){return!a.value||"ltd"===n.value.authType}),function(e,t){var n=Ht,a=L,r=Nt,o=zt,l=Xt,f=We,m=O,x=M,k=B,T=D;return y(),h("div",en,[g("div",tn,[_(a,{width:"420","popper-class":"el-popover-shadow",trigger:"hover"},{reference:S(function(){return[g("div",nn,[_(n,{name:"tools-user",size:"26",class:"mr-[4px]"}),v(V)?w("",!0):(y(),h("span",{key:0,class:"user-phone",onClick:t[0]||(t[0]=function(){return v(_t)(v(A)?"切换宝塔账号":"绑定宝塔账号，享受更多服务")})},b(v(A)?v(A):"未绑定帐号，点击绑定"),1))])]}),default:S(function(){return[(y(),C(I(v(c))))]}),_:1}),_(r),_(a,{width:"280","popper-class":"el-popover-shadow"},{reference:S(function(){return[g("span",an,[_(n,{name:"system-"+v(W),size:"18",class:"mr-[4px]"},null,8,["name"]),g("span",null,b(v(E).name||"获取中"),1)])]}),default:S(function(){return[g("div",null,[g("span",{class:"!mb-4px inline-block max-w-[26rem] truncate",title:v(E).simpleName||"获取中"},"系统："+b(v(E).simpleName||"获取中"),9,rn),g("span",on," 持续运行："+b(v(F).runningDays||"获取中"),1)])]}),_:1}),v(i)?w("",!0):(y(),C(r,{key:0})),v(i)?w("",!0):(y(),C(a,{key:1,width:"580",disabled:"free"!==v(u),"show-arrow":!1,"popper-style":"padding: 0;border-radius: var(--el-border-radius-round);overflow: hidden;","popper-class":"el-product-state-popover"},{reference:S(function(){return[_(o,{"is-home":!0,"disable-pro":!0})]}),default:S(function(){return[(y(),C(I(v(d))))]}),_:1},8,["disabled"])),v(i)||v(V)?w("",!0):(y(),C(l,{key:2}))]),g("div",ln,[v(F).isBeta?(y(),C(f,{key:0,class:"mr-[16px] reset-link bug-feedback",href:"https://www.bt.cn/bbs/forum-39-1.html"},{default:S(function(){return s(t[8]||(t[8]=[P("[找Bug奖宝塔币]",-1)]))}),_:1})):w("",!0),v(V)?w("",!0):(y(),C(k,{key:1,trigger:"hover",placement:"bottom-end",onCommand:U},{dropdown:S(function(){return[_(x,null,{default:S(function(){return[_(m,{command:"auto",class:j({"is-active":"auto"===v(N)})},{default:S(function(){return[g("div",un,[_(n,{name:"tools-adaptive-"+("dark"===v(He)?"dark":"light"),size:"16",class:"mr-2"},null,8,["name"]),t[9]||(t[9]=g("span",null,"自动",-1)),g("span",cn,"("+b("dark"===v(He)?"暗色":"亮色")+")",1)])]}),_:1},8,["class"]),_(m,{command:"light",class:j({"is-active":"light"===v(N)})},{default:S(function(){return[g("div",dn,[_(n,{name:"tools-light",size:"16",class:"mr-2"}),t[10]||(t[10]=g("span",null,"亮色",-1))])]}),_:1},8,["class"]),_(m,{command:"dark",class:j({"is-active":"dark"===v(N)})},{default:S(function(){return[g("div",fn,[_(n,{name:"tools-dark",size:"16",class:"mr-2"}),t[11]||(t[11]=g("span",null,"暗色",-1))])]}),_:1},8,["class"])]}),_:1})]}),default:S(function(){return[g("div",{class:"header-operation-icon",title:"auto"===v(N)?"自动切换主题":"light"===v(N)?"切换到暗色主题":"切换到亮色主题"},[_(n,{name:H(),size:"18",class:"hob-icon"},null,8,["name"])],8,sn)]}),_:1})),v(V)?w("",!0):(y(),C(a,{key:2,width:"1",placement:"bottom",trigger:"hover"},{reference:S(function(){return[g("div",{class:"header-operation-icon",onClick:t[1]||(t[1]=function(e){return v(p).jumpRouter("ui")})},[_(n,{name:"tools-theme",size:"18",class:"hob-icon"})])]}),default:S(function(){return[t[12]||(t[12]=g("div",{class:"text-small text-center w-full"},"打开界面设置",-1))]}),_:1})),v(V)?w("",!0):(y(),C(a,{key:3,width:"1",placement:"bottom",trigger:"hover"},{reference:S(function(){return[g("div",{class:"header-operation-icon",onClick:t[2]||(t[2]=function(e){return v(p).jumpRouter("alarm")})},[_(n,{name:"tools-alarm",size:"18",class:"hob-icon"})])]}),default:S(function(){return[t[13]||(t[13]=g("div",{class:"text-small text-center w-full"},"打开告警设置",-1))]}),_:1})),v(V)?w("",!0):(y(),C(a,{key:4,width:"20",placement:"bottom",trigger:"hover"},{reference:S(function(){return[g("div",{class:"header-operation-icon",onClick:t[3]||(t[3]=function(e){return v(St)({type:7,isNoRate:!0,isCard:!0})})},[_(n,{name:"tools-feedback",size:"18",class:"hob-icon"})])]}),default:S(function(){return[t[14]||(t[14]=g("div",{class:"text-small text-center w-full"},"打开需求反馈",-1))]}),_:1})),v(V)?w("",!0):(y(),C(r,{key:5})),g("span",{class:"versionInfo mx-[8px] bt-hover-link cursor-pointer",onClick:t[4]||(t[4]=function(){var e;return v(p).histVersionInfoDialog&&(e=v(p)).histVersionInfoDialog.apply(e,arguments)})}," v"+b((v(F).isBeta?"Beta ":"")+(v(z)||"获取中")),1),_(r),_(T,{class:"mr-[8px]","is-dot":"",hidden:1!==v(F).upgrade||v(F).hideBadge},{default:S(function(){return[g("span",{class:"bt-link header-operation-btn",title:"点击获取最新版面板程序",onClick:t[5]||(t[5]=function(){var e;return v(p).updateVersionDialog&&(e=v(p)).updateVersionDialog.apply(e,arguments)})},[_(n,{name:"tools-update",size:"18",class:"hob-icon"}),t[15]||(t[15]=g("span",null,"更新",-1))])]}),_:1},8,["hidden"]),g("span",{class:"bt-link header-operation-btn mr-[8px]",title:"修复面板会获取最新的面板代码程序，包含bug修复",onClick:t[6]||(t[6]=function(){var e;return v(p).onRepair&&(e=v(p)).onRepair.apply(e,arguments)})},[_(n,{name:"tools-repair",size:"18",class:"hob-icon"}),t[16]||(t[16]=g("span",null,"修复",-1))]),g("span",{class:"bt-link header-operation-btn",title:"点击可选择重启面板或重启服务器",onClick:t[7]||(t[7]=function(){var e;return v(p).restartSeverDialog&&(e=v(p)).restartSeverDialog.apply(e,arguments)})},[_(n,{name:"tools-restart",size:"18",class:"hob-icon"}),t[17]||(t[17]=g("span",null,"重启",-1))])])])}}}),pn=Fe(mn,[["__scopeId","data-v-eb3c6045"]]),vn=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watchList=new Map;var t=Wt();this.refs=x(t),this.useHomeData()},t=[{key:"useRunCallback",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}(this.watchList.entries());try{for(t.s();!(e=t.n()).done;){var n=i(e.value,2),a=n[0],r=n[1];a in this.refs&&r(this.refs[a].value)}}catch(o){t.e(o)}finally{t.f()}}},{key:"useHomeData",value:(l=p(d().m(function e(){var t=this;return d().w(function(e){for(;;)switch(e.n){case 0:this.stopWatching=R(this.refs.isRefreshData,function(e){e&&(t.useRunCallback(),t.refs.isRefreshData.value=!1)},{immediate:!0});case 1:return e.a(2)}},e,this)})),function(){return l.apply(this,arguments)})},{key:"useSetCallback",value:function(e,t){this.watchList.set(e,t)}},{key:"stopUseHomeData",value:function(){this.stopWatching&&this.stopWatching()}},{key:"unload",value:function(){this.watchList.size>0&&this.watchList.clear(),this.stopUseHomeData()}},{key:"getFirewallStatus",value:(a=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:Re({area:45,component:function(){return Ae(function(){return r.import("./index-legacy340.js?v=1763689792")},void 0,r.meta.url)}});case 1:return e.a(2)}},e)})),function(){return a.apply(this,arguments)})}],t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,a,l}(),yn=new vn,hn=A("NOTICE-STORE",function(){var e=Me().panel,t=E(),n=c({memRealUsed:0,memTotal:0,memFree:0,memShared:0,memAvailable:0,memBuffers:0,memCached:0,memNewRealUsed:"0",memNewTotal:"0",memNewRealUsedList:[],memNewTotalList:[]}),a=c([]),r=c(!1),i=c(!1),o=c(!1),l=c(!1),s=c([]),u=c([]),f=k(function(){return 8888===e.value.port&&!e.value.noticeIgnore.port}),m=k(function(){return!(window.location.protocol.indexOf("https")>=0||e.value.noticeIgnore.https)}),v=k(function(){return r.value||i.value||f.value||m.value||o.value||l.value});yn.useSetCallback("memory",function(e){n.value=e;var t=n.value,a=t.memTotal-t.memRealUsed;r.value=a<64}),yn.useSetCallback("diskUsage",function(e){u.value=e,g()}),yn.useSetCallback("disk",function(e){a.value=e,a.value.some(function(e){return parseInt(e.data.inodes[3])>90})?(l.value=!0,s.value=[],s.value=a.value.map(function(e){if(parseInt(e.data.inodes[3])>90)return e.data.path})):l.value=!1});var y=function(){var t=p(d().m(function t(n,a){var r,i;return d().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,Ge({title:"忽略通知",content:"是否忽略".concat(a,"通知，不再提醒？")});case 1:return t.n=2,qe({name:n});case 2:r=t.v,i=r.data,e.value.noticeIgnore[n]=!0,Ke().request(i),t.n=4;break;case 3:t.p=3,t.v;case 4:return t.a(2)}},t,null,[[0,3]])}));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ge({type:"calc",title:"释放内存",content:"若您的站点处于有大量访问的状态，释放内存可能带来无法预测的后果，您确定现在就释放内存吗？"});case 1:Be({loading:"正在释放内存，请稍后...",request:Ct(),message:!0});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),g=function(){u.value&&Number(u.value[2])<524288&&(o.value=!0)};return{noticeStatus:v,memoryStatus:r,usernameStatus:i,portStatus:f,httpsStatus:m,diskFullStatus:o,inodeFullStatus:l,inodePath:s,setNoticeStatus:y,checkFullDisk:g,onClear:h,editPortInfo:function(){window.localStorage.setItem("config-dialog","port"),t.push({path:"/config/common"})},jumpConfig:function(){window.localStorage.setItem("config-dialog","ssl"),t.push({path:"/config/common"})},jumpFiles:function(){t.push({path:"/files"})}}}),gn={key:0,class:"module-ui !p-0 mx-[1.2rem] mb-[1.2rem]"},bn={class:"mr-16px"},wn=["title"],xn=l({__name:"index",setup:function(e){var t=hn(),n=x(t),a=n.noticeStatus,r=n.memoryStatus,i=n.usernameStatus,o=n.portStatus,l=n.httpsStatus,u=n.diskFullStatus,f=n.inodeFullStatus,k=n.inodePath,I=c(!1);return m(function(){t.checkFullDisk(),F(function(){var e=setInterval(p(d().m(function t(){var n;return d().w(function(t){for(;;)switch(t.n){case 0:if(!window.$extension){t.n=2;break}return t.n=1,window.$extension();case 1:n=t.v,$e(n.extensionElement)&&!n.extensionElement&&clearTimeout(e),n.extensionElement&&(n.extensionElement(),I.value=!0,clearTimeout(e));case 2:return t.a(2)}},t)})),1e3)})}),function(e,n){var c=We,d=H,m=U;return y(),h("div",null,[v(a)?(y(),h("div",gn,[_(m,{class:"playTips",height:"5.6rem",direction:"vertical"},{default:S(function(){return[v(r)?(y(),C(d,{key:1},{default:S(function(){return[n[4]||(n[4]=g("i",{class:"svgtofont-el-warning-filled mr-[8px] text-large"},null,-1)),n[5]||(n[5]=g("span",{class:"mr-[16px]"},"当前可用物理内存小于64M，这可能导致MySQL自动停止，站点502等错误，请尝试释放内存！",-1)),_(c,{type:"info",title:"该风险不可忽略，请尽快处理",class:"align-middle mr-[16px]",size:"1.4rem",disabled:!0,href:"javascript:;"},{default:S(function(){return s(n[2]||(n[2]=[P("[ 不可忽略 ]",-1)]))}),_:1}),_(c,{onClick:v(t).onClear,class:"align-middle flex items-center",size:"1.4rem"},{default:S(function(){return s(n[3]||(n[3]=[P("[ 立即清理 ]",-1)]))}),_:1},8,["onClick"])]}),_:1})):w("",!0),v(i)?(y(),C(d,{key:2},{default:S(function(){return[n[8]||(n[8]=g("i",{class:"svgtofont-el-warning-filled mr-[8px] text-large"},null,-1)),n[9]||(n[9]=g("div",{class:"mr-[16px]"},"当前面板用户为admin,这可能为面板安全带来风险！",-1)),_(c,{type:"info",title:"该风险不可忽略，请尽快处理",class:"align-middle mr-[16px]",size:"1.4rem",disabled:!0,href:"javascript:;"},{default:S(function(){return s(n[6]||(n[6]=[P("[ 不可忽略 ]",-1)]))}),_:1}),_(c,{onClick:v(It),class:"align-middle flex items-center",size:"1.4rem"},{default:S(function(){return s(n[7]||(n[7]=[P("[ 立即修复 ] ",-1)]))}),_:1},8,["onClick"])]}),_:1})):w("",!0),v(o)?(y(),C(d,{key:3},{default:S(function(){return[n[12]||(n[12]=g("i",{class:"svgtofont-el-warning-filled mr-[8px] text-large"},null,-1)),n[13]||(n[13]=g("div",{class:"mr-[16px]"},"当前面板使用的是默认端口[8888]，可能存在入侵风险，请到面板设置中修改面板端口！",-1)),_(c,{type:"info",title:"该风险可忽略，但存在一定的风险，推荐修改面板端口",class:"align-middle mr-[16px]",size:"1.4rem",onClick:n[0]||(n[0]=function(e){return v(t).setNoticeStatus("port","面板端口")})},{default:S(function(){return s(n[10]||(n[10]=[P("[ 点击忽略 ]",-1)]))}),_:1}),_(c,{onClick:v(t).editPortInfo,target:"_self",class:"align-middle flex items-center",size:"1.4rem"},{default:S(function(){return s(n[11]||(n[11]=[P("[ 立即修复 ] ",-1)]))}),_:1},8,["onClick"])]}),_:1})):w("",!0),v(l)?(y(),C(d,{key:4},{default:S(function(){return[n[16]||(n[16]=g("i",{class:"svgtofont-el-warning-filled mr-[8px] text-large"},null,-1)),n[17]||(n[17]=g("div",{class:"mr-[16px]"},"警告！当前面板使用HTTP访问，可能存在被窃取敏感信息风险，请立即开启【面板SSL】。",-1)),_(c,{type:"info",title:"该风险可忽略，但存在一定的风险，推荐开启面板SSL访问",class:"align-middle mr-[16px]",disabled:!0,size:"1.4rem",onClick:n[1]||(n[1]=function(e){return v(t).setNoticeStatus("https","面板SSL")})},{default:S(function(){return s(n[14]||(n[14]=[P("[ 点击忽略 ]",-1)]))}),_:1}),_(c,{onClick:v(t).jumpConfig,class:"align-middle flex items-center",size:"1.4rem"},{default:S(function(){return s(n[15]||(n[15]=[P("[ 立即处理 ]",-1)]))}),_:1},8,["onClick"])]}),_:1})):w("",!0),v(u)?(y(),C(d,{key:5},{default:S(function(){return[n[19]||(n[19]=g("i",{class:"svgtofont-el-warning-filled mr-8px text-large"},null,-1)),n[20]||(n[20]=g("div",{class:"mr-16px"},"警告：检测到磁盘可用空间不足，无法访问面板数据库，请前往文件管理清理",-1)),_(c,{onClick:v(t).jumpFiles,class:"align-middle",size:"1.4rem"},{default:S(function(){return s(n[18]||(n[18]=[P("[ 立即前往 ]",-1)]))}),_:1},8,["onClick"])]}),_:1})):w("",!0),v(f)?(y(),C(d,{key:6},{default:S(function(){return[n[24]||(n[24]=g("i",{class:"svgtofont-el-warning-filled mr-8px text-large"},null,-1)),g("div",bn,[n[21]||(n[21]=P(" 警告：检测到磁盘【 ",-1)),g("div",{class:"inline-block",title:v(k).join("\n")},[(y(!0),h(z,null,N(v(k),function(e,t){return y(),h("span",{key:t},b(e),1)}),128))],8,wn),n[22]||(n[22]=P(" 】Inode使用率超过90%，可用空间不足，请前往文件管理清理 ",-1))]),_(c,{onClick:v(t).jumpFiles,class:"align-middle",size:"1.4rem"},{default:S(function(){return s(n[23]||(n[23]=[P("[ 立即前往 ]",-1)]))}),_:1},8,["onClick"])]}),_:1})):w("",!0)]}),_:1})])):w("",!0),g("div",{id:"extension",class:j(v(I)?"module-ui !p-0 mx-[1.2rem] mb-[1.2rem]":"")},null,2)])}}}),kn=Fe(xn,[["__scopeId","data-v-1b882d8e"]]),_n=n("H",A("HOME-STATE-STORE",function(){var e=Wt(),t=Me(),n=t.payment,a=t.push,i=f(n.value).authType,o=c(0),l=c(12),s=c(!1),u=c(!1),m=V("colSpan",6),v=V("diskColSpan",6),y=V("stateHeight","22rem"),h=V("displayMode","single"),g=c([]),b=c("loadPopover"),w=c(!1),x=c(!0),k=c(null),S=!1,C=c([]),I=c({one:0,max:0,five:0,fifteen:0}),P=c({occupy:"",framework:"",coresOccupy:[0,0,0],cpuNumber:0,logicCores:0,cores:0,process:[0,0]}),j=c({memRealUsed:0,memTotal:0,memFree:0,memShared:0,memAvailable:0,memBuffers:0,memCached:0,memNewRealUsedList:[],memNewTotalList:[]}),T=c([]),L=W({memory:"success",cpu:"success",load:"success"}),O=c(null),M=c(!1),B=c(null),D=c(null),R=c(null),A=new Qe,E=W({type:"load",title:"负载",range:0}),F=W({type:"cpu",title:"CPU",range:0,desc:"获取中"}),z=W({type:"mem",title:"内存",range:0,desc:"0 / 0(MB)",disabled:!1});yn.useSetCallback("cpuTimes",function(e){T.value=[[{title:"用户级别的 CPU 时间百分比",name:"user",value:e.user},{title:'运行带有 "nice" 优先级的进程时使用的 CPU 时间百分比',name:"nice",value:e.nice}],[{title:"系统级别的 CPU 时间百分比",name:"system",value:e.system},{title:"空闲状态的 CPU 时间百分比",name:"idle",value:e.idle}],[{title:"等待 I/O 操作完成的 CPU 时间百分比",name:"iowait",value:e.iowait},{title:"处理硬件中断的 CPU 时间百分比",name:"irq",value:e.irq}],[{title:"处理软件中断的 CPU 时间百分比",name:"softirq",value:e.softirq},{title:"当前 CPU 被其他虚拟机偷取的CPU时间百分比",name:"steal",value:e.steal}],[{title:"运行虚拟机时使用的 CPU 时间百分比",name:"guest",value:e.guest},{title:'运行带有 "nice" 优先级的虚拟机时使用的CPU时间百分比',name:"guest_nice",value:e.guest_nice}]]}),yn.useSetCallback("load",function(e){I.value=e,N()}),yn.useSetCallback("disk",function(e){C.value=e});var N=function(){var e=I.value,t=e.one,n=e.max,a=parseInt(Math.round(t/n*100).toFixed(0)),r=a>100?100:a;E.range=r<0?0:r,L.load=r>=90?"danger":r>=80?"warning":"success"};yn.useSetCallback("cpu",function(e){var t,n,a,r;P.value=e,H(),t=P.value,n=t.cpuNumber,a=t.logicCores,r=t.cores,F.desc=n&&a&&r?"".concat(r,"核心"):"获取中",U()});var H=function(){var e=P.value.occupy;F.range=parseInt(e)||0,F.range>80?L.cpu="warning":F.range>90?L.cpu="danger":L.cpu="success"},U=function(){for(var e=[],t=0,n="核心 ",a="",r=0;r<P.value.coresOccupy.length;r++)if(t<2){if(t++,r===P.value.coresOccupy.length-1){n+="".concat(r+1," "),a+="".concat(parseFloat(P.value.coresOccupy[r]).toFixed(1),"% "),e.push({name:n,value:a});break}n+="".concat(r+1," / "),a+="".concat(parseFloat(P.value.coresOccupy[r]).toFixed(1),"% / "),P.value.coresOccupy.length%2==1&&r===P.value.coresOccupy.length-1&&e.push({name:n,value:a})}else t=0,n+="".concat(r+1),a+="".concat(parseFloat(P.value.coresOccupy[r]).toFixed(1),"%"),e.push({name:n,value:a}),n="核心 ",a="";g.value=e};yn.useSetCallback("memory",function(e){j.value=e,G()});var G=function(){var e=j.value,t=e.memRealUsed,n=e.memTotal,a=e.memNewRealUsedList,r=e.memNewTotalList;if(!w.value){var i=parseInt((Math.round(t/n*1e3)/10).toFixed(0));L.memory=i>=80?"warning":i>=90?"danger":"success",z.type="mem",z.range=i,z.desc={used:null==a?void 0:a[0],used_unit:null==a?void 0:a[1],total:null==r?void 0:r[0],total_unit:null==r?void 0:r[1]}}},q=function(e){k.value&&clearInterval(k.value);var t=e.memRealUsed-e.memRealUsed,n=et(t)?t:tt(t);z.range=1,z.rangeText="已释放\n ".concat(n),setTimeout(function(){w.value=!1,z.rangeText="",z.disabled=!1,x.value=!0},1500)},K=function(){var e="";w.value=!0,x.value=!1,z.disabled=!0,k.value=setInterval(function(){var t=z.range;e="..."===e?".":"".concat(e,"."),z.rangeText="释放中".concat(e),t>0&&(t-=.2*t),(t=Number(t.toFixed(2)))<0&&(t=0),z.range=t},400)},$=function(){var e=p(d().m(function e(){var t,n;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,K(),e.n=1,Ct();case 1:t=e.v,n=t.data,q(n),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),J=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Ge({type:"calc",title:"释放内存",content:"若您的站点处于有大量访问的状态，释放内存可能带来无法预测的后果，您确定现在就释放内存吗？"});case 1:$(),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),Z=function(){var t=p(d().m(function t(n,a){var r;return d().w(function(t){for(;;)switch(t.n){case 0:if(b.value=a,"ltd"===i.value){t.n=1;break}return t.a(2);case 1:return r=function(){var t=p(d().m(function t(){return d().w(function(t){for(;;)switch(t.n){case 0:if(S){t.n=2;break}return S=!0,t.n=1,e.getHomeProcessInfo();case 1:S=!1;case 2:return t.a(2)}},t)}));return function(){return t.apply(this,arguments)}}(),O.value=setInterval(r,5e3),A.removePending({method:"post",url:"/monitor/process_management/specific_resource_load_type"}),t.n=2,r();case 2:return t.a(2)}},t)}));return function(e,n){return t.apply(this,arguments)}}(),Q=function(){var e=p(d().m(function e(){var t;return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Je({sName:"task_manager"});case 1:t=e.v,t.data.setup?M.value=!0:M.value=!1;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Y=c(),X=W({name:"",path:""}),ee=W({loading:!0,list:[],total:0}),te=function(e){oe(!0,e)},ne=function(){var e=p(d().m(function e(t){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ge({title:"删除告警任务",isHtml:!0,icon:"warning-filled",iconColor:"warning",content:"删除后将不再告警此条任务，是否继续？"});case 1:return e.n=2,Be({loading:"正在删除告警任务，请稍后...",request:Ye({task_id:t.id}),message:!0,success:le});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=p(d().m(function e(t){var n,a;return d().w(function(e){for(;;)switch(e.n){case 0:return n=t.status,a=t.title,e.n=1,Ge({title:(n?"停用":"启用")+"告警任务【"+a+"】",content:"".concat(n?"停用":"启用","选中的告警任务后，该告警任务将").concat(n?"停止":"开启","告警，是否继续操作？"),icon:"warning-filled"});case 1:return e.n=2,Be({loading:"正在设置告警状态，请稍后...",request:Xe({task_id:t.id,status:n?0:1}),message:!0});case 2:return e.n=3,le();case 3:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),re=[{title:"钉钉",type:"dingding"},{title:"飞书",type:"feishu"},{title:"邮箱",type:"mail"},{title:"企业微信",type:"weixin"},{title:"微信公众号",type:"wx_account"},{title:"短信通知",type:"sms"},{title:"自定义消息通道",type:"webhook"}],ie=c([{label:"标题",prop:"title"},Gt({event:ae,width:80,data:["已停用","已启用"]}),{label:"告警方式",width:140,showOverflowTooltip:!0,render:function(e){var t=[];return e.sender.forEach(function(e){var n=a.value.config.find(function(t){return t.id===e});if(null!=n&&n.sender_type){var r=re.find(function(e){return e.type===n.sender_type});null!=r&&r.title&&t.push("sms"===n.sender_type?r.title:n.data.title?n.data.title+"(".concat(r.title,")"):r.title)}}),_("span",{class:"truncate"},[t.join("、")])}},{label:"告警条件",render:function(e){var t=e.view_msg.match(/<span>(.*?)<\/span>/);return t?t[1]:""}},qt([{title:"编辑",onClick:te},{title:"删除",onClick:ne}])]),oe=function(e,t){Re({title:"进程告警",area:[80],btn:["保存","取消"],component:function(){return Ae(function(){return r.import("./index-legacy120.js?v=1763689792")},void 0,r.meta.url)},compData:{isEdit:e,row:t||{},diyProcessTemplate:!0,diyProcessTemplateTid:["60","61","62"],onRefresh:le}})},le=function(){var e=p(d().m(function e(){var t,n,a;return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ze();case 1:n=e.v,a=n.data,ee.list=(null==a||null===(t=a.data)||void 0===t?void 0:t.filter(function(e){return["60","61","62"].includes(e.template_id)}))||[],ee.list.length>0||oe(!1),ee.loading=!1;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return{stateMainWidth:o,gutter:l,isBreakLines:s,isShowAllDisk:u,colSpan:m,diskColSpan:v,stateHeight:y,displayMode:h,cpuCoreDesc:g,statePopoverTimr:O,loadInfo:E,loadPopover:B,processAlarmShow:M,tagsType:L,load:I,cpu:P,loadInfoList:T,cpuInfo:F,cpuPopover:D,memoryInfo:z,memoryPopover:R,memory:j,disk:C,getProcessAlarm:Q,moveStatePopover:Z,removeStatePopover:function(){clearInterval(O.value)},onClearMemory:J,$reset:function(){A.reset(),clearInterval(O.value),clearInterval(k.value)},setPsFormRef:Y,setPsForm:X,onConfirmPs:function(e){Be({loading:"正在修改备注，请稍后...",request:Pt(X),message:!0,success:function(t){t.status&&e()}})},processAlarmTableColumn:ie,processTableData:ee,openProcessAlarm:oe,initAlarm:le,hoverType:b,isClearMemory:w,showMemoryDesc:x}})),Sn=n("a",A("HOME-STATE-POPOVER-STORE",function(){var e,t=Wt(),n=x(t),i=n.specificResource,o=n.diskQuota,l=Me(),s=l.payment,u=l.push,m=l.getAlarmData,v=f(s.value).authType,y=_n(),h=x(y).setPsForm,g=c(),b=c(),w=c(),k=null,S=[{desc:"运行堵塞",val:90,color:"#dd2f00"},{desc:"运行缓慢",val:80,color:"#ff9900"},{desc:"运行正常",val:70,color:"var(--el-color-primary)"},{desc:"运行流畅",val:30,color:"var(--el-color-primary)"}],C=c("show"),I=c("two"),P=W({loading:!0,list:[]}),j=function(){var e=p(d().m(function e(t,n){var a;return d().w(function(e){for(;;)switch(e.n){case 0:if(1===t.important){e.n=2;break}return a=n?"结束进程":"释放内存",e.n=1,Ge({type:"calc",title:a,content:"结束".concat(t.proc_name,"进程会导致").concat(t.explain.split("的进程")[0],"无法正常运行，是否结束?")});case 1:return e.n=2,Be({loading:"正在".concat(a,"，请稍后..."),request:Lt({pid:t.pid}),message:!0});case 2:return e.a(2)}},e)}));return function(t,n){return e.apply(this,arguments)}}(),T=c((null===(e=u.value)||void 0===e?void 0:e.alarmPopupData)||[]),L={load:{title:"负载",id:"22"},cpu:{title:"cpu",id:"21"},mem:{title:"内存",id:"23"},disk:{title:"磁盘",id:"20"}},O=c({});c();var M=function(){var e=p(d().m(function e(t){var n;return d().w(function(e){for(;;)switch(e.n){case 0:O.value=a(a({},t),{},{id:t.id||L[null===(n=t.type)||void 0===n?void 0:n.split("-")[0]].id}),Re({title:"告警设置",component:function(){return Ae(function(){return r.import("./alarm-config-legacy.js?v=1763689792")},void 0,r.meta.url)},area:60,btn:"保存",onConfirm:q,onCancel:function(){m()}});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=p(d().m(function e(t,n){var a,r;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:if(0!==n.id){e.n=1;break}M(n),e.n=5;break;case 1:if(e.p=1,a=t?"开启":"关闭",!!t){e.n=2;break}return e.n=2,Ge({title:"".concat(a,"告警"),content:"".concat(a,"告警后，将").concat(t?"":"不再","接收到该项的告警信息，是否继续操作？")});case 2:return r=R(n.type),e.n=3,Be({loading:"正在".concat(a,"告警，请稍后..."),request:Xe({task_id:r.id,status:t?1:0}),message:!0,success:m});case 3:e.n=5;break;case 4:e.p=4,e.v,n.flag=!t,m();case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t,n){return e.apply(this,arguments)}}(),D=function(e){var t,n,a;switch(e){case"load":n="平均负载超过";break;case"mem":n="内存超过";break;case"cpu":n="平均CPU超过"}var r=A(e);return t=r.cycle,a=r.count,n||(n=r.text),rt(t)||rt(n)?"":"".concat(null!=e&&e.includes("disk")?"":"".concat(t,"分钟内")).concat(n).concat(a,"触发")},R=function(e){var t,n=L[e.split("-")[0]];return!!Array.isArray(T.value)&&(null===(t=T.value)||void 0===t?void 0:t.find(function(t){return null!=e&&e.includes("disk")?t.template_id===n.id&&t.task_data.project===e.split("-")[1]:t.template_id===n.id}))},A=function(e){var t,n,a,r=R(e);if(r){var i=r.task_data;t=i.cycle,a="".concat(i.count,"%"),e.includes("disk")&&i.project===e.split("-")[1]&&(n=2===i.cycle?"该磁盘用量超过":"该磁盘余量不足",a=2===i.cycle?"".concat(i.count,"%"):"".concat(i.count,"GB"))}return{cycle:t,text:n,count:a}},E=c(!1),F=c(),z=W({num:0,usageRate:0,give:[],option:{},type:"",selectOptions:[],typeDetection:"2",next_data:[]}),N=c(100),H=c([]),U=c([]),V=function(){var e=p(d().m(function e(){var t;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ot();case 1:t=e.v,H.value=t.data.map(function(e){return{label:e.title,value:e.value}}),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),G=function(){var e=p(d().m(function e(){var t,n,a;return d().w(function(e){for(;;)switch(e.n){case 0:V(),t=O.value,n=t.type,a=t.data,t.id,a?(z.usageRate=a.count,z.num=a.push_count,z.next_data=a.next_data||[],-1!==n.indexOf("disk")&&(z.typeDetection=a.cycle.toString()),z.give=a.module):(z.usageRate=80,z.num=3,-1!==n.indexOf("disk")&&(z.typeDetection="2"));case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=p(d().m(function e(){var t,n,r,i,o,l,s,u;return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,F.value.validate();case 1:return t=O.value,n=t.type,r=t.data,i=t.id,o=a(a({},r||{}),{},{type:n.includes("disk")?n.split("-")[0]:n,count:parseInt("".concat(z.usageRate)),cycle:n.includes("disk")?parseInt(z.typeDetection):5,project:n.split("-")[1]?n.split("-")[1]:"",next_data:z.next_data}),l={send_interval:0,time_range:[0,86399]},s={day_num:parseInt("".concat(z.num)),total:0},u={task_data:o,time_rule:l,number_rule:s,sender:z.give},e.n=2,Be({loading:"正在保存告警配置，请稍后...",request:it({task_data:JSON.stringify(u),template_id:i}),message:!0,success:function(){var e=p(d().m(function e(t){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,m();case 1:D(n);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),K=c([{label:"磁盘路径",prop:"filesystem",render:function(e){return _("div",{class:"flex items-center"},[_("span",{class:"svgtofont-file-hdd mr-4px !text-medium align-text-bottom"},null),_("span",null,[e.filesystem])])}},{label:"总大小",prop:"size"}]),$=function(){var e=p(d().m(function e(t){return d().w(function(e){for(;;)switch(e.n){case 0:h.value.name=t.ps,h.value.path=t.path,Re({title:"设置磁盘【"+t.path+"】别名",area:45,component:function(){return Ae(function(){return r.import("./index-legacy341.js?v=1763689792")},void 0,r.meta.url)},btn:!0,onConfirm:y.onConfirmPs});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),J=function(e){if("0"===e)return 0;var t=e.match(/^(\d+(?:\.\d+)?)(?: )?([a-zA-Z]+)$/);if(!t)throw new Error("Invalid size format: ".concat(e));var n=parseFloat(t[1]),a=t[2].toUpperCase(),r=["B","KB","MB","G","GB","T","TB"].indexOf(a);if(-1===r)throw new Error("Invalid unit: ".concat(a));return n*Math.pow(1024,r)},Z=function(){var e=p(d().m(function e(t){return d().w(function(e){for(;;)switch(e.n){case 0:jt({pluginName:"disk_analysis",source:120,type:"ltd"}),nt("diskPath",t),nt("taskStatus","true");case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}();return{virtualRef:g,popover:b,popoverContent:w,chartColorActive:function(e,t){for(var n={},r=0;r<S.length;r++){var i=S[r];if(e>=i.val){n=a({},i);break}if(e<30){n=a({},S[S.length-1]);break}}return t&&(n.color="#dd2f00"),n.val=e,n},dirEvent:function(e,t){"None"!==t?(nt("Path",e),at.push({path:"/files"})):jt({name:"sysdisk"})},init:function(){k=new ResizeObserver(function(){b.value&&b.value.updatePopper()}),w.value&&k.observe(w.value)},$reset:function(){k&&w.value&&k.unobserve(w.value)},authType:v,specificResource:i,tableData:P,foldExpand:C,foldActive:I,useHomeTableColumn:function(e,t,n){return c([{label:"进程名称",minWidth:80,render:function(e){var t="备注：".concat(e.explain,"\n启动路径： ").concat(e.exe_path,"\n运行目录：").concat(e.cwd_path,"\n线程数量：").concat(e.num_threads);return _("span",{title:t},[e.proc_name])}},{label:t,prop:n,minWidth:70},{label:"操作",align:"right",fixed:"right",width:50,render:function(t){return _("span",{class:"cursor-pointer text-primary",onClick:function(){j(t,e)}},[1===t.important?"":"cpu_percent"===n?"结束":"释放"])}}])},openProcessAlarmDialog:function(){Re({title:"进程告警",area:["100","50"],component:function(){return Ae(function(){return r.import("./process-alarm-manage-legacy.js?v=1763689792")},void 0,r.meta.url)}})},openProduct:function(){Tt({sourceId:141})},push:u,devTaskList:T,openAlarmPopup:B,setAlarmDialog:M,createPushStatus:D,getCurrentTask:R,onConfirm:q,giveFormDisabled:E,giveFormRef:F,msgForm:z,maxCapacityAndUsageRate:N,nextOptions:H,options:U,alarmInfo:G,rowData:O,mountColumn:K,computedSpace:function(e,t){for(var n=["B","KB","MB","GB","TB"],a=J(e)-J(t),r=0;a>=1024&&r<n.length-1;)a/=1024,r++;return a=Math.round(100*a)/100,"".concat(a," ").concat(n[r])},setPsDialog:$,scanRubbishFile:Z,switchTypeDetection:function(){var e=O.value,t=e.type,n=e.data;e.id;z.typeDetection!==n.cycle&&("2"===z.typeDetection?z.usageRate=80:o.value.forEach(function(e){e.diskName===t.split("-")[1]&&(N.value=e.diskQuota,z.usageRate=parseInt((.2*e.diskQuota).toString()))}))}}})),Cn={class:"alarm"},In={class:"w-[21rem] ml-[0.8rem]"},Pn=Fe(l({__name:"alarm",props:{type:{},diskName:{}},setup:function(e){var t=e,n=k(function(){return t.type}),r=Sn(),i=x(r),o=i.push,l=i.devTaskList;R(function(){return o.value.alarmPopupData},function(e){l.value=e},{deep:!0,immediate:!0});var u=c(!1),d=k(function(){var e={type:n.value,data:!1,id:0,status:!1},t=r.getCurrentTask(n.value);if(t){var i,o=t.task_data;null!==(i=n.value)&&void 0!==i&&i.includes("disk")?(2===o.cycle?"".concat(o.count,"%"):"".concat(o.count,"GB"),u.value=!!t.status,e.status=!!t.status,e.data=a(a({},o),{},{module:t.sender,push_count:t.number_rule.day_num}),e.id=t.template_id):(u.value=!!t.status,e.status=!!t.status,e.data=a(a({},o),{},{module:t.sender,push_count:t.number_rule.day_num}),e.id=t.template_id)}return e});return R(function(){return d.value},function(e){u.value=e.status},{deep:!0,immediate:!0}),m(function(){}),function(e,t){var a=q,i=We;return y(),h("div",Cn,[t[4]||(t[4]=g("div",null,[g("span",null,"告警")],-1)),_(a,{size:"small",class:"ml-[0.8rem]",modelValue:v(u),"onUpdate:modelValue":t[0]||(t[0]=function(e){return G(u)?u.value=e:null}),onChange:t[1]||(t[1]=function(e){return v(r).openAlarmPopup(v(u),v(d))})},null,8,["modelValue"]),t[5]||(t[5]=g("div",{class:"switch"},null,-1)),_(i,{onClick:t[2]||(t[2]=function(e){return v(r).setAlarmDialog(v(d))})},{default:S(function(){return s(t[3]||(t[3]=[P("设置",-1)]))}),_:1}),g("span",In,b(v(r).createPushStatus(v(n))),1)])}}}),[["__scopeId","data-v-155cf61f"]]),jn={class:""},Tn={class:"flex justify-between w-full"},Ln={class:"px-[8px] text-secondary"},On={class:"mt-[10px] space-y-[1rem] mx-[8px] text-secondary"},Mn={class:"flex justify-between items-center w-full"},Bn={class:"px-[8px] text-secondary leading-[3rem] text-center"},Dn={class:"space-y-[1rem] text-secondary leading-[1.4rem] px-[0.8rem]"},Rn={class:"flex justify-between w-full"},An={class:"px-[8px] text-secondary leading-[3rem] text-center"},En={class:"mt-[8px] space-y-[1rem]"},Fn={key:0,class:"mb-1rem"},zn={class:"flex items-center justify-center flex-nowrap w-full"},Nn={class:"whitespace-nowrap"},Hn=l({__name:"popover-content",props:{loadType:{default:""},type:{default:""},processAlarmShow:{type:Boolean,default:!1}},setup:function(e,t){var n=t.expose,a=e,r=x(_n()).hoverType,i=Sn(),o=x(i),l=o.specificResource,u=o.authType,c=o.tableData,d=o.foldExpand,f=o.foldActive,m=k(function(){return-1!==a.type.indexOf("未挂载")}),p=k(function(){return"loadPopover"===r.value||"cpuPopover"===r.value}),I=k(function(){return i.useHomeTableColumn(p.value,p.value?"CPU占用率":"内存使用率",p.value?"cpu_percent":"memory_usage").value}),T=k(function(){return"memoryInfo"!==a.loadType}),L=k(function(){return"diskInfo"!==a.loadType}),O=k(function(){var e=a.loadType,t={one:"",two:"",three:""};return t.one="memoryInfo"===e?"内存信息":"基础信息","diskInfo"!==e?p.value?("loadInfo"===e?t.two="更多负载信息":"cpuInfo"===e&&(t.two="核心使用率"),t.three="CPU占用率top5的进程信息"):"memoryInfo"===e&&(t.two="内存信息",t.three="内存使用率top5的进程信息"):t.two="Inode信息",t});return R(function(){return l.value},function(e){"ltd"===u.value?(c.value.loading=!1,p.value?c.value.list=l.value.cpuProcess:c.value.list=l.value.memProcess):(c.value.loading=!1,c.value.list=[])},{deep:!0,immediate:!0}),R(function(){return u.value},function(e){"ltd"!==e&&(c.value.loading=!1,c.value.list=[])}),n({showTwo:T,showThree:L}),function(t,n){var r=Q,o=Y,l=X,p=We,x=lt,k=ee,M=K("bt-loading");return y(),C(k,{shadow:"never",class:"card-popover !p-[8px]"},{default:S(function(){return[g("div",jn,[$(t.$slots,"button",{},void 0,!0)]),_(o,{class:"text-small",modelValue:v(d),"onUpdate:modelValue":n[0]||(n[0]=function(e){return G(d)?d.value=e:null}),accordion:!0},{default:S(function(){return[_(r,{ref:"base-info",name:"show"},{title:S(function(){return[g("div",Tn,[g("span",Ln,b(v(O).one),1)])]}),default:S(function(){return[g("div",On,[$(t.$slots,"base-info",{},void 0,!0)]),v(m)?w("",!0):(y(),h(z,{key:0},[n[2]||(n[2]=g("hr",{style:{width:"calc(100% - 16px)",margin:"12px auto","border-top":"1px solid var(--el-color-border-extra-light)"}},null,-1)),_(Pn,{type:e.type,class:"mx-[8px]"},null,8,["type"])],64))]}),_:3},512)]}),_:3},8,["modelValue"]),v(m)?w("",!0):(y(),C(o,{key:0,class:"text-small",modelValue:v(f),"onUpdate:modelValue":n[1]||(n[1]=function(e){return G(f)?f.value=e:null}),accordion:!0},{default:S(function(){return[v(T)?(y(),C(r,{key:0,name:"two"},{title:S(function(){return[g("div",Mn,[g("span",Bn,b(v(O).two),1),g("span",null,b("two"===v(f)?"收起":"展开"),1)])]}),default:S(function(){return[g("div",Dn,[$(t.$slots,"content-info",{},void 0,!0)])]}),_:3})):w("",!0),v(L)?(y(),C(r,{key:1,name:"three",class:j({"!mb-0":!v(T)})},{title:S(function(){return[g("div",Rn,[g("span",An,b(v(O).three),1),g("span",null,b("three"===v(f)?"收起":"展开"),1)])]}),default:S(function(){return[g("div",En,[g("div",null,[a.processAlarmShow?(y(),h("div",Fn,[_(l,{size:"small",onClick:v(i).openProcessAlarmDialog},{default:S(function(){return s(n[3]||(n[3]=[P("进程告警",-1)]))}),_:1},8,["onClick"])])):w("",!0),J((y(),C(x,{column:v(I),data:v(c).list,"max-height":450},Z({_:2},["ltd"!==v(u)?{name:"empty",fn:S(function(){return[g("div",zn,[g("span",Nn,[n[5]||(n[5]=P("当前为企业版专享功能, ",-1)),_(p,{onClick:v(i).openProduct},{default:S(function(){return s(n[4]||(n[4]=[P("立即购买",-1)]))}),_:1},8,["onClick"])])])]}),key:"0"}:void 0]),1032,["column","data"])),[[M,v(c).loading]])])])]}),_:1},8,["class"])):w("",!0)]}),_:3},8,["modelValue"]))]}),_:3})}}}),Un=Fe(Hn,[["__scopeId","data-v-fe406548"]]),Vn={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Wn={class:"flex items-center"},Gn={class:"flex align-left flex-col"},qn={class:"flex items-center"},Kn=["title"],$n={class:"flex align-left flex-col"},Jn={class:"mb-[2px]"},Zn={key:0,class:"m-4x flex items-center"},Qn={class:"!my-[1rem]"},Yn={class:"!my-[1rem]"},Xn={class:"!my-[1rem]"},ea=l({__name:"disk-popover",props:{custom:{type:Boolean,default:!1},item:{default:[]}},setup:function(e){var t=e,n=Me().enterpriseRec,a=Sn(),r=x(a).mountColumn,i=k(function(){return"None"===t.item.data.path}),o=k(function(){var e="string"==typeof t.item.data.size?0:parseFloat(t.item.data.size[3].substring(0,t.item.data.size[3].lastIndexOf("%")));return e>=90?"danger":e>=80?"warning":"success"});return function(l,u){var c=ne,d=ae,f=X,m=re,p=We,x=lt;return y(),C(Un,{"load-type":"diskInfo",type:"disk-".concat(t.item.info.title)},{button:S(function(){return[v(i)?w("",!0):(y(),h(z,{key:0},[parseInt(t.item.data.inodes[3])>90?(y(),C(c,{key:0,title:"Inode可用不足10%，请前往文件管理清理不必要文件",type:"error",class:"!mb-8px !min-h-[24px] !py-4px",closable:!1})):w("",!0),g("div",Vn,[g("div",Wn,[u[2]||(u[2]=g("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前磁盘",-1)),_(d,{type:v(o)},{default:S(function(){return[P(b("容量占用".concat(t.item.data.size[3].substring(0,t.item.data.size[3].lastIndexOf("%")),"%")),1)]}),_:1},8,["type"])]),J(_(f,{type:"primary",onClick:u[0]||(u[0]=function(e){return v(a).scanRubbishFile(t.item.info.title)})},{default:S(function(){return s(u[3]||(u[3]=[P("立即清理",-1)]))}),_:1},512),[[te,v(n)]])])],64))]}),"base-info":S(function(){return[v(i)?(y(),C(x,{key:1,data:e.item.data.list,column:v(r)},null,8,["data","column"])):(y(),h(z,{key:0},[g("div",Gn,[g("div",qn,[g("div",{class:"block truncate max-w-[30rem] mb-[2px]",title:"挂载点：".concat(e.item.info.title,"\n备注：").concat(e.item.data.rname)},"挂载点： "+b(e.item.info.title+(e.item.data.rname?" (".concat(e.item.data.rname,")"):"")),9,Kn),_(m,{placement:"right",content:"点击设置备注"},{default:S(function(){return[g("i",{class:"svgtofont-el-edit text-primary ml-[8px] cursor-pointer",onClick:u[1]||(u[1]=function(t){return v(a).setPsDialog({ps:e.item.data.rname||e.item.info.title,path:e.item.info.title})})})]}),_:1})]),g("span",null,b("共：".concat(e.item.data.size[0])+"，可用：".concat(e.item.data.size[2])+"，\t已用：".concat(e.item.data.size[1])),1)]),g("div",$n,[g("span",Jn," 文件系统："+b(e.item.data.filesystem),1),g("span",null," 类型："+b(e.item.data.type+"，系统占用：".concat(e.item.data.size[3])),1)]),"None"!==e.item.data.d_size?(y(),h("div",Zn,[g("span",null," 磁盘大小："+b(e.item.data.d_size),1),_(m,{class:"item",effect:"dark",content:"根据系统设置的不同，如分区/SWAP/LVM/扩容，可能显示大小不一致，点击查看详情",placement:"top-start"},{default:S(function(){return[g("span",null,[_(p,{class:"bt-ico-ask ml-3",href:"https://www.bt.cn/bbs/thread-136532-1-1.html",target:"_blank"},{default:S(function(){return s(u[4]||(u[4]=[P("?",-1)]))}),_:1})])]}),_:1})])):w("",!0)],64))]}),"content-info":S(function(){return[g("p",Qn,"总数："+b(e.item.data.inodes[0]),1),g("p",Yn,"已用："+b(e.item.data.inodes[1]),1),g("p",Xn,"可用："+b(e.item.data.inodes[2]),1),g("p",{class:j(["!my-[1rem]",{"text-warning":parseInt(t.item.data.inodes[3])>90&&parseInt(t.item.data.inodes[3])<100,"text-danger":100===parseInt(t.item.data.inodes[3])}])}," 使用率："+b(e.item.data.inodes[3]+(e.item.data.inodes[3].includes("%")?"":"%")),3)]}),_:1},8,["type"])}}}),ta=n("b",Fe(ea,[["__scopeId","data-v-8e7d8285"]])),na={class:"disk-info flex flex-col items-start flex-1 min-w-0"},aa={class:"disk-title text-default text-small md:text-2xl font-semibold mb-2 break-all truncate w-full"},ra={class:"disk-desc text-small text-gray-500 break-all mb-1 truncate w-full"},ia={class:"disk-progress ml-5 flex items-center justify-center"},oa={class:"flex flex-col items-center text-small"},la={class:"text-medium"},sa={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},ua={class:"flex items-center"},ca={class:"flex align-left flex-col"},da={class:"flex items-center"},fa=["title"],ma=["onClick"],pa={class:"flex align-left flex-col"},va={key:0,class:"m-4x flex items-center"},ya={class:"mb-[2px]"},ha={class:"!my-[1rem]"},ga={class:"!my-[1rem]"},ba={class:"!my-[1rem]"},wa={key:1,class:"p-4 text-gray-400"},xa=l({__name:"disk-popover-extends",props:{list:{default:function(){return[]}},isShowAllDisk:{type:Boolean,default:!1}},setup:function(e){var n=e,a=Me().enterpriseRec,r=Sn(),i=x(r).mountColumn,o=function(e,t){var n,a=null===(n=e.info)||void 0===n?void 0:n.range;return Number(a)>90?"var(--el-color-danger)":Number(a)>80?"var(--el-color-warning)":"var(--el-color-primary)"},l=function(e){var t="string"==typeof e.data.size?0:parseFloat(e.data.size[3].substring(0,e.data.size[3].lastIndexOf("%")));return t>=90?"danger":t>=80?"warning":"success"};return function(e,u){var c=oe,d=ne,f=ae,m=X,p=re,x=We,k=lt,I=L;return n.list&&n.list.length?(y(!0),h(z,{key:0},N(n.list,function(e,T){var L;return y(),C(I,{key:null!=e&&null!==(L=e.info)&&void 0!==L&&L.title?e.info.title+"-"+T:T,trigger:"hover",width:400,placement:"bottom-start",teleported:!1,"popper-class":"el-popover-shadow","show-after":100,"hide-after":0},{reference:S(function(){var a,r,i,l,s,d,f,m,p,v;return[g("div",{class:j([n.isShowAllDisk?"p-[1rem]":"px-[1rem]","flex items-center justify-between min-w-0 cursor-pointer transition-colors hover:bg-lighter rounded-medium"])},[g("div",na,[g("div",aa,b((null===(a=e.info)||void 0===a?void 0:a.title)||"-"),1),g("div",ra,["object"===t(null===(r=e.info)||void 0===r?void 0:r.desc)&&"disk"===(null===(i=e.info)||void 0===i?void 0:i.type)?(y(),h(z,{key:0},[g("span",{style:ie({color:null===(l=e.info)||void 0===l?void 0:l.color})},b(null===(s=e.info)||void 0===s||null===(s=s.desc)||void 0===s?void 0:s.used)+" "+b(null===(d=e.info)||void 0===d||null===(d=d.desc)||void 0===d?void 0:d.used_unit),5),u[0]||(u[0]=g("span",null," / ",-1)),g("span",null,b(null===(f=e.info)||void 0===f||null===(f=f.desc)||void 0===f?void 0:f.total)+" "+b(null===(m=e.info)||void 0===m||null===(m=m.desc)||void 0===m?void 0:m.total_unit),1)],64)):(y(),h(z,{key:1},[P(b((null===(p=e.info)||void 0===p?void 0:p.desc)||"-"),1)],64))])]),g("div",ia,[_(c,{"show-text":!0,type:"circle",width:50,"stroke-width":6,color:o(e),percentage:(null===(v=e.info)||void 0===v?void 0:v.range)||0},{default:S(function(t){var n=t.percentage;return[g("div",oa,[g("span",{class:"percentage-value",style:ie({color:o(e)})},[g("span",la,b(n),1),u[1]||(u[1]=P("% ",-1))],4)])]}),_:2},1032,["color","percentage"])])],2)]}),default:S(function(){return[e&&e.data&&e.info?(y(),C(Un,{key:0,"load-type":"diskInfo",type:"disk-".concat(e.info.title),item:e},{button:S(function(){return["None"!==e.data.path?(y(),h(z,{key:0},[parseInt(e.data.inodes[3])>90?(y(),C(d,{key:0,title:"Inode可用不足10%，请前往文件管理清理不必要文件",type:"error",class:"!mb-8px !min-h-[24px] !py-4px",closable:!1})):w("",!0),g("div",sa,[g("div",ua,[u[2]||(u[2]=g("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前磁盘",-1)),_(f,{type:l(e)},{default:S(function(){return[P(b("容量占用".concat(e.data.size[3].substring(0,e.data.size[3].lastIndexOf("%")),"%")),1)]}),_:2},1032,["type"])]),J(_(m,{type:"primary",onClick:function(t){return v(r).scanRubbishFile(e.info.title)}},{default:S(function(){return s(u[3]||(u[3]=[P("立即清理",-1)]))}),_:1},8,["onClick"]),[[te,v(a)]])])],64)):w("",!0)]}),"base-info":S(function(){return["None"!==e.data.path?(y(),h(z,{key:0},[g("div",ca,[g("div",da,[g("div",{class:"block truncate max-w-[30rem]",title:"挂载点：".concat(e.info.title,"\n备注：").concat(e.data.rname)},"挂载点： "+b(e.info.title+(e.data.rname?" (".concat(e.data.rname,")"):"")),9,fa),_(p,{placement:"right",content:"点击设置备注"},{default:S(function(){return[g("i",{class:"svgtofont-el-edit text-primary ml-[8px] cursor-pointer",onClick:function(t){return v(r).setPsDialog({ps:e.data.rname||e.info.title,path:e.info.title})}},null,8,ma)]}),_:2},1024)]),g("span",null,b("共：".concat(e.data.size[0],"，可用：").concat(e.data.size[2],"，\t已用：").concat(e.data.size[1])),1)]),g("div",pa,[g("span",null," 文件系统："+b(e.data.filesystem),1),g("span",null," 类型："+b(e.data.type+"，系统占用：".concat(e.data.size[3])),1)]),"None"!==e.data.d_size?(y(),h("div",va,[g("span",ya," 磁盘大小："+b(e.data.d_size),1),_(p,{class:"item",effect:"dark",content:"根据系统设置的不同，如分区/SWAP/LVM/扩容，可能显示大小不一致，点击查看详情",placement:"top-start"},{default:S(function(){return[g("span",null,[_(x,{class:"bt-ico-ask ml-3",href:"https://www.bt.cn/bbs/thread-136532-1-1.html",target:"_blank"},{default:S(function(){return s(u[4]||(u[4]=[P("?",-1)]))}),_:1})])]}),_:1})])):w("",!0)],64)):(y(),C(k,{key:1,data:e.data.list,column:v(i)},null,8,["data","column"]))]}),"content-info":S(function(){return[g("p",ha,"总数："+b(e.data.inodes[0]),1),g("p",ga,"已用："+b(e.data.inodes[1]),1),g("p",ba,"可用："+b(e.data.inodes[2]),1),g("p",{class:j(["!my-[1rem]",{"text-warning":parseInt(e.data.inodes[3])>90&&parseInt(e.data.inodes[3])<100,"text-danger":100===parseInt(e.data.inodes[3])}])}," 使用率："+b(e.data.inodes[3]+(e.data.inodes[3].includes("%")?"":"%")),3)]}),_:2},1032,["type","item"])):(y(),h("div",wa,"无数据"))]}),_:2},1024)}),128)):w("",!0)}}}),ka=Fe(xa,[["__scopeId","data-v-a44f2c40"]]),_a={class:"w-full"},Sa={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Ca={class:"flex items-center"},Ia={class:"disk-body-list flex justify-between"},Pa={id:"load_one"},ja={class:"disk-body-list flex justify-between"},Ta={id:"load_cpu_times_num"},La={class:"disk-item-body",id:"other_info_html"},Oa={class:"table table-fixed whitespace-nowrap"},Ma=["title"],Ba=["title"],Da={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Ra={class:"flex items-center"},Aa={class:"max-h-[8.2rem] overflow-y-auto"},Ea={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},Fa={class:"flex items-center"},za={class:"flex align-left flex-col"},Na={class:"flex justify-between mb-[4px]"},Ha={class:"w-[50%]"},Ua={class:"inline-flex justify-start"},Va={class:"w-[50%]"},Wa={class:"inline-flex justify-start"},Ga={class:"flex justify-between mb-[4px]"},qa={class:"w-[50%]"},Ka={class:"inline-flex justify-start"},$a={class:"w-[50%]"},Ja={class:"inline-flex justify-start"},Za={class:"flex justify-between mb-[4px]"},Qa={class:"w-[50%]"},Ya={class:"w-[50%]"},Xa={class:"inline-flex justify-start"},er={class:"disk-grid grid gap-4 w-full box-border",style:{"grid-template-columns":"repeat(3, minmax(0, 1fr))"}},tr={class:"disk-grid grid gap-4 w-full box-border h-full",style:{"grid-template-columns":"repeat(auto-fill, minmax(220px, 1fr))"}},nr={key:1,class:"module-ui mb-[1.2rem]"},ar={class:"module-ui-body mt-[1.2rem]"},rr={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},ir={class:"flex items-center"},or={class:"disk-body-list flex justify-between"},lr={id:"load_one"},sr={class:"disk-body-list flex justify-between"},ur={id:"load_cpu_times_num"},cr={class:"disk-item-body",id:"other_info_html"},dr={class:"table table-fixed whitespace-nowrap"},fr=["title"],mr=["title"],pr={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},vr={class:"flex items-center"},yr={class:"max-h-[8.2rem] overflow-y-auto"},hr={class:"flex items-center justify-between mb-[1.2rem] leading-[2.8rem]"},gr={class:"flex items-center"},br={class:"flex align-left flex-col"},wr={class:"flex justify-between mb-[4px]"},xr={class:"w-[50%]"},kr={class:"inline-flex justify-start"},_r={class:"w-[50%]"},Sr={class:"inline-flex justify-start"},Cr={class:"flex justify-between mb-[4px]"},Ir={class:"w-[50%]"},Pr={class:"inline-flex justify-start"},jr={class:"w-[50%]"},Tr={class:"inline-flex justify-start"},Lr={class:"flex justify-between mb-[4px]"},Or={class:"w-[50%]"},Mr={class:"w-[50%]"},Br={class:"inline-flex justify-start"},Dr="home_state_layout_cache",Rr=l({__name:"index",props:{mainWidth:{}},setup:function(e){var t=Me().globalTheme,n=T(function(){return"default"===t.value.home.overview_view?Ae(function(){return r.import("./main-legacy2.js?v=1763689792")},void 0,r.meta.url):Ae(function(){return r.import("./main-tile-legacy.js?v=1763689792")},void 0,r.meta.url)}),a=T(function(){return"default"===t.value.home.overview_view?Ae(function(){return r.import("./disk-main-legacy.js?v=1763689792")},void 0,r.meta.url):Ae(function(){return r.import("./disk-main-tile-legacy.js?v=1763689792")},void 0,r.meta.url)}),o=e,l=c(null),u=c(0);le(l,function(e){if(e[0]){var t=e[0].contentRect.width;u.value=t}});var f={diskCount:-1,containerWidth:-1},I=3,L=235,O=12,M=460,B=650,D=600,A=800,E=1200,F=_n(),H=x(F),U=H.stateMainWidth,V=(H.gutter,H.displayMode),W=H.stateHeight,G=H.isBreakLines,q=H.isShowAllDisk,K=H.cpuCoreDesc,$=H.statePopoverTimr,J=H.loadInfo,Z=H.loadPopover,Q=H.processAlarmShow,Y=H.tagsType,ee=H.load,te=H.cpu,ne=H.loadInfoList,re=H.cpuInfo,oe=H.cpuPopover,fe=H.memoryInfo,me=H.memoryPopover,pe=H.memory,ve=H.disk,ye=c(null);le(ye,function(e){var t=e[0].contentRect.width;U.value=t}),k(function(){return"single"===V.value&&G.value});var he=sessionStorage.getItem(Dr);if(he)try{var ge=JSON.parse(he);V.value=ge.displayMode,W.value=ge.stateHeight,G.value=ge.isBreakLines,q.value=ge.isShowAllDisk}catch(Ce){sessionStorage.removeItem(Dr)}var be=function(e,t,n,a){V.value=e,W.value=t,G.value=n,q.value=a;var r={displayMode:e,stateHeight:t,isBreakLines:n,isShowAllDisk:a};try{sessionStorage.setItem(Dr,JSON.stringify(r))}catch(Ce){}},we=function(){var e=U.value||o.mainWidth||E,t=(ve.value||[]).length;if(f.diskCount!==t||f.containerWidth!==e){f.diskCount=t,f.containerWidth=e;var n=I,a=n+t,r=L,i=O;if(e>=r*a+i*(a-1))if((e-i*(a-1))/a>=r)return void be("single","18rem",!1,!1);if(t>=2&&t<=4)if(e>=r*n+M+i*n)if((e-M-i*n)/n>=r)return void be("stack","22rem",!1,!1);if(t>=5&&t<=6)if(e>=r*n+D+i*n)return void be("tile","22rem",!1,!1);if(t>6){var l=t-6;return e>=(n+l+1-1)*i+(n+l)*r+D?void be("hybrid","22rem",!1,!0):void be("tile","18rem",!0,!0)}be("single","18rem",!0,t>6)}},xe=k(function(){return"".concat(ee.value.one.toFixed(2)," / ").concat(ee.value.five.toFixed(2)," / ").concat(ee.value.fifteen.toFixed(2))}),ke=k(function(){var e=te.value.process;return Array.isArray(e)?"".concat(e[0]," / ").concat(e[1]):"获取中"});se(we),R(function(){return $.value},function(e,t){clearInterval(e)},{immediate:!0}),R(function(){return[(ve.value||[]).length,U.value]},function(e){var t=i(e,2),n=t[0],a=t[1];if(0!==a&&(f.diskCount!==n||f.containerWidth!==a)){var r=I,o=L,l=O,s=M,u=D,c=r*o+(r-1)*l,d=a-c-l,m="single";if(n>Math.floor(d/(o+l))&&(m=n>=5?a>=c+u?"tile":"stack":a>=c+s?"stack":"single"),n>6&&"single"!==m){var p=n-6;(a-u-(r+p+1)*l)/(r+p)>=o&&(m="hybrid")}be(m,W.value,G.value,q.value),f.diskCount=n,f.containerWidth=a}},{immediate:!0,deep:!0}),m(p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:kt({promises:[F.getProcessAlarm],delay:1e3}),we();case 1:return e.a(2)}},e)}))),ue(F.$reset);var _e=function(e){var t=U.value||o.mainWidth||E,n=O;if(V.value,"single"===V.value){if(G.value){var a=I+(ve.value||[]).length,r=Se(t,a,n),i="calc((100% - ".concat(n*(r-1),"px) / ").concat(r,")");return{flex:"1 0 ".concat(i),minWidth:"".concat(L,"px")}}var l=I+(ve.value||[]).length,s=t-n*(l-1),u=Math.floor(s/l),c=Math.max(u,L);return{width:"".concat(c,"px"),minWidth:"".concat(L,"px"),flexShrink:0}}if("hybrid"===V.value){var d=(ve.value||[]).length-6,f=I+d,m=(f+1-1)*n;if("disk-area"===e)return{width:"".concat(D,"px"),minWidth:"".concat(D,"px"),flexShrink:0};var p=t-D-m,v=Math.floor(p/f),y=Math.max(v,L);return{width:"".concat(y,"px"),minWidth:"".concat(L,"px"),flexShrink:0}}if(G.value)return{width:"100%"};var h="stack"===V.value?M:D,g="stack"===V.value?B:A,b=I,w=L,x=n*b,k=t-w*b-x,_=Math.max(h,Math.min(k,g)),S=(t-_-x)/b;return S<w&&(S=w),"disk-area"===e?{width:"".concat(_,"px"),minWidth:"".concat(h,"px"),flexShrink:0}:{width:"".concat(S,"px"),minWidth:"".concat(w,"px"),flexShrink:0}},Se=function(e,t,n){for(var a=L,r=Math.min(t,6);r>=1;r--){if(a*r+n*(r-1)<=e)return r}return 1};return function(e,r){var i=ae,o=X,c=ce,d=de;return y(),h("div",_a,["default"===v(t).home.overview_view?(y(),h("div",{key:0,ref_key:"stateMainRef",ref:ye},[g("div",{class:j(["state-container flex gap-[1.2rem] mb-[1.2rem]",{"flex-wrap":v(G),"flex-nowrap":!v(G)}])},[g("div",{style:ie(_e("load")),ref_key:"loadRef",ref:l,class:j(["state-component",v(q)?"flex-1":""])},[_(v(n),{style:ie({height:v(W)}),info:v(J),"main-width":v(u),onShow:r[0]||(r[0]=function(e){return v(F).moveStatePopover(v(Z),"loadPopover")}),onHide:v(F).removeStatePopover,href:"https://www.bt.cn/bbs/thread-11402-1-1.html"},{default:S(function(){return[_(Un,{"load-type":"loadInfo",ref_key:"loadPopover",ref:Z,type:"load","process-alarm-show":v(Q)},{button:S(function(){return[g("div",Sa,[g("div",Ca,[r[6]||(r[6]=g("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前负载",-1)),_(i,{type:v(Y).load},{default:S(function(){return[P(b("运行达到".concat(v(J).range,"%")),1)]}),_:1},8,["type"])])])]}),"base-info":S(function(){return[g("div",Ia,[r[7]||(r[7]=g("div",null,"最近1/5/15分钟平均负载：",-1)),g("div",Pa,b(xe.value),1)]),g("div",ja,[r[8]||(r[8]=g("div",null,"活动进程数 / 总进程数:",-1)),g("div",Ta,b(ke.value),1)])]}),"content-info":S(function(){return[g("div",La,[g("table",Oa,[g("tbody",null,[(y(!0),h(z,null,N(v(ne),function(e,t){return y(),h("tr",{key:t},[(y(!0),h(z,null,N(e,function(e,t){return y(),h(z,{key:t},[g("td",{title:e.title,class:"break-all text-ellipsis p-[.4rem] pl-0"},[g("span",null,b(e.name),1)],8,Ma),g("td",{title:e.title,class:"break-all text-ellipsis"},[g("span",null,b(e.value),1)],8,Ba)],64)}),128))])}),128))])])])]}),_:1},8,["process-alarm-show"])]}),_:1},8,["style","info","main-width","onHide"])],6),g("div",{style:ie(_e("cpu")),class:j(["state-component",v(q)?"flex-1":""])},[_(v(n),{style:ie({height:v(W)}),info:v(re),type:"cpu","main-width":v(u),onShow:r[1]||(r[1]=function(e){return v(F).moveStatePopover(v(oe),"cpuPopover")}),onHide:v(F).removeStatePopover},{default:S(function(){return[_(Un,{"load-type":"cpuInfo",type:"cpu",ref_key:"cpuPopover",ref:oe,"process-alarm-show":v(Q)},{button:S(function(){return[g("div",Da,[g("div",Ra,[r[9]||(r[9]=g("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前CPU使用率",-1)),_(i,{type:v(Y).cpu},{default:S(function(){return[P(b("占用".concat(v(re).range,"%")),1)]}),_:1},8,["type"])])])]}),"content-info":S(function(){return[g("div",Aa,[(y(!0),h(z,null,N(v(K),function(e,t){return y(),h("div",{key:t,class:"flex direction-row items-center justify-between my-[1rem]"},[g("span",null,b(e.name),1),g("span",null,b(e.value),1)])}),128))])]}),"base-info":S(function(){return[g("p",null,b(v(te).framework),1),g("p",null,b("".concat(v(te).cpuNumber,"个物理CPU，").concat(v(te).logicCores,"个物理核心，").concat(v(te).cores,"个逻辑核心")),1)]}),_:1},8,["process-alarm-show"])]}),_:1},8,["style","info","main-width","onHide"])],6),g("div",{style:ie(_e("mem")),class:j(["state-component",v(q)?"flex-1":""])},[_(v(n),{style:ie({height:v(W)}),type:"mem",info:v(fe),"main-width":v(u),onShow:r[2]||(r[2]=function(e){return v(F).moveStatePopover(v(me),"memoryPopover")}),onHide:v(F).removeStatePopover},{default:S(function(){return[_(Un,{"load-type":"memoryInfo",type:"mem",ref_key:"memoryPopover",ref:me,"process-alarm-show":v(Q)},{button:S(function(){return[g("div",Ea,[g("div",Fa,[r[10]||(r[10]=g("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前内存",-1)),_(i,{type:v(Y).memory},{default:S(function(){return[P(b("占用".concat(v(fe).range,"%")),1)]}),_:1},8,["type"])]),_(o,{type:"primary",onClick:v(F).onClearMemory},{default:S(function(){return s(r[11]||(r[11]=[P("立即释放",-1)]))}),_:1},8,["onClick"])])]}),"base-info":S(function(){return[g("div",za,[g("div",Na,[g("div",Ha,[r[12]||(r[12]=g("span",{class:"w-[81px] inline-flex justify-end"},"空闲内存：",-1)),g("span",Ua,b(v(pe).memFree+" MB"),1)]),g("div",Va,[r[13]||(r[13]=g("span",{class:"w-[81px] inline-flex justify-end"},"已用：",-1)),g("span",Wa,b(v(pe).memRealUsed+" MB"),1)])]),g("div",Ga,[g("div",qa,[r[14]||(r[14]=g("span",{class:"w-[81px] inline-flex justify-end"},"总内存：",-1)),g("span",Ka,b(v(pe).memTotal+" MB"),1)]),g("div",$a,[r[15]||(r[15]=g("span",{class:"w-[81px] inline-flex justify-end"},"共享：",-1)),g("span",Ja,b(v(pe).memShared+" MB"),1)])]),g("div",Za,[g("div",Qa,[r[16]||(r[16]=g("span",{class:"w-[81px] inline-flex justify-end"},"可分配内存：",-1)),g("span",null,b(v(pe).memAvailable+"MB"),1)]),g("div",Ya,[r[17]||(r[17]=g("span",{class:"w-[81px] inline-flex justify-end"},"buff/cache：",-1)),g("span",Xa,b(v(pe).memCached+"/"+v(pe).memBuffers+" MB"),1)])])])]}),_:1},8,["process-alarm-show"])]}),_:1},8,["style","info","main-width","onHide"])],6),"single"===v(V)?(y(!0),h(z,{key:0},N(v(ve),function(e,t){return y(),h("div",{key:t,style:ie(_e("disk")),class:"state-component"},[_(v(n),{style:ie({height:v(W)}),type:"disk",info:e.info,"main-width":v(u),onHide:v(F).removeStatePopover,data:e.data,alert:"None"!==e.data.path&&100===parseInt(e.data.inodes[3])},{default:S(function(){return[_(ta,{item:e},null,8,["item"])]}),_:2},1032,["style","info","main-width","onHide","data","alert"])],4)}),128)):"hybrid"===v(V)?(y(),h(z,{key:1},[(y(!0),h(z,null,N(v(ve).slice(0,v(ve).length-6),function(e,t){return y(),h("div",{key:"hybrid-disk-".concat(t),style:ie(_e("disk")),class:"state-component"},[_(v(n),{style:ie({height:v(W)}),type:"disk",info:e.info,"main-width":v(u),onHide:v(F).removeStatePopover,data:e.data,alert:"None"!==e.data.path&&100===parseInt(e.data.inodes[3])},{default:S(function(){return[_(ta,{item:e},null,8,["item"])]}),_:2},1032,["style","info","main-width","onHide","data","alert"])],4)}),128)),g("div",{style:ie(_e("disk-area")),class:"state-component"},[g("div",{class:"module-ui rounded-medium p-[2.4rem]",style:ie({height:v(W)})},[g("div",er,[_(ka,{list:v(ve).slice(v(ve).length-6),"is-show-all-disk":v(q)},null,8,["list","is-show-all-disk"])])],4)],4)],64)):(y(),h("div",{key:2,style:ie(_e("disk-area")),class:"state-component"},["stack"===v(V)?(y(),C(v(a),{key:0,list:v(ve),class:"bg-white shadow rounded",style:ie({height:v(W)})},null,8,["list","style"])):"tile"===v(V)?(y(),h("div",{key:1,class:"module-ui rounded-medium p-[2.4rem]",style:ie({height:v(q)?"auto":v(W)})},[g("div",tr,[_(ka,{list:v(q)?v(ve):v(ve).slice(0,6),"is-show-all-disk":v(q)},null,8,["list","is-show-all-disk"])])],4)):w("",!0)],4))],2)],512)):"tile"===v(t).home.overview_view?(y(),h("div",nr,[r[30]||(r[30]=g("div",{class:"module-ui-header"},[g("div",{class:"flex w-full justify-between"},[g("span",{class:"font-alibaba-semibold"},"状态")])],-1)),g("div",ar,[_(d,{span:24,class:"w-full"},{default:S(function(){return[_(c,{class:"state-component",span:4,xs:12,sm:6,md:6,lg:4,xl:4},{default:S(function(){return[_(v(n),{info:v(J),onShow:r[3]||(r[3]=function(e){return v(F).moveStatePopover(v(Z),"loadPopover")}),onHide:v(F).removeStatePopover,href:"https://www.bt.cn/bbs/thread-11402-1-1.html"},{default:S(function(){return[_(Un,{"load-type":"loadInfo",ref_key:"loadPopover",ref:Z,type:"load","process-alarm-show":v(Q)},{button:S(function(){return[g("div",rr,[g("div",ir,[r[18]||(r[18]=g("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前负载",-1)),_(i,{type:v(Y).load},{default:S(function(){return[P(b("运行达到".concat(v(J).range,"%")),1)]}),_:1},8,["type"])])])]}),"base-info":S(function(){return[g("div",or,[r[19]||(r[19]=g("div",null,"最近1/5/15分钟平均负载：",-1)),g("div",lr,b(xe.value),1)]),g("div",sr,[r[20]||(r[20]=g("div",null,"活动进程数 / 总进程数:",-1)),g("div",ur,b(ke.value),1)])]}),"content-info":S(function(){return[g("div",cr,[g("table",dr,[g("tbody",null,[(y(!0),h(z,null,N(v(ne),function(e,t){return y(),h("tr",{key:t},[(y(!0),h(z,null,N(e,function(e,t){return y(),h(z,{key:t},[g("td",{title:e.title,class:"break-all text-ellipsis p-[.4rem] pl-0"},[g("span",null,b(e.name),1)],8,fr),g("td",{title:e.title,class:"break-all text-ellipsis"},[g("span",null,b(e.value),1)],8,mr)],64)}),128))])}),128))])])])]}),_:1},8,["process-alarm-show"])]}),_:1},8,["info","onHide"])]}),_:1}),_(c,{class:"state-component",span:4,xs:12,sm:6,md:6,lg:4,xl:4},{default:S(function(){return[_(v(n),{info:v(re),type:"cpu",onShow:r[4]||(r[4]=function(e){return v(F).moveStatePopover(v(oe),"cpuPopover")}),onHide:v(F).removeStatePopover},{default:S(function(){return[_(Un,{"load-type":"cpuInfo",type:"cpu",ref_key:"cpuPopover",ref:oe,"process-alarm-show":v(Q)},{button:S(function(){return[g("div",pr,[g("div",vr,[r[21]||(r[21]=g("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前CPU使用率",-1)),_(i,{type:v(Y).cpu},{default:S(function(){return[P(b("占用".concat(v(re).range,"%")),1)]}),_:1},8,["type"])])])]}),"content-info":S(function(){return[g("div",yr,[(y(!0),h(z,null,N(v(K),function(e,t){return y(),h("div",{key:t,class:"flex direction-row items-center justify-between my-[1rem]"},[g("span",null,b(e.name),1),g("span",null,b(e.value),1)])}),128))])]}),"base-info":S(function(){return[g("p",null,b(v(te).framework),1),g("p",null,b("".concat(v(te).cpuNumber,"个物理CPU，").concat(v(te).logicCores,"个物理核心，").concat(v(te).cores,"个逻辑核心")),1)]}),_:1},8,["process-alarm-show"])]}),_:1},8,["info","onHide"])]}),_:1}),_(c,{class:"state-component",span:4,xs:12,sm:6,md:6,lg:4,xl:4},{default:S(function(){return[_(v(n),{type:"mem",info:v(fe),onShow:r[5]||(r[5]=function(e){return v(F).moveStatePopover(v(me),"memoryPopover")}),onHide:v(F).removeStatePopover},{default:S(function(){return[_(Un,{"load-type":"memoryInfo",type:"mem",ref_key:"memoryPopover",ref:me,"process-alarm-show":v(Q)},{button:S(function(){return[g("div",hr,[g("div",gr,[r[22]||(r[22]=g("span",{class:"text-secondary text-base mr-[4px] ml-[8px]"},"检测到当前内存",-1)),_(i,{type:v(Y).memory},{default:S(function(){return[P(b("占用".concat(v(fe).range,"%")),1)]}),_:1},8,["type"])]),_(o,{type:"primary",onClick:v(F).onClearMemory},{default:S(function(){return s(r[23]||(r[23]=[P("立即释放",-1)]))}),_:1},8,["onClick"])])]}),"base-info":S(function(){return[g("div",br,[g("div",wr,[g("div",xr,[r[24]||(r[24]=g("span",{class:"w-[81px] inline-flex justify-end"},"空闲内存：",-1)),g("span",kr,b(v(pe).memFree+" MB"),1)]),g("div",_r,[r[25]||(r[25]=g("span",{class:"w-[81px] inline-flex justify-end"},"已用：",-1)),g("span",Sr,b(v(pe).memRealUsed+" MB"),1)])]),g("div",Cr,[g("div",Ir,[r[26]||(r[26]=g("span",{class:"w-[81px] inline-flex justify-end"},"总内存：",-1)),g("span",Pr,b(v(pe).memTotal+" MB"),1)]),g("div",jr,[r[27]||(r[27]=g("span",{class:"w-[81px] inline-flex justify-end"},"共享：",-1)),g("span",Tr,b(v(pe).memShared+" MB"),1)])]),g("div",Lr,[g("div",Or,[r[28]||(r[28]=g("span",{class:"w-[81px] inline-flex justify-end"},"可分配内存：",-1)),g("span",null,b(v(pe).memAvailable+"MB"),1)]),g("div",Mr,[r[29]||(r[29]=g("span",{class:"w-[81px] inline-flex justify-end"},"buff/cache：",-1)),g("span",Br,b(v(pe).memCached+"/"+v(pe).memBuffers+" MB"),1)])])])]}),_:1},8,["process-alarm-show"])]}),_:1},8,["info","onHide"])]}),_:1}),(y(!0),h(z,null,N(v(ve).filter(function(e,t,n){return"None"!==e.data.path||n.findIndex(function(e){return"None"===e.data.path})===t}),function(e,t){return y(),C(c,{key:t,class:"state-component",span:4,xs:12,sm:6,md:6,lg:4,xl:4},{default:S(function(){return[_(v(n),{type:"disk",info:e.info,onHide:v(F).removeStatePopover,data:e.data,alert:"None"!==e.data.path&&100===parseInt(e.data.inodes[3])},{default:S(function(){return[_(ta,{item:e},null,8,["item"])]}),_:2},1032,["info","onHide","data","alert"])]}),_:2},1024)}),128))]}),_:1})])])):w("",!0)])}}}),Ar=Fe(Rr,[["__scopeId","data-v-2dc75395"]]);function Er(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.document,l=void 0===o?pe:o,u=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(i,e),c={onUpdate:function(e){!function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;null!=a&&((r=a.item).parentNode&&r.parentNode.removeChild(r),function(e,t,n){var a=e.children[n];e.insertBefore(t,a)}(a.from,a.item,t));var r;var i=G(e),o=i?s(ve(e)):ve(e);if(n>=0&&n<o.length){var l=o.splice(t,1)[0];F(function(){o.splice(n,0,l),i&&(e.value=o)})}}(n,e.oldIndex,e.newIndex,e)}},d=function(){var e=null==l?void 0:l.querySelector(t);e&&void 0===r&&(r=new st(e,a(a({},c),u)))},f=function(){null==r||r.destroy(),r=void 0};return fe(d),me(f),{stop:f,start:d,option:function(e,t){if(void 0===t)return null==r?void 0:r.option(e);null==r||r.option(e,t)}}}var Fr=n("c",A("HOME-OVERVIEW-STORE",function(){var e=E(),t=Me(),n=t.mainWidth,i=t.payment,o=f(i.value).authType,l=c([]),s=c(!0),u=c(!1),m=function(){var e=p(d().m(function e(){var t,n;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Be({request:Ot(),data:{data:[Array,l]}});case 1:return t=e.v,v(),e.a(2,Promise.resolve(t.data));case 2:e.p=2,n=e.v,ut(n);case 3:return e.p=3,s.value=!1,F(function(){_()}),e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=l.value.findIndex(function(e){return"ssh_log"===e.name});-1!==e&&Be({loading:u,request:Mt({log_type:l.value[e].params[0].source}),success:function(t){Array.isArray(t.data)&&(l.value[e].value=t.data)}})},y=function(){var e=p(d().m(function e(t){return d().w(function(e){for(;;)if(0===e.n)return e.a(2,Re({title:"自定义概览模块",area:100,compData:t,component:function(){return Ae(function(){return r.import("./index-legacy342.js?v=1763689792")},void 0,r.meta.url)}}))},e)}));return function(t){return e.apply(this,arguments)}}(),h=function(){var t=p(d().m(function t(n){var a,r,i;return d().w(function(t){for(;;)switch(t.n){case 0:i=n.type,t.n="base"===i?1:"model"===i?2:"plugin"===i?5:6;break;case 1:return a=n.params[0].source,r="/"+(["ftps","sites","databases"].includes(n.name)&&"all"===a?"":a).replace("proxy","nginx"),t.a(2,e.push({path:n.source.href+r}));case 2:if("memo"!==n.name){t.n=3;break}return t.a(2,b());case 3:if("safety_risk"!==n.name){t.n=4;break}return t.a(2,w());case 4:if("ssh_log"!==n.name){t.n=5;break}return t.a(2,e.push({path:"/logs/ssh"}));case 5:return t.a(2,k(n));case 6:if("search_file"!==n.name){t.n=7;break}return t.a(2,S());case 7:if("open_dir"!==n.name){t.n=8;break}return t.a(2,Kt({path:n.params[0].name}));case 8:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}(),g=function(){var e=p(d().m(function e(){var t;return d().w(function(e){for(;;)switch(e.n){case 0:return t=l.value.map(function(e,t){return e.id}),e.n=1,Be({request:Et({overview:JSON.stringify(t)}),message:!0,success:function(e){e.status||m()}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)if(0===e.n)return e.a(2,Re({title:"备忘录",area:[70,60],component:function(){return Ae(function(){return r.import("./index-legacy343.js?v=1763689792")},void 0,r.meta.url)}}))},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)if(0===e.n)return e.a(2,Re({area:[90,60],component:function(){return Ae(function(){return r.import("./index-legacy344.js?v=1763689792").then(function(e){return e.i})},void 0,r.meta.url)}}))},e)}));return function(){return e.apply(this,arguments)}}(),x=function(e){var t=e.plugin_info.type;return"free"===o.value&&(8===t||12===t)||"ltd"!==o.value&&12===t},k=function(e){var t=e.plugin_info,n=(t.type,t.endtime),a=(t.setup,"total"===e.name?41:"btwaf"===e.name?366:42);if(x(e)&&n<0)return Tt({disablePro:!0,sourceId:a});jt({name:e.name})},_=function(){var e;Er(".overview-wrapper",l,{animation:500,handle:".move-icon",chosenClass:"ghost",onUpdate:(e=p(d().m(function e(t){var n,a,r;return d().w(function(e){for(;;)switch(e.n){case 0:n=t.oldIndex,a=t.newIndex,r=l.value[n],l.value.splice(n,1),l.value.splice(a,0,r),g();case 1:return e.a(2)}},e)})),function(t){return e.apply(this,arguments)})})},S=function(){nt("searchFile","true"),e.push({path:"/files"})},C=c(""),I=c("/www/server/panel/data/memo.txt"),P=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:Be({loading:"正在保存备忘录，请稍后...",request:ct({path:I.value,data:C.value,encoding:"utf-8"}),message:!0,success:function(e){e.status&&m()}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:Be({loading:"正在获取备忘录数据，请稍后...",request:dt(),data:[String,C]});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),T=ye([]),L=c([]),O=ye(!1),M=ye(0),B=c({val0:0,val1:0,val2:0,val3:0}),D=c(["sites","databases","total","ssh_log","monitor"]),R=c(["open_dir"]),A=function(){var e={};L.value=[],l.value.forEach(function(t){e[t.name]=t}),T.value.forEach(function(t){var n=t.template;t.option.forEach(function(t){var r=e[t.name]||!1;L.value.push(a(a({},t),{isShow:Boolean(r),showItem:r,template:n,overviewPopover:!1}))})})},z=function(){var e=p(d().m(function e(t){var n,a,r,i;return d().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!t.isShow||6!==l.value.length){e.n=1;break}return F(function(){return t.isShow=!1}),e.a(2,ft.warn("最多只能显示6个模块"));case 1:if(n=N(t),t.isShow||!rt(t.showItem.id)){e.n=3;break}return e.n=2,V();case 2:(t=L.value.find(function(e){return e.name===t.name})).isShow=!t.isShow;case 3:a=t.isShow?Dt:Bt,r=t.isShow?{overview:JSON.stringify(n)}:{overview_id:t.showItem.id},Be({loading:"正在".concat(t.isShow?"删除":"添加","模块，请稍后..."),request:a(r),message:!0,data:{data:Array,msg:String,status:Boolean},success:function(){var e=p(d().m(function e(n){return d().w(function(e){for(;;)switch(e.n){case 0:if(!n.status){e.n=2;break}return t.isShow&&(t.showItem=n.data.length?n.data[n.data.length-1]:t.showItem),e.n=1,m();case 1:A();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()}),e.n=5;break;case 4:e.p=4,i=e.v,ut(i);case 5:return e.a(2)}},e,null,[[0,4]])}));return function(t){return e.apply(this,arguments)}}(),N=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a({},e),r=[],i=[];for(var o in B.value)e.params.length&&i.push(B.value[o]);if(0===i.length&&(i=[0]),"open_dir"===e.name){var l=B.value.val0||e.params[0].option[0].source;r=[{name:l,source:l}]}else r=n.params.map(function(t,n){return"select"===t.type?t.option[i[n]]:e.params?e.params[n]:void 0});return delete n.overviewPopover,t?(e.showItem.params=r,n=a({},e.showItem)):(delete n.showItem,n.params=r),n},H=function(){var e=p(d().m(function e(t){var n,a,r;return d().w(function(e){for(;;)switch(e.n){case 0:if((n=Boolean(t.showItem))||6!==l.value.length){e.n=1;break}return t.overviewPopover=!1,F(function(){return t.isShow=!1}),e.a(2,ft.warn("最多只能显示6个模块"));case 1:a={overview:JSON.stringify(N(t,n))},r=n&&t.isShow?Rt:Dt,Be({loading:"正在".concat(n?"修改":"添加","模块，请稍后..."),request:r(a),message:!0,success:function(){var e=p(d().m(function e(n){return d().w(function(e){for(;;)switch(e.n){case 0:if(t.overviewPopover=!1,t.isShow=!0,U(),!n.status){e.n=2;break}return e.n=1,m();case 1:A();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()});case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),U=function(){B.value={val0:0,val1:0,val2:0,val3:0}},V=function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Be({loading:O,request:mt(),data:{data:[Array,T]}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();return{mainWidth:n,loading:s,isSshLoading:u,overviewShowList:l,getOverviewData:m,openOverviewTemplate:function(){y({getOverviewData:m})},openModelDialog:h,securityRisksDialog:w,getModelTitle:function(e){var t=e.title,n=0,a=e.params.length||0,r=["ssh_log"];if(!e.status)return t;if("open_dir"===e.name)return t;a>=2&&(t="");for(var i=a-1;i>=0;i--){var o=e.params[i];(t===o.name||r.indexOf(e.name)>-1)&&(t=""),2!==n&&(1===a&&""!=t&&(t+=" - "),t+="".concat(o.name)+(i===a-1&&a>1?" - ":""),n++),n=0}return t.replace(" - 全部","")},getPayStatus:x,getModelTips:function(e){switch(e.template){case"base":return"memo"===e.name||"safety_risk"===e.name?"打开".concat(e.title,"模块"):"跳转至".concat(e.title,"页面");case"browse":return"plugin"===e.type?"打开".concat(e.title,"插件"):"打开".concat(e.title,"模块");case"open_dir":return"打开".concat(e.title)}},content:C,path:I,saveFileEvent:P,getMemoData:j,isLoading:O,overviewModelList:L,supportConfig:D,supportPath:R,form:B,onPathChange:function(e){At({type:"dir",change:function(t){B.value.val0=t,H(e)}})},getOverviewTemplateData:V,dataAlignment:A,setOverviewTemplateShow:z,addOverviewFun:H,setPopoverShow:function(e,t){L.value[t].overviewPopover=!0,M.value=t;for(var n=e.showItem.params,a=Object.entries(B.value),r=function(t){if(!(t<e.params.length))return 1;var a=e.params[t];if("select"===a.type){var r=a.option.findIndex(function(e){return!n||(!n[t]||e.source===n[t].source)});B.value["val"+t]=r}else B.value["val"+t]=n?n[t].source:a.option[t].source},i=0;i<a.length&&!r(i);i++);}}})),zr={class:"module-ui mb-[1.2rem] mx-[1.2rem]"},Nr={class:"module-ui-header"},Hr={class:"flex w-full justify-between"},Ur={class:"module-ui-body mt-[1.2rem]"},Vr={class:"!mx-0 w-full"},Wr={class:"flex flex-col w-full relative inline-block"},Gr={class:"overview-box"},qr={class:"overview-content"},Kr={class:"content w-full"},$r={class:"title"},Jr={class:"flex h-[4.4rem] items-center w-full"},Zr={key:0,class:"risk not-install bt-blink"},Qr={key:1,class:"model font-bold"},Yr={class:"to-day"},Xr={class:"yester-day ml-[1.6rem]"},ei={key:2,class:"path-info bt-link-primary truncate"},ti={key:3,class:"path-info bt-link-primary truncate"},ni={key:4,class:"icon-open-routes"},ai={class:"icon-open-routes-text"},ri=Fe(l({__name:"index",setup:function(e){var t=Fr(),n=x(t),a=n.mainWidth,r=n.loading,i=n.isSshLoading,o=n.overviewShowList,l=k(function(){var e,t=a.value<1100?a.value<800?a.value<400?1:2:4:a.value>1800?8:6,n=Math.floor((a.value-16*t-50)/t);return e=Math.min(Math.max(n,200),270),{number:24/(t>o.value.length?o.value.length:t),width:e}}),u=k(function(){return l.value.width<230});return m(p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:kt({promises:[t.getOverviewData],delay:100});case 1:return e.a(2)}},e)}))),function(e,n){var a=ge,c=be,d=ce,f=de,m=we;return y(),h("div",zr,[g("div",Nr,[g("div",Hr,[n[3]||(n[3]=g("span",{class:"font-alibaba-semibold"},"概览",-1)),g("span",{title:"自定义概览模块",class:"!ml-[1rem] cursor-pointer",onClick:n[0]||(n[0]=function(e){return v(t).openOverviewTemplate()})},s(n[2]||(n[2]=[g("i",{class:"svgtofont-el-more-filled !text-large hover:text-primary inline-block",style:{transform:"rotate(90deg)"}},null,-1)])))])]),g("div",Ur,[g("div",Vr,[_(f,{span:24,gutter:20,class:"overview-wrapper draggable-group"},{default:S(function(){return[v(r)?(y(),h(z,{key:0},N(5,function(e){return _(c,{style:ie({width:"".concat(v(l).width,"px")}),class:"overview-box",key:e},{template:S(function(){return[g("div",Wr,[_(a,{variant:"text",class:"!w-[40%]"}),_(a,{variant:"text",class:"mt-10px"})])]}),_:1},8,["style"])}),64)):w("",!0),(y(!0),h(z,null,N(v(o),function(e){return y(),C(d,{span:v(l).number,xl:v(l).number,class:"rounded-large",key:e.id,onClick:function(n){return v(t).openModelDialog(e)},style:ie({minWidth:"".concat(v(l).width,"px")})},{default:S(function(){return[g("div",Gr,[g("i",{class:"svgtofont-icon-drag move-icon",onClick:n[1]||(n[1]=he(function(){},["stop"])),title:"可拖拽"}),g("div",qr,[g("div",Kr,[g("span",$r,b(v(t).getModelTitle(e)),1),g("div",Jr,["base"===e.template?(y(),h("span",{key:0,class:j(["bt-link-primary !text-subtitleLarge text-alibaba",{memo:"memo"===e.name,risk:"safety_risk"===e.name&&e.value[0]>0,"!text-disabled":"memo"===e.name&&!e.value[0]}])},b(e.value[0]||("memo"===e.name?"当前内容为空，点击编辑":e.value[0])),3)):"browse"===e.template?(y(),h(z,{key:1},["plugin"!==e.type||e.plugin_info.setup?"plugin"===e.type||"model"===e.type?J((y(),h("div",Qr,[g("div",Yr,[n[4]||(n[4]=g("span",{class:""},"今日",-1)),g("span",null,b(e.value[0]||0),1)]),g("div",Xr,[n[5]||(n[5]=g("span",null,"昨日",-1)),g("span",null,b(e.value[1]||0),1)])])),[[m,v(i)&&"ssh_log"===e.name]]):w("",!0):(y(),h("span",Zr,b(v(t).getPayStatus(e)?"立即购买":"立即安装"),1))],64)):"open_dir"===e.template?(y(),h("span",ei,b(e.params[0].name),1)):"search_file"===e.template?(y(),h("span",ti," 点击搜索内容 ")):w("",!0),"base"===e.type||"safety_risk"===e.name?(y(),h("div",ni,[n[6]||(n[6]=g("span",{class:"icon-open-routes-icon"},[g("i",{class:"svgtofont-el-arrow-right font-bold text-medium"})],-1)),g("span",ai,b(v(u)?"打开":"打开到".concat(v(t).getModelTitle(e).split("-")[0])),1)])):w("",!0)])])])])]}),_:2},1032,["span","xl","onClick","style"])}),128))]}),_:1})])])])}}}),[["__scopeId","data-v-d39ddaca"]]),ii={class:"module-ui flex flex-col"},oi={class:"module-ui-header"},li={class:"w-full flex justify-between items-center"},si={class:"plugin-search"},ui={class:"pluginInfo"},ci=["src"],di={class:"plugin-desc"},fi={class:"wrapper module-ui-body soft-wrapper"},mi=["onClick"],pi={key:0,id:"freeTagCon"},vi={class:"h-38 pt-5 w-full text-center flex justify-center items-center"},yi={class:"w-[6rem] h-[6rem] rounded-large bg-dark flex items-center justify-center"},hi=["src","custom"],gi={class:"text-tertiary h-9 leading-9 flex items-center justify-center pb-[8px]"},bi={class:"w-full truncate text-center"},wi=["onClick"],xi={class:"h-38 pt-5 w-full text-center flex justify-center items-center"},ki={class:"w-[6rem] h-[6rem] rounded-large bg-dark flex items-center justify-center"},_i=["src"],Si={class:"flex justify-center items-center h-9 leading-9 pb-[8px]"},Ci={class:"text-tertiary h-9 leading-9 w-full truncate text-center"},Ii={class:"flex justify-center align-middle mt-2 mb-4 opacity-70"},Pi=l({__name:"index",setup:function(e){var t=$t(),n=x(t),a=n.popShow,r=n.pluginKeyword,i=n.recommendList,o=n.containerRef,l=n.mySoftList,u=n.tableLoading,c=n.isGetSoft,f=n.softShowList;return R(i,function(e){e.length>0&&t.createSoftList()},{immediate:!0}),m(p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,kt({promises:[t.getHomeInstallSoftData,t.getRecommendInfo],delay:100});case 1:F(function(){if(Jt().type.includes("aliyun"))var e=setInterval(p(d().m(function t(){var n;return d().w(function(t){for(;;)switch(t.n){case 0:if(!window.$extension){t.n=2;break}return t.n=1,window.$extension();case 1:n=t.v,$e(n.extensionElement)&&!n.extensionElement&&clearTimeout(e),n.extensionElement&&(n.extensionElement(),clearTimeout(e));case 2:return t.a(2)}},t)})),1e3)});case 2:return e.a(2)}},e)}))),function(e,n){var i=X,d=_e,m=Se,p=q,x=Ce,k=L,I=K("table-scroll-load"),T=K("bt-loading");return y(),h("div",ii,[g("div",oi,[g("div",li,[g("span",{onClick:n[0]||(n[0]=function(){var e;return v(t).goSoft&&(e=v(t)).goSoft.apply(e,arguments)}),class:"cursor-pointer hover:text-primary font-alibaba-semibold"},"软件"),_(k,{"popper-class":"myPopover",placement:"right-start",visible:v(a),width:"400",onShow:n[7]||(n[7]=function(e){return v(t).showPopoverHandle("")})},{reference:S(function(){return[_(i,{ref:"softButton",class:"soft-button-no-padding",type:"default",title:"软件自定义编辑",link:"",onClick:n[6]||(n[6]=function(e){return a.value=!v(a)})},{default:S(function(){return s(n[10]||(n[10]=[g("i",{class:"svgtofont-el-more-filled text-default !text-large hover:text-primary inline-block",style:{transform:"rotate(90deg)"}},null,-1)]))}),_:1},512)]}),default:S(function(){return[g("div",{ref_key:"containerRef",ref:o,class:"plugin-box p-[.8rem]",onMouseleave:n[5]||(n[5]=function(){var e;return v(t).leave&&(e=v(t)).leave.apply(e,arguments)})},[g("div",si,[_(d,{placeholder:"请输入要搜索的应用",modelValue:v(r),"onUpdate:modelValue":n[2]||(n[2]=function(e){return G(r)?r.value=e:null}),"fetch-suggestions":v(t).querySearch,"trigger-on-focus":!1,class:"search-input w-full","popper-class":"soft-search-popover",onKeyup:n[3]||(n[3]=xe(function(e){return v(t).searchPluginHandle("select")},["enter","native"])),onSelect:n[4]||(n[4]=function(e){return v(t).searchPluginHandle()})},{append:S(function(){return[_(i,{onClick:n[1]||(n[1]=function(e){return v(t).searchPluginHandle("select")})},{default:S(function(){return s(n[9]||(n[9]=[g("i",{class:"svgtofont-el-search"},null,-1)]))}),_:1})]}),_:1},8,["modelValue","fetch-suggestions"])]),J((y(),C(x,{data:v(l),height:"400"},{default:S(function(){return[_(m,{width:"260",property:"date",label:"软件名称"},{default:S(function(e){return[g("div",ui,[g("img",{class:"plugin-img",src:v(t).renderSoftImages(e.row.name)},null,8,ci),g("span",di,b(e.row.title)+" "+b(e.row.version),1)])]}),_:1}),_(m,{property:"setup",sortable:"",label:"首页显示",prop:"index_display"},{default:S(function(e){return[_(p,{modelValue:e.row.index_display,"onUpdate:modelValue":function(t){return e.row.index_display=t},"active-color":"var(--el-color-primary)","inactive-color":"var(--el-color-text-disabled)",width:32,size:"small",onChange:function(n){return v(t).changeSwitchHandle(e.row,e.$index)}},null,8,["modelValue","onUpdate:modelValue","onChange"])]}),_:1})]}),_:1},8,["data"])),[[I,v(t).load],[T,v(u)]])],544)]}),_:1},8,["visible"])])]),J((y(),h("div",fi,[_(ke,null,{default:S(function(){return[(y(!0),h(z,null,N(v(f),function(e,a){return y(),h("div",{key:e.name+"_id",class:j(e.title?"box-wrapper cursor-pointer relative":"")},[a<12?(y(),h(z,{key:0},[e.id&&e.setup?(y(),h("div",{key:0,onClick:function(n){return v(t).openSoftView(e)}},[g("i",{class:"svgtofont-icon-drag !text-base text-secondary !hidden absolute right-6 top-6 cursor-move mover soft-move",onClick:n[8]||(n[8]=he(function(){},["stop"]))}),e.tag?(y(),h("span",pi)):w("",!0),g("div",vi,[g("div",yi,[g("img",{src:v(t).renderSoftImages(e.name),class:"w-[4rem]",custom:!v(pt)},null,8,hi)])]),g("div",gi,[g("span",bi,[P(b(e.title.replace(/PHP-[{0-9},\.]+/,"PHP-")+" "+e.version)+" ",1),J(g("i",{style:ie("color:".concat(v(t).softStatusColor(e))),class:j("ml-[5px] svgtofont-icon-".concat(v(t).softStatus(e)))},null,6),[[te,5===e.type]])])])],8,mi)):v(vt)(e)?w("",!0):(y(),h(z,{key:1},[g("div",{onClick:function(n){return v(t).openRecommendSoftView(e)},class:"absolute rounded- left-2 top-2 py-.5 px-3 transform scale-75 bg-lighter text-tertiary opacity-80"},"推荐",8,wi),g("div",xi,[g("div",ki,[g("img",{src:"".concat(v(pt)?"/static/images":"/static/img","/soft_ico/ico-").concat(e.name,".png"),class:"w-[4rem]"},null,8,_i)])]),g("div",Si,[g("div",Ci,[P(b(e.title)+" "+b(e.version),1),n[11]||(n[11]=g("span",{class:"text-btColor"},null,-1))])]),g("div",Ii,[e.preview?(y(),C(i,{key:0,type:"default",size:"small",onClick:function(n){return v(t).openSoftPreLink(e)},plain:""},{default:S(function(){return s(n[12]||(n[12]=[P("预览",-1)]))}),_:1},8,["onClick"])):w("",!0),e.isBuy?w("",!0):(y(),C(i,{key:1,type:"primary",size:"small",plain:"",onClick:function(n){return v(t).openLtdPayView(e)}},{default:S(function(){return s(n[13]||(n[13]=[P("购买",-1)]))}),_:1},8,["onClick"])),e.isBuy&&!e.install?(y(),C(i,{key:2,type:"primary",size:"small",plain:"",onClick:function(n){return v(t).openInstall(e)}},{default:S(function(){return s(n[14]||(n[14]=[P("安装",-1)]))}),_:1},8,["onClick"])):w("",!0)])],64))],64)):w("",!0)],2)}),128))]}),_:1})])),[[T,v(c)],[T,"正在获取软件列表，请稍后...","title"]])])}}}),ji=Fe(Pi,[["__scopeId","data-v-12d56308"]]),Ti={class:"monitor monitor-chart w-full"},Li=l({__name:"main",props:Ie({info:{default:function(){return{info:[],option:{}}}}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup:function(e,t){var n=t.expose,r=Pe(e,"modelValue"),i=c();R(r,function(e){e&&f(e)});var o=yt({options:{xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{boundaryGap:[0,"50%"],type:"value"},series:[]}}),l=o.BtECharts,s=o.getEChart,u=o.setOption,f=function(){var e=p(d().m(function e(t){var n;return d().w(function(e){for(;;)switch(e.n){case 0:return u(m(t)),e.n=1,s();case 1:i.value=e.v,null===(n=i.value)||void 0===n||n.resize();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={grid:{right:"5%",bottom:"6%",top:"6%"},tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:t.formatter},xAxis:{type:"category",boundaryGap:!1,data:t.tData,axisLine:{lineStyle:{color:Ue.value?"#888":"#cccccc"}}},yAxis:a(a(a({type:"value",boundaryGap:[0,"100%"],splitNumber:t.splitNumber,min:0},t.axisLabel?{axisLabel:t.axisLabel}:{}),"iostat"===(null===(e=r.value)||void 0===e?void 0:e.type)?{axisLabel:{formatter:function(e,t){return tt(e,!1,0)},color:"#666"}}:{}),{},{splitLine:{lineStyle:{color:Ue.value?"#888":"#cccccc",type:"dashed"}},axisLine:{lineStyle:{color:Ue.value?"#888":"#cccccc"}}}),series:[]},i=t.legend,o=t.dataZoom,l=t.list;return i&&(n.legend=i),o&&(n.dataZoom=o),l.forEach(function(e){var t={name:e.name,data:e.data,type:e.type||"line",smooth:e.smooth||!0,symbol:"circle",symbolSize:6,showSymbol:!0,emphasis:{symbolSize:8},sampling:e.sampling||"average",areaStyle:e.areaStyle||{},lineStyle:a({},e.lineStyle||{}),itemStyle:a(a({},e.itemStyle||{}),{},{borderColor:"#fff",borderWidth:"1px"})};n.series.push(t)}),n};return n({echartRef:i,setConfig:f}),function(e,t){return y(),h("div",Ti,[$(e.$slots,"default",{},void 0,!0),_(v(l),{class:"w-full"})])}}}),Oi=Fe(Li,[["__scopeId","data-v-f3782170"]]),Mi=A("HOME-MONITOR-STORE",function(){var e,t,n=Wt(),a=x(n).isRefreshData,r=c(!0),i=c(!1),o=c(),l=c(),s=c("net"),u=c(0),f=k(function(){return S(u.value)}),m=ye({}),v=ye({}),y=c([]),h=c([]),g=W({net:{selectVal:"ALL",selectList:[],data:{timeList:[],upList:[],downList:[]},info:{up:{label:"上行",value:"0 B",bgColor:"#20a53a"},down:{label:"下行",value:"0 B",bgColor:" #FF9901"},upTotal:{label:"总发送",value:"0 B"},downTotal:{label:"总接收",value:"0 B"}}},iostat:{selectVal:"ALL",selectList:[],data:{timeList:[],readList:[],writeList:[],tipsList:[]},info:{read:{label:"读取",value:"0 B",bgColor:"#FF4683"},write:{label:"写入",value:"0 B",bgColor:"#6CC0CF"},second:{label:"每秒读写",value:"0次"},io:{label:"IO延迟",value:"0 ms",color:"#20a53a"}}}}),b=c([{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!1},{label:"GB/s",value:"GB",disable:!1},{label:"TB/s",value:"TB",disable:!1}]);(t=e||(e={})).Net="net",t.Iostat="iostat",yn.useSetCallback("network",function(e){var t;if(e){y.value=e,"net"===s.value&&I(e,f.value);var n=M("net","data");m.value=P(n),null!==(t=O(s.value))&&void 0!==t&&null!==(t=t.echartRef)&&void 0!==t&&t.id&&(i.value=!1),_()}}),yn.useSetCallback("diskIo",function(){var e=p(d().m(function e(t){var n,a;return d().w(function(e){for(;;)switch(e.n){case 0:if(t){e.n=1;break}return e.a(2);case 1:h.value=t,"iostat"===s.value&&j(t),a=M("iostat","data"),v.value=T(a),null!==(n=O(s.value))&&void 0!==n&&null!==(n=n.echartRef)&&void 0!==n&&n.id&&(i.value=!1),_();case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}());var w=k(function(){return g[s.value].selectVal}),_=function(){var e=function(){var e=B(t),n=g[t],a=n.selectList;a.length=0,Object.keys(e).forEach(function(e){if("ALL"===e)return n.selectVal||(n.selectVal=e),void a.unshift({label:"所有",value:"ALL"});a.push({label:e,value:e})})};for(var t in g)e()},S=function(e){var t=[" B"," KB"," MB"," GB"," TB"," PB"," EB"];return e<1024?t[0]:e<Math.pow(1024,2)?t[1]:e<Math.pow(1024,3)?t[2]:e<Math.pow(1024,4)?t[3]:e<Math.pow(1024,5)?t[4]:e<Math.pow(1024,6)?t[5]:t[6]},C=function(e,t){var n=e.up,a=e.down,r=e.upTotal,i=e.downTotal;return{up:tt(1024*n,!1,2,t),down:tt(1024*a,!1,2,t),upTotal:tt(1024*r,!1,2,t),downTotal:tt(1024*i,!1,2,t)}},I=function(e,t){var n=M("net"),a=n.info,r=n.data,i=e[w.value||"ALL"];if(i){for(var o=a.up,l=a.down,s=a.upTotal,c=a.downTotal,d=0;d<r.upList.length;d++){var m=r.upList[d];m>u.value&&(u.value=m);var p=r.downList[d];p>u.value&&(u.value=p)}C(i,f.value);var v=C(i,"MB");if(o.value=tt(1024*i.up,!0,1),l.value=tt(1024*i.down,!0,1),s.value=tt(i.upTotal,!0,1),c.value=tt(i.downTotal,!0,1),100*parseFloat(v.down)==0||100*parseFloat(v.down)==0)b.value=[{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!0},{label:"GB/s",value:"GB",disable:!0},{label:"TB/s",value:"TB",disable:!0}];else{var y=C(i,"GB");if(100*parseFloat(y.down)==0||100*parseFloat(y.down)==0)b.value=[{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!1},{label:"GB/s",value:"GB",disable:!0},{label:"TB/s",value:"TB",disable:!0}];else{var h=C(i,"TB");100*parseFloat(h.down)!=0&&100*parseFloat(h.down)!=0||(b.value=[{label:"KB/s",value:"KB",disable:!1},{label:"MB/s",value:"MB",disable:!1},{label:"GB/s",value:"GB",disable:!1},{label:"TB/s",value:"TB",disable:!0}])}}L("net",[{key:"timeList"},{key:"upList",value:Number(1024*i.up)},{key:"downList",value:Number(1024*i.down)}])}},P=function(e){return{dataZoom:[],tData:e.timeList,list:[{name:"上行",data:e.upList,circle:"circle",itemStyle:{color:"#20a53a"},lineStyle:{width:2,color:"#20a53a"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(32, 165, 58, .6)"},{offset:.8,color:"rgba(32, 165, 58, 0)"}]}}},{name:"下行",data:e.downList,circle:"circle",itemStyle:{color:" #FF9901"},lineStyle:{width:2,color:"#FF9901"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(255, 153, 1, .6)"},{offset:.8,color:"rgba(255, 153, 1, 0)"}]}}}],axisLabel:{formatter:function(e){return tt(e,!1,0,f.value)}},formatter:function(e){for(var t="",n=0;n<e.length;n++){var a=e[n];if(rt(a.data))return!1;t+='<span class="inline-block w-[1rem] h-[1rem] mr-[1rem]" style="border-radius: var(--el-border-radius-circle); background: '.concat(a.color,';"></span>').concat(a.seriesName,"：").concat(tt(parseFloat(a.data),!0,1),"/s ").concat(e.length-1!==n?"<br />":"")}return"时间：".concat(e[0].axisValue,"<br />").concat(t)}}},j=function(e){var t=M("iostat").info,n=e[g.iostat.selectVal||"ALL"],a=t.read,r=t.write,i=t.second,o=t.io;if(n){var l=n.read_bytes,s=n.write_bytes,u=n.read_count,c=n.write_count,d=n.read_time,f=n.write_time;a.value=tt(l,!0,1),r.value=tt(s,!0,1),i.value="".concat(u+c," 次"),o.value="".concat(f>d?f:d," ms");var m=parseInt(o.value);o.color=m>=1e3?"var(--el-color-danger)":m>100&&m<1e3?"var(--el-color-warning)":"var(--el-color-primary)",L("iostat",[{key:"timeList"},{key:"readList",value:l},{key:"writeList",value:s},{key:"tipsList",value:n}])}},T=function(e){return{dataZoom:[],type:"iostat",tData:e.timeList,list:[{name:"读取字节数",data:e.readList,circle:"circle",itemStyle:{color:"#FF4683"},lineStyle:{width:2,color:"#FF4683"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(255, 70, 131, .8)"},{offset:.8,color:"rgba(255, 70, 131, 0)"}]}}},{name:"写入字节数",data:e.writeList,circle:"circle",itemStyle:{color:"#6CC0CF"},lineStyle:{width:2,color:"#6CC0CF"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,global:!1,colorStops:[{offset:0,color:"rgba(108, 192, 207, .8)"},{offset:.8,color:"rgba(108, 192, 207, 0)"}]}}}],formatter:function(t){for(var n="时间：".concat(t[0].axisValue,"<br />"),a={read_bytes:"读取字节数",read_count:"读取字节数",read_merged_count:"合并读取次数",read_time:"读取延迟",write_bytes:"写入字节数",write_count:"写入次数",write_merged_count:"合并写入次数",write_time:"写入延迟"},r=e.tipsList[t[0].dataIndex],i=0;i<t.length;i++){var o=t[i];if(rt(o.data))return!1;n+='<span class="inline-block w-[1rem] h-[1rem] mr-[.1rem]" style="border-radius: var(--el-border-radius-circle); background: '.concat(o.color,';"></span>&nbsp;&nbsp;<span>').concat(o.seriesName,"：").concat(tt(parseFloat(o.data),!0,1),"/s</span><br />")}return["read_count","write_count","read_merged_count","write_merged_count","read_time","write_time"].forEach(function(e){var t=r[e],i=t>100&&t<1e3?"#ff9900":t>=1e3?"red":"#20a53a",o=e.indexOf("time")>-1?"color: ".concat(i):"",l=e.indexOf("time")>-1?" ms":" 次/秒";n+='<span class="inline-block w-[1rem] h-[1rem]"></span>&nbsp;&nbsp;<span style="'.concat(o,'">').concat(a[e],"：").concat(t+l,"</span><br />")}),n}}},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,a=M(e,"data");t.forEach(function(e){var t=e.key,r=e.value,i=a[t];i.length>=n&&i.splice(0,1),"timeList"==t?i.push(ht((new Date).getTime(),"hh:mm:ss",!0)):i.push(r)})},O=function(e){return"net"==e?o.value:"iostat"==e?l.value:void 0},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"net",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?g[e][t]:g[e]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"net";return"net"==e?y.value:"iostat"==e?h.value:{}};return{netRefs:o,iostatRefs:l,loading:i,iostatConfig:v,resource:g,unitList:b,activeName:s,netConfig:m,netUnit:f,initChart:function(){i.value=!0;var e=localStorage.getItem("home-model-active"),t=localStorage.getItem("home-".concat(e,"-active"));e&&(s.value=e,g[e].selectVal=t||"ALL"),F(function(){a.value=!0});var n=M("net","data");m.value=P(n);var r=M("iostat","data");v.value=T(r)},onSelectChange:function(){localStorage.setItem("home-model-active",s.value),localStorage.setItem("home-".concat(s.value,"-active"),w.value),"net"===s.value?I(y.value,f.value):j(h.value)},onNetUnitChange:function(){g.net.data.timeList=[],g.net.data.upList=[],g.net.data.downList=[],localStorage.setItem("netUnit",f.value),I(y.value,f.value)},onTabsChange:function(){var e=s.value;localStorage.setItem("home-model-active",e);var t=localStorage.getItem("home-".concat(e,"-active"));t&&g[e].selectList.some(function(e){return e.value===t})?g[e].selectVal=t:g[e].selectVal="ALL",F(function(){var t=O(e);if(null!=t&&t.echartRef&&setTimeout(function(){t.echartRef.resize()},100),r.value&&"iostat"===e){r.value=!1;var n=M("iostat","data");t&&n&&t.setConfig(T(n))}})}}}),Bi={class:"module-ui"},Di={class:"module-ui-header"},Ri={class:"flex justify-between items-center w-full -ml-[1.4rem]"},Ai={class:"flex items-center"},Ei={class:"flex items-center"},Fi={class:"text-tertiary font-500 text-small mr-[1.5rem] whitespace-pre"},zi={class:"module-ui-body"},Ni=l({__name:"index",setup:function(e){var t=c(!1),n=c(!1),a=l({name:"NetMonitor",setup:function(e,t){var n=t.emit,a=Mi(),r=x(a),i=r.netConfig,o=r.resource,l=(r.unitList,r.netUnit,r.netRefs);return m(function(){n("cache-status",{type:"net",cached:!0})}),function(){return _("div",{class:"home-monitor-content"},[_("div",{class:"home-monitor__stats-grid"},[Object.values(o.value.net.info).map(function(e,t){return _("div",{key:t,class:"home-monitor__stat-item"},[_("div",{class:"home-monitor__stat-content"},[_("div",{class:"home-monitor__stat-left"},[e.bgColor&&_("div",{class:"home-monitor__stat-dot-wrapper"},[_("span",{class:"home-monitor__stat-dot",style:{backgroundColor:e.bgColor}},null),_("span",{class:"home-monitor__stat-dot-ripple",style:{borderColor:e.bgColor}},null)]),_("span",{class:"home-monitor__stat-label"},[e.label])]),_("div",{class:"home-monitor__stat-right"},[_("div",{class:"home-monitor__stat-value",style:{color:e.color||"var(--el-color-text-secondary)"}},[e.value])])])])})]),_("div",{class:"home-monitor__chart-container"},[_(Oi,{ref:l,modelValue:i.value,info:o.value.net.info},null)])])}}}),r=l({name:"IostatMonitor",setup:function(e,t){var n=t.emit,a=Mi(),r=x(a),i=r.iostatConfig,o=r.resource,l=r.iostatRefs;return m(function(){n("cache-status",{type:"iostat",cached:!0})}),function(){return _("div",{class:"home-monitor-content"},[_("div",{class:"home-monitor__stats-grid"},[Object.values(o.value.iostat.info).map(function(e,t){return _("div",{key:t,class:"home-monitor__stat-item"},[_("div",{class:"home-monitor__stat-content"},[_("div",{class:"home-monitor__stat-left"},[e.bgColor&&_("div",{class:"home-monitor__stat-dot-wrapper"},[_("span",{class:"home-monitor__stat-dot",style:{backgroundColor:e.bgColor}},null),_("span",{class:"home-monitor__stat-dot-ripple",style:{borderColor:e.bgColor}},null)]),_("span",{class:"home-monitor__stat-label"},[e.label])]),_("div",{class:"home-monitor__stat-right"},[_("div",{class:"home-monitor__stat-value",style:{color:e.color||"var(--el-color-text-secondary)"}},[e.value])])])])})]),_("div",{class:"home-monitor__chart-container"},[_(Oi,{ref:l,modelValue:i.value,info:o.value.iostat.info},null)])])}}}),i=Mi(),o=x(i),s=o.loading,u=o.resource,d=o.activeName,f=k(function(){return"net"===d.value?a:r}),p=k(function(){return"net"===d.value?"正在获取流量信息，请稍候...":"正在获取磁盘IO信息，请稍候..."}),w=function(e){"net"===e.type?t.value=e.cached:"iostat"===e.type&&(n.value=e.cached)},P=function(e){d.value!==e&&(performance.now(),d.value=e,i.onTabsChange())};return m(function(){var e=localStorage.getItem("home-model-active");e&&["net","iostat"].includes(e)&&(d.value=e),i.initChart()}),function(e,t){var n=Te,a=Le,r=K("bt-loading");return y(),h("div",Bi,[g("div",Di,[g("div",Ri,[g("div",Ai,[g("div",{class:j(["tab-item",{active:"net"===v(d)},"font-alibaba-semibold"]),onClick:t[0]||(t[0]=function(e){return P("net")})},"流量",2),g("div",{class:j(["tab-item",{active:"iostat"===v(d)},"font-alibaba-semibold"]),onClick:t[1]||(t[1]=function(e){return P("iostat")})},"磁盘IO",2)]),g("div",Ei,[g("span",Fi,b("net"===v(d)?"网卡":"磁盘"),1),(y(!0),h(z,null,N(v(u),function(e,t){return J((y(),C(a,{key:t,modelValue:e.selectVal,"onUpdate:modelValue":function(t){return e.selectVal=t},placeholder:"请选择","fit-input-width":!0,onChange:v(i).onSelectChange,size:"small",class:"!min-w-[100px] !rounded-large"},{default:S(function(){return[(y(!0),h(z,null,N(e.selectList,function(e){return y(),C(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])}),128))]}),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])),[[te,"".concat(t)==v(d)]])}),128))])])]),g("div",zi,[(y(),C(je,null,[J((y(),C(I(v(f)),{key:v(d),"v-bt-loading:title":v(p),onCacheStatus:w},null,40,["v-bt-loading:title"])),[[r,v(s)]])],1024))])])}}}),Hi=A("RECOMMEND-STORE",function(){var e=Me().payment,t=f(e.value),n=t.authType,a=t.authExpirationTime,r=c(!1),i=c([["time","5分钟极速响应"],["refund","15天无理由退款"],["plunge","30+款付费插件"],["function","20+企业版专享功能"],["certificate","2张SSL商用证书（年付）"],["message","1000条免费短信（年付）"]]),o=c([["speed","5分钟极速响应"],["fifteen","15天无理由退款"],["plugin","30+款付费插件"],["more","20+企业版专享功能"],["recom","2张SSL商用证书（年付）"],["message","1000条免费短信（年付）"]]),l=c(["多对一技术支持","全年5次安全排查","5分钟极速响应","30+款付费插件","20+企业版专享功能","1000条免费短信（年付）","2张SSL商用证书（年付）","一对一服务（年付）","WAF防火墙","更换授权IP","客服优先响应","15+款付费插件","15天无理由退款"]),s=c([0,0,0,0,0,0,0,0,1,1,1,1,1]),u=c([0,0,1,1,1,1,1,1,1,1,1,1,1]),d=c([1,1,1,1,1,1,1,1,1,1,1,1,1]),m=c(!1),p=c(!0);return{plusPrivilegeList:d,ltdPrivilegeList:u,proPrivilegeList:s,privilegeList:l,limitTimeShow:m,advantageList:i,newAdvantageList:o,recommendShow:p,showPrivilege:r,authType:n,authExpirationTime:a,setRecommendHide:function(e){var t=((new Date).getTime()+864e5*e).toString();localStorage.setItem("HOME-RECOMMEND-HIDE-TIME",t),p.value=!1},checkRecommendHide:function(){var e=parseInt(localStorage.getItem("HOME-RECOMMEND-HIDE-TIME")||"0");e&&(p.value=e<(new Date).getTime())},openProduct:function(e){return Tt({sourceId:e,disablePro:!0})}}}),Ui={key:0,class:"h-auto"},Vi={class:"absolute left-0 right-0 flex items-center px-[16px]"},Wi={class:"advantage-list"},Gi={class:"text-tertiary text-base"},qi={class:"absolute left-0 right-0 flex items-center px-[16px]"},Ki={class:"flex items-center"},$i={class:"relative mr-[2rem]"},Ji={class:"advantage-list"},Zi={class:"text-tertiary text-base"},Qi={class:"p-[24px] flex justify-center flex-col items-center"},Yi={class:"flex items-center mt-[20px]"},Xi={class:"flex-col items-center border border-base justify-center w-[22rem]"},eo={class:"flex flex-col text-base text-secondary function-text"},to={class:"flex-col border border-[var(--bt-pro-border-color)] items-center bg-[var(--bt-pro-bg-color)] justify-center w-[22rem]"},no={class:"text-extraLarge text-default font-medium h-[9.4rem] leading-[9.4rem] text-center"},ao={class:"flex flex-col text-base text-secondary pro-text"},ro={key:0,class:"svgtofont-el-close text-danger text-large font-bold"},io={key:1,class:"svgtofont-el-check text-[var(--el-color-warning-light-3)] text-large font-bold"},oo={key:0,class:"recommend-left"},lo={class:"text-[var(--bt-ltd-sub-bg-color)] flex justify-center font-bold"},so={class:"flex flex-col text-base text-secondary ltd-text"},uo={key:0,class:"svgtofont-el-close text-danger text-large font-bold"},co={key:1,class:"svgtofont-el-check text-[var(--el-color-warning-light-3)] text-large font-bold"},fo={key:0,class:"svgtofont-el-close text-danger text-large font-bold"},mo={key:1,class:"svgtofont-el-check text-[var(--el-color-warning-light-3)] text-large font-bold"},po=l({__name:"index",setup:function(e){var t=Me(),n=(t.forceLtd,t.aliyunEcsLtd),a=t.authRemainingDays,r=t.ltdRemarks,i=Hi(),o=x(i),l=o.plusPrivilegeList,u=o.ltdPrivilegeList,c=o.proPrivilegeList,d=o.privilegeList,f=o.limitTimeShow,p=o.recommendShow,k=o.showPrivilege,C=o.authType,I=o.authExpirationTime;return m(function(){i.checkRecommendHide()}),function(e,t){var o=We,m=Ht,x=gt,T=bt;return v(p)&&!v(n)?(y(),h("div",Ui,["ltd"===v(C)?(y(),h("div",{key:0,class:"advantage-view",onMouseover:t[2]||(t[2]=function(e){return f.value=!0}),onMouseleave:t[3]||(t[3]=function(e){return f.value=!1})},[g("div",Vi,[g("div",{class:"flex items-center text-base mr-[3rem] flex-shrink-0 cursor-pointer",onClick:t[0]||(t[0]=function(e){return v(i).openProduct(28)})},[t[11]||(t[11]=g("div",{class:"ltd-privilege-title flex flex-shrink-0 items-center ltd-title-edit"},[g("span",{class:"text-base pl-[2.4rem] font-bold !text-[#fff]"}," 企业版 ")],-1)),g("span",{class:j({"text-danger":v(a)<7,"text-warning":v(a)>=7,"ml-[8px]":!0,"font-bold":!0})},b(v(ht)(v(I),"yyyy-MM-dd")),3),_(o,{class:"ml-[8px]",size:"13px"},{default:S(function(){return s(t[10]||(t[10]=[P("续费",-1)]))}),_:1})]),g("div",Wi,[(y(!0),h(z,null,N(v(r),function(e,t){return y(),h("div",{class:"advantage-item",key:t},[_(m,{name:"tools-".concat(e[0].split("_")[0]),size:"20",class:"mr-[4px]"},null,8,["name"]),g("span",Gi,b(e[1]),1)])}),128))])]),J(g("div",{class:"day-not-display",onClick:t[1]||(t[1]=function(e){return v(i).setRecommendHide(3)})},s(t[12]||(t[12]=[g("i",{class:"svgtofont-el-close"},null,-1),g("span",null,"近3天不再显示",-1)])),512),[[te,v(f)]])],32)):"free"===v(C)?(y(),h("div",{key:1,class:"advantage-view",onMouseover:t[6]||(t[6]=function(e){return f.value=!0}),onMouseleave:t[7]||(t[7]=function(e){return f.value=!1})},[g("div",qi,[g("div",Ki,[g("div",$i,[g("button",{class:"product-payment-btn",onClick:t[4]||(t[4]=function(e){return v(i).openProduct(27)})},s(t[13]||(t[13]=[g("span",{class:"ml-[1.2rem text-base"}," 立即开通 ",-1)])))]),t[14]||(t[14]=g("div",{class:"ltd-privilege-title flex flex-shrink-0 items-center mr-[8px]"},[g("span",{class:"text-medium ml-[.4rem] mr-[2rem] pl-[3rem] font-bold"}," 企业版VIP特权 ")],-1))]),g("div",Ji,[(y(!0),h(z,null,N(v(r),function(e,t){return y(),h("div",{class:"advantage-item",key:t},[_(m,{name:"tools-".concat(e[0].split("_")[0]),size:"20",class:"mr-[4px]"},null,8,["name"]),g("span",Zi,b(e[1]),1)])}),128))])]),J(g("div",{class:"day-not-display",onClick:t[5]||(t[5]=function(e){return v(i).setRecommendHide(1)})},s(t[15]||(t[15]=[g("i",{class:"svgtofont-el-close"},null,-1),P("近24小时不再显示",-1)])),512),[[te,v(f)]])],32)):w("",!0),_(T,{modelValue:v(k),"onUpdate:modelValue":t[9]||(t[9]=function(e){return G(k)?k.value=e:null}),area:96},{default:S(function(){return[g("div",Qi,[_(x,{src:"/advantage/privilege-contrast.png"}),g("div",Yi,[g("div",Xi,[t[16]||(t[16]=g("p",{class:"text-extraLarge text-default font-bold h-[9.4rem] leading-[9.4rem] text-center"},"功能特权",-1)),g("ul",eo,[(y(!0),h(z,null,N(v(d),function(e,t){return y(),h("li",{class:"px-[24px] h-[4rem] leading-[4rem]",key:t},b(e),1)}),128))])]),g("div",to,[g("div",no,[g("p",null,[_(x,{src:"/advantage/privilege-pro.svg",class:"mr-[8px]"}),t[17]||(t[17]=P("专业版",-1))])]),g("ul",ao,[(y(!0),h(z,null,N(v(c),function(e,t){return y(),h("li",{class:"px-[24px] h-[4rem] leading-[4rem] text-center",key:t},[e?(y(),h("i",io)):(y(),h("i",ro))])}),128))])]),(y(),h(z,null,N(2,function(e,n){return g("div",{class:j(["w-[22rem] bg-[var(--bt-ltd-bg-color)] flex-col relative",n?"":"border-2 border-darkSecondary h-[64.6rem] shadow"]),key:n},[0===n?(y(),h("span",oo)):w("",!0),g("div",{class:j(["text-extraLarge flex flex-col justify-center items-center",n?" h-[9.4rem]":" h-[11rem]"])},[g("div",lo,[_(x,{class:"mr-[8px]",src:"/advantage/privilege-diamond.svg"}),g("span",{class:j(n?"":"linear")},b(n?"企业运维托管":"企业版"),3)]),g("button",{class:j(["px-[20px] py-[4px]",n?"linear text-border privilege-button font-bold":"button-linear privilege-button"]),onClick:t[8]||(t[8]=function(e){return v(i).openProduct(45)})},"立即购买",2)],2),g("ul",so,[0===n?(y(!0),h(z,{key:0},N(v(u),function(e,t){return y(),h("li",{key:t},[e?(y(),h("i",co)):(y(),h("i",uo))])}),128)):w("",!0),0!=n?(y(!0),h(z,{key:1},N(v(l),function(e,t){return y(),h("li",{key:t},[e?w("",!0):(y(),h("i",fo)),e?(y(),h("i",mo)):w("",!0)])}),128)):w("",!0)])],2)}),64))])])]}),_:1},8,["modelValue"])])):w("",!0)}}}),vo=Fe(po,[["__scopeId","data-v-44adae4e"]]),yo={class:"pt-[1.2rem]"},ho=l({__name:"index",setup:function(e){var t=Me(),n=t.getAlarmData,r=(t.forceLtd,t.payment),i=t.aliyunEcsLtd,o=t.getUserInfo,l=t.isHideAd,s=t.panel,u=t.getSoftRemarks,b=Wt(),k=x(b).panelInfo,I=f(k.value).isRestart,P=E(),j=Oe(),T=c(null),L=c(0);le(T,function(e){var t=e[0];L.value=t.contentRect.width});var O=null;return R(function(){return s.value.initInstall},function(e){if(!e){if(i.value&&"free"===r.value.authType)return;b.recommendInstallDialog()}},{immediate:!0,deep:!0}),R(function(){return s.value.oem},function(e){e&&Ft()},{immediate:!0}),m(p(d().m(function e(){var t;return d().w(function(e){for(;;)switch(e.n){case 0:if("bind-cupon"!==j.query.model){e.n=2;break}return delete(t=a({},j.query)).model,P.replace({path:j.path,query:t}),e.n=1,o();case 1:Tt({disablePro:!0,sourceId:999});case 2:b.monitorLoginInfo(),O=wt({idle:36e5,request:function(){var e=p(d().m(function e(){return d().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,b.getSystemInfo();case 1:return e.a(2,I.value)}},e)}));return function(){return e.apply(this,arguments)}}(),timeout:3e3,retries:3}),b.getHomeConfig(),kt({promises:[n,b.getUpdateInfoNew,u],delay:1e3});case 3:return e.a(2)}},e)}))),ue(function(){var e;null===(e=O)||void 0===e||e.stop(),xt(["/system?action=GetNetWork","/panel/overview/GetOverview","/plugin?action=get_index_list","/ajax?action=get_pay_type","/mod/push/task/get_task_list","/auth?action=get_coupon_list"])}),function(e,t){var n=ce,a=de;return y(),h("section",yo,[_(pn,{class:"mx-[1.2rem]"}),_(a,{span:24},{default:S(function(){return[_(n,{span:24},{default:S(function(){return[_(kn),g("div",{ref_key:"stateMainRef",ref:T},[_(Ar,{class:"px-[1.2rem]","main-width":v(L)},null,8,["main-width"])],512),_(ri)]}),_:1})]}),_:1}),_(a,{span:24,class:"px-[1.2rem]"},{default:S(function(){return[_(a,{span:24,gutter:12,class:"flex-1"},{default:S(function(){return[_(n,{md:24,sm:24,span:12,xs:24,lg:12},{default:S(function(){return[_(Ni,{class:"mb-0 monitor-view"})]}),_:1}),_(n,{md:24,sm:24,span:12,xs:24,lg:12},{default:S(function(){return[_(ji,{class:"mb-0 software-view"})]}),_:1})]}),_:1})]}),_:1}),v(l)?w("",!0):(y(),C(vo,{key:0,class:"mt-[1.2rem] mx-[1.2rem]"}))])}}}),go=Fe(ho,[["__scopeId","data-v-8a00f024"]]),bo=Object.freeze(Object.defineProperty({__proto__:null,default:go},Symbol.toStringTag,{value:"Module"}));n("i",bo)}}})}();
