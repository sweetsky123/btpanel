!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(t,n,a){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var r=a.call(t,n||"default");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function l(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",r=n.toStringTag||"@@toStringTag";function i(n,a,r,i){var l=a&&a.prototype instanceof c?a:c,s=Object.create(l.prototype);return o(s,"_invoke",function(n,a,r){var i,l,o,c=0,s=r||[],d=!1,p={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return i=t,l=0,o=e,p.n=n,u}};function m(n,a){for(l=n,o=a,t=0;!d&&c&&!r&&t<s.length;t++){var r,i=s[t],m=p.p,f=i[2];n>3?(r=f===a)&&(o=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=m&&((r=n<2&&m<i[1])?(l=0,p.v=a,p.n=i[1]):m<f&&(r=n<3||i[0]>a||a>f)&&(i[4]=n,i[5]=a,p.n=f,l=0))}if(r||n>1)return u;throw d=!0,a}return function(r,s,f){if(c>1)throw TypeError("Generator is already running");for(d&&1===s&&m(s,f),l=s,o=f;(t=l<2?e:o)||!d;){i||(l?l<3?(l>1&&(p.n=-1),m(l,o)):p.n=o:p.v=o);try{if(c=2,i){if(l||(r="next"),t=i[r]){if(!(t=t.call(i,o)))throw TypeError("iterator result is not an object");if(!t.done)return t;o=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(o=TypeError("The iterator does not provide a '"+r+"' method"),l=1);i=e}else if((t=(d=p.n<0)?o:n.call(a,p))!==u)break}catch(t){i=e,l=1,o=t}finally{c=1}}return{value:t,done:d}}}(n,r,i),!0),s}var u={};function c(){}function s(){}function d(){}t=Object.getPrototypeOf;var p=[][a]?t(t([][a]())):(o(t={},a,function(){return this}),t),m=d.prototype=c.prototype=Object.create(p);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o(e,r,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=d,o(m,"constructor",d),o(d,"constructor",s),s.displayName="GeneratorFunction",o(d,r,"GeneratorFunction"),o(m),o(m,r,"Generator"),o(m,a,function(){return this}),o(m,"toString",function(){return"[object Generator]"}),(l=function(){return{w:i,m:f}})()}function o(e,t,n,a){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}o=function(e,t,n,a){function i(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?r?r(e,t,{value:n,enumerable:!a,configurable:!a,writable:!a}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},o(e,t,n,a)}function u(e,t,n,a,r,i,l){try{var o=e[i](l),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(a,r)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(a,r){var i=e.apply(t,n);function l(e){u(i,a,r,l,o,"next",e)}function o(e){u(i,a,r,l,o,"throw",e)}l(void 0)})}}System.register(["./index-legacy109.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./index-legacy130.js?v=1763689792","./column-legacy.js?v=1763689792","./useController-legacy7.js?v=1763689792"],function(e,n){"use strict";var a,i,o,u,s,d,p,m,f,v,y,b,k,w,h,g,x,D,_,A,S,T,V,C,O,j,L,N,P,R,I,U,q,E,M,z,X,F,K,G,$,H,W,B;return{setters:[function(e){a=e._},function(e){i=e.s,o=e.j,u=e.r,s=e.o,d=e.a,p=e.c,m=e.v,f=e.a8,v=e.I,y=e.x,b=e.y,k=e.e,w=e.C,h=e.z,g=e.D,x=e.O,D=e.A,_=e.G,A=e.J,S=e.B,T=e.F,V=e.b1,C=e.L,O=e.H,j=e.aZ,L=e.ax,N=e.am,P=e.an,R=e.az,I=e.aw},function(e){U=e._},function(e){q=e.R,E=e.as,M=e.p,z=e.b,X=e.n,F=e.H,K=e.P,G=e.k,$=e._},function(e){H=e._},function(e){W=e.B},function(e){B=e.q}],execute:function(){var J=o("DNS-RESOLVE-STORE",function(){var e=u(!1),t=u([]),n=u([]),a=u([]),r=u(!1),i=u(!1),l=u(!0),o=u("name"),c=u(!1),d=u([{title:"A",key:"A"},{title:"AAAA",key:"AAAA"},{title:"CNAME",key:"CNAME"},{title:"MX",key:"MX"},{title:"TXT",key:"TXT"},{title:"CAA",key:"CAA"},{title:"NS",key:"NS"},{title:"SRV",key:"SRV"}]),p=u([{label:"默认",value:0,description:"默认线路"},{label:"电信",value:285344768,description:"电信线路"},{label:"联通",value:285345792,description:"联通线路"},{label:"移动",value:285346816,description:"移动线路"}]),m=s({domain_id:0,searchKey:"record",searchValue:"",domain_type:1,p:1,limit:10,total:0}),f=u(""),v=u({A:[{key:"8.8.8.8",label:"8.8.8.8",value:"8.8.8.8",description:"公网IPv4地址（Google DNS）",clickable:!0},{key:"1.1.1.1",label:"1.1.1.1",value:"1.1.1.1",description:"公网IPv4地址（Cloudflare DNS）",clickable:!0},{key:"192.168.1.1",label:"192.168.1.1",value:"192.168.1.1",description:"私有网络地址",clickable:!0}],AAAA:[{key:"2001:4860:4860::8888",label:"2001:4860:4860::8888",value:"2001:4860:4860::8888",description:"IPv6地址（Google DNS）",clickable:!0},{key:"2606:4700:4700::1111",label:"2606:4700:4700::1111",value:"2606:4700:4700::1111",description:"IPv6地址（Cloudflare DNS）",clickable:!0}],CNAME:[{key:"www.example.com",label:"www.example.com",value:"www.example.com",description:"指向另一个域名的CNAME记录",clickable:!0},{key:"cdn.example.com",label:"cdn.example.com",value:"cdn.example.com",description:"CDN域名CNAME记录",clickable:!0}],MX:[{key:"10 mail.example.com",label:"10 mail.example.com",value:"10 mail.example.com",description:"邮件服务器记录（优先级10）",clickable:!0},{key:"20 mail2.example.com",label:"20 mail2.example.com",value:"20 mail2.example.com",description:"备用邮件服务器记录（优先级20）",clickable:!0}],TXT:[{key:"v=spf1 include:_spf.google.com ~all",label:"v=spf1 include:_spf.google.com ~all",value:"v=spf1 include:_spf.google.com ~all",description:"SPF记录，防止邮件伪造",clickable:!0},{key:"google-site-verification=abc123",label:"google-site-verification=abc123",value:"google-site-verification=abc123",description:"Google网站验证记录",clickable:!0}],CAA:[{key:"0 issue www.51dns.com",label:"0 issue www.51dns.com",value:"0 issue www.51dns.com",description:"CAA记录示例：flag=0, tag=issue, value=www.51dns.com",clickable:!0},{key:"0 issuewild www.51dns.com",label:"0 issuewild www.51dns.com",value:"0 issuewild www.51dns.com",description:"CAA记录示例：flag=0, tag=issuewild, value=www.51dns.com",clickable:!0},{key:"0 iodef mailto:admin@example.com",label:"0 iodef mailto:admin@example.com",value:"0 iodef mailto:admin@example.com",description:"CAA记录示例：flag=0, tag=iodef, value=mailto:admin@example.com",clickable:!0}],NS:[{key:"ns1.example.com",label:"ns1.example.com",value:"ns1.example.com",description:"主域名服务器",clickable:!0},{key:"ns2.example.com",label:"ns2.example.com",value:"ns2.example.com",description:"备用域名服务器",clickable:!0},{key:"dns1.aliyun.com",label:"dns1.aliyun.com",value:"dns1.aliyun.com",description:"阿里云DNS服务器",clickable:!0}],SRV:[{key:"0 5 5060 sipserver.example.com",label:"0 5 5060 sipserver.example.com",value:"0 5 5060 sipserver.example.com",description:"SIP服务记录（优先级0，权重5，端口5060）",clickable:!0},{key:"10 5 389 ldapserver.example.com",label:"10 5 389 ldapserver.example.com",value:"10 5 389 ldapserver.example.com",description:"LDAP服务记录（优先级10，权重5，端口389）",clickable:!0},{key:"0 5 443 httpserver.example.com",label:"0 5 443 httpserver.example.com",value:"0 5 443 httpserver.example.com",description:"HTTPS服务记录（优先级0，权重5，端口443）",clickable:!0}]}),y=u({A:{title:"A记录说明",description:"将域名指向IPv4地址，填写服务器的IPv4地址（如：8.8.8.8）"},AAAA:{title:"AAAA记录说明",description:"将域名指向IPv6地址，填写服务器的IPv6地址（如：2001:4860:4860::8888）"},CNAME:{title:"CNAME记录说明",description:"将域名指向另一个域名，填写目标域名（如：www.example.com）"},MX:{title:"MX记录说明",description:"邮件服务器记录，格式为：优先级 邮件服务器域名（如：10 mail.example.com）"},TXT:{title:"TXT记录说明",description:"文本记录，常用于SPF、DKIM、DMARC等邮件验证，或网站验证"},CAA:{title:"CAA记录格式说明",description:'格式为：flag tag value。其中flag目前取值为0-128；tag取值为issue、issuewild、iodef；value为不包含|、""、、<>、中文字符的字符串。'},NS:{title:"NS记录说明",description:"指定域名的权威DNS服务器，填写DNS服务器域名（如：ns1.example.com）"},SRV:{title:"SRV记录说明",description:"服务记录，格式为：优先级 权重 端口 目标主机（如：0 5 5060 sipserver.example.com）"}}),b=u({name:{title:"主机记录说明",description:"指定DNS解析的子域名前缀，温馨提示，如果要解析www.bt.com，主机记录填写www即可："},type:{title:"记录类型说明",description:"DNS记录的类型决定了如何解析域名："},priority:{title:"MX优先级说明",description:"数值越小优先级越高；相同优先级将进行负载均衡"},ttl:{title:"TTL说明",description:"生存时间（秒），表示DNS记录在缓存中的保留时长"},remark:{title:"备注",description:"为DNS记录添加备注信息，便于管理和识别"}});return{isSubDomainLoading:e,subDomainTableList:t,tableList:n,expandRowKeys:a,isUpdate:r,isAdd:i,isDisabledAdd:l,currentHint:o,requestData:m,securityToken:f,isRefreshDomainList:c,typeOptions:d,lineTypeOptions:p,recordValueExamples:v,recordValueDescriptions:y,hostRecordExamples:u([{key:"www",label:"www",value:"www",description:"解析后的域名为www.example.com",clickable:!0},{key:"@",label:"@",value:"@",description:"直接解析主域名example.com",clickable:!0},{key:"*",label:"*",value:"*",description:"泛解析，匹配其他所有域名*.example.com",clickable:!0},{key:"mail",label:"mail",value:"mail",description:"将域名解析为mail.example.com，通常用于解析邮箱服务器",clickable:!0}]),fieldDescriptions:b}}),Z=e("u",function(){return i(J())}),Q=Z(),Y=Q.securityToken,ee=Q.isRefreshDomainList,te=Q.typeOptions,ne=Q.lineTypeOptions,ae=Q.currentHint,re=Q.subDomainTableList,ie=Q.tableList,le=(Q.isDisabledAdd,Q.isUpdate),oe=Q.isAdd,ue=Q.expandRowKeys,ce=Q.recordValueExamples,se=Q.recordValueDescriptions,de=Q.hostRecordExamples,pe=Q.fieldDescriptions,me=z(),fe=function(e,t){var a,r,i;return X({title:"验证密保问题",area:50,btn:["确认","取消"],showFooter:!0,compData:{questionId:null===(a=e.questions)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.question_id,questionText:null===(r=e.questions)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.question_text,operationType:e.operation_type,onSuccess:(i=c(l().m(function e(n){return l().w(function(e){for(;;)switch(e.n){case 0:return Y.value=n,e.n=1,t();case 1:return e.a(2)}},e)})),function(e){return i.apply(this,arguments)})},component:function(){return F(function(){return n.import("./index-legacy482.js?v=1763689792")},void 0,n.meta.url)}})},ve=function(){var e=c(l().m(function e(){var t,n;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,B({url:"/api/v1/dns/record/get_record_type_list"});case 1:if(!(t=e.v).data.status||!t.data.data){e.n=2;break}return n=t.data.data.map(function(e){return{label:e.type,value:e.type,description:e.desc,default:e.default}}),te.value=n.map(function(e){return{title:e.label,key:e.value,description:e.description,default:e.default}}),e.a(2,{recordTypes:n});case 2:return e.a(2,{recordTypes:[]});case 3:return e.p=3,e.v,e.a(2,{recordTypes:[]})}},e,null,[[0,3]])}));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=c(l().m(function e(t,n){var a,i,o,u;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!t.isUpdate.value){e.n=1;break}return e.a(2,d.error("请先保存当前修改的数据，再进行其他操作！"));case 1:return t.isUpdate.value=!1,t.isAdd.value=!1,t.expandRowKeys.value=[],t.isSubDomainLoading.value=!0,e.p=2,a=r({url:"/api/v1/dns/record/list",domain_id:t.requestData.value.domain_id,searchKey:t.requestData.value.searchKey,domain_type:t.requestData.value.domain_type,p:t.requestData.value.p,row:t.requestData.value.limit},t.requestData.value.searchValue&&{searchValue:t.requestData.value.searchValue}),e.n=3,B(a);case 3:(i=e.v).data.status?(o=i.data.data,q(o.data)?(u=o.data.map(function(e){return{RecordId:e.record_id,name:e.record,type:e.type,value:e.value,ttl:e.TTL,priority:e.MX,state:e.state,status:0===e.state?"启用":"暂停",remark:e.remark,created_at:e.created_at,lineWeight:1,line:0,line_type:e.line_type||0}}),t.subDomainTableList.value=u,t.tableList.value=E(u),t.isDisabledAdd.value=!1):(t.subDomainTableList.value=[],t.tableList.value=[],t.isDisabledAdd.value=!0),t.requestData.value.total=o.count||0):d.error(i.data.msg||"获取DNS记录失败"),e.n=5;break;case 4:e.p=4,e.v,d.error("获取DNS记录失败");case 5:return e.p=5,t.isSubDomainLoading.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(t,n){return e.apply(this,arguments)}}(),be=function(e,t){ae.value=e,re.value=E(re.value)},ke=function(e,t){t.type=e},we=function(e,t){re.value.length>0&&(re.value[0][t]=e)},he=function(){if("value"===ae.value){var e=re.value[0],t=null==e?void 0:e.type;return se.value[t]||null}return pe.value[ae.value]||null},ge=function(){var e=ae.value;if("name"===e)return de.value;if("value"===e){var t=re.value[0],n=null==t?void 0:t.type;return ce.value[n]||[]}return"type"===e?te.value.map(function(e){return{key:e.key,label:e.title,value:e.key,description:e.description||"暂无描述",clickable:!0}}):[]},xe=function(e){var t=ne.value.find(function(t){return t.value===e});return(null==t?void 0:t.label)||"默认"},De=function(e,t,n){le.value=!1,oe.value=!1,ae.value="name",ue.value=[],re.value=E(ie.value)},_e=function(){var e=c(l().m(function e(t,n,a){var i;return l().w(function(e){for(;;)switch(e.n){case 0:if(t.name){e.n=1;break}return d.error("主机记录不能为空"),e.a(2);case 1:if(t.value){e.n=2;break}return d.error("记录值不能为空"),e.a(2);case 2:return i=function(){var e=c(l().m(function e(){var o,u,c,s,d,p;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return o=me.load("正在保存解析记录，请稍候..."),u=0===t.RecordId,c=u?"/api/v1/dns/record/create":"/api/v1/dns/record/update",s={domain_type:1,domain_id:a.compData.domainId,record:t.name,value:t.value,type:t.type,mx:t.priority||1,ttl:t.ttl||600,remark:t.remark||"",view_id:t.line_type||0},Y.value&&(s.security_token=Y.value),u||(s.record_id=t.RecordId),e.p=1,e.n=2,B(r({url:c},s));case 2:if(d=e.v,o&&o.close(),!d.data.status){e.n=4;break}return me.success(u?"创建成功":"更新成功"),le.value=!1,oe.value=!1,ae.value="name",ue.value=[],e.n=3,ye(n,a);case 3:ee.value=!0,e.n=7;break;case 4:if(p=d.data.data||d.data,3005!==d.data.code||!p.security_required){e.n=6;break}return e.n=5,fe(p,i);case 5:e.n=7;break;case 6:me.error(d.data.msg||"保存失败");case 7:e.n=9;break;case 8:e.p=8,e.v,o&&o.close(),me.error("保存失败，请重试");case 9:return e.a(2)}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}(),e.n=3,i();case 3:return e.a(2)}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),Ae=function(e,t,n,a){if(n.isUpdate.value)return d.error("请先保存当前修改的数据，再进行其他操作！");if(n.isUpdate.value=!0,n.expandRowKeys.value=[e.RecordId],0!==t){var i=n.subDomainTableList.value[0];n.subDomainTableList.value[0]=r({},e),n.subDomainTableList.value[t]=i}else n.subDomainTableList.value[0]=r({},e)},Se=function(e){return e.isDisabledAdd.value?d.error("暂无数据"):e.isUpdate.value?d.error("请先保存当前修改的数据，再进行其他操作！"):(e.isUpdate.value=!0,e.isAdd.value=!0,e.expandRowKeys.value=[0],void e.subDomainTableList.value.unshift({RecordId:0,name:"",type:"A",line:"default",line_type:0,value:"",priority:1,ttl:600,status:"启用",remark:""}))},Te=function(){var e=c(l().m(function e(t,n,a){var r;return l().w(function(e){for(;;)switch(e.n){case 0:if(!n.isUpdate.value){e.n=1;break}return e.a(2,d.error("请先保存当前修改的数据，再进行其他操作！"));case 1:return e.n=2,M({title:"删除【".concat(t.name,"】"),content:"删除该DNS记录，是否继续操作？",icon:"warning"});case 2:return r=function(){var e=c(l().m(function e(){var i,o,u,c;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,i=me.load("正在删除DNS记录，请稍候..."),o={url:"/api/v1/dns/record/delete",record_id:t.RecordId,domain_type:1,domain_id:a.compData.domainId},Y.value&&(o.security_token=Y.value),e.n=1,B(o);case 1:if(u=e.v,i&&i.close(),!u.data.status){e.n=3;break}return me.success("删除成功"),e.n=2,ye(n,a);case 2:ee.value=!0,e.n=6;break;case 3:if(c=u.data.data||u.data,3005!==u.data.code||!c.security_required){e.n=5;break}return e.n=4,fe(c,r);case 4:e.n=6;break;case 5:me.error(u.data.msg||"删除失败");case 6:e.n=8;break;case 7:e.p=7,e.v,d.error("删除失败，请重试");case 8:return e.a(2)}},e,null,[[0,7]])}));return function(){return e.apply(this,arguments)}}(),e.n=3,r();case 3:return e.a(2)}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),Ve=function(){var e=c(l().m(function e(t,n,a){var r;return l().w(function(e){for(;;)switch(e.n){case 0:return r=function(){var e=c(l().m(function e(){var i,o,u,c,s;return l().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,o="启用"===t.status,u={url:o?"/api/v1/dns/record/pause":"/api/v1/dns/record/start",record_id:t.RecordId,domain_type:1,domain_id:a.compData.domainId},Y.value&&(u.security_token=Y.value),i=me.load("正在修改状态，请稍候..."),e.n=1,B(u);case 1:if(c=e.v,i&&i.close(),!c.data.status){e.n=3;break}return me.success(o?"暂停成功":"启动成功"),De(),e.n=2,ye(n,a);case 2:e.n=6;break;case 3:if(s=c.data.data||c.data,3005!==c.data.code||!s.security_required){e.n=5;break}return e.n=4,fe(s,r);case 4:e.n=6;break;case 5:me.error(c.data.msg||"状态修改失败");case 6:e.n=8;break;case 7:e.p=7,e.v,me.error("状态修改失败，请重试");case 8:return e.p=8,i&&i.close(),e.f(8);case 9:return e.a(2)}},e,null,[[0,7,8,9]])}));return function(){return e.apply(this,arguments)}}(),e.n=1,r();case 1:return e.a(2)}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),Ce={class:"p-2rem"},Oe={key:0,class:"p-1rem pt-0"},je={class:"pl-[.8rem] text-secondary leading-[2.4rem]"},Le={class:"font-bold"},Ne={key:0},Pe={key:0,class:"w-full hint-table"},Re=["onClick"],Ie={class:"text-secondary"},Ue={key:1,class:"text-gray-500 pl-[.8rem]"},qe={key:1},Ee={key:1},Me={key:0},ze={key:1},Xe={key:1},Fe={key:1},Ke={key:1},Ge={key:0},$e={key:1},He={key:0,class:"flex"},We=["onClick"],Be=["onClick"],Je=p({__name:"index",props:{compData:{type:Object,default:function(){}}},setup:function(e){var n=Z(),r=n.isSubDomainLoading,i=n.subDomainTableList,o=n.tableList,u=n.expandRowKeys,s=n.isUpdate,d=n.isAdd,p=n.isDisabledAdd,q=n.currentHint,E=n.requestData,M=n.securityToken,z=n.typeOptions,X=(n.lineTypeOptions,{isUpdate:s,isAdd:d,expandRowKeys:u,isSubDomainLoading:r,subDomainTableList:i,tableList:o,isDisabledAdd:p,requestData:E,currentHint:q}),F=e;return m(c(l().m(function e(){var t;return l().w(function(e){for(;;)switch(e.n){case 0:return r.value=!0,e.n=1,ve();case 1:if(null===(t=F.compData)||void 0===t||!t.domainId){e.n=2;break}return E.value.domain_id=F.compData.domainId,e.n=2,ye({isUpdate:s,isAdd:d,expandRowKeys:u,isSubDomainLoading:r,subDomainTableList:i,tableList:o,isDisabledAdd:p,requestData:E});case 2:return e.a(2)}},e)}))),f(function(){M.value="",s.value=!1,i.value=[],q.value="name"}),function(n,l){var o=O,c=j,m=K,f=H,M=L,$=G,B=N,J=P,Z=U,Q=R,Y=I,ee=a,te=v("bt-loading");return y(),b("div",Ce,[k(ee,null,{"header-left":w(function(){var n;return[k(o,{type:"primary",onClick:l[0]||(l[0]=function(){return h(Se)(X)}),disabled:h(p)},{default:w(function(){return t(l[14]||(l[14]=[g("添加",-1)]))}),_:1},8,["disabled"]),"WestDns"===(null===(n=e.compData.row)||void 0===n||null===(n=n.dns)||void 0===n?void 0:n.dns_name)?(y(),x(c,{key:0,type:"warning",class:"h-[100%] !ml-[1rem]",closable:!1,"show-icon":""},{title:w(function(){return t(l[15]||(l[15]=[D("span",{class:"text-base"},[D("span",null," 提示：WestDns 西部数码不支持修改解析记录的主机记录和记录类型")],-1)]))}),_:1})):_("",!0)]}),"header-right":w(function(){return[k(m,{modelValue:h(E).searchValue,"onUpdate:modelValue":l[1]||(l[1]=function(e){return h(E).searchValue=e}),placeholder:"请输入主机记录",onSearch:l[2]||(l[2]=function(){return h(ye)(X,F)}),class:"!mr-[.8rem] !w-[23rem]"},null,8,["modelValue"]),k(f,{onRefresh:l[3]||(l[3]=function(){return h(ye)(X,F)}),class:"!mr-[.8rem]"})]}),content:w(function(){return[A((y(),x(Q,{class:"w-full sub-domain-table",data:h(i),"row-key":"RecordId","expand-row-keys":h(u),"max-height":550},{empty:w(function(){return t(l[16]||(l[16]=[D("span",{class:"text-secondary"},"您的DNS记录列表为空",-1)]))}),default:w(function(){return[k(M,{type:"expand",width:"1","min-width":"1"},{default:w(function(){var e,t,n;return[h(s)?(y(),b("div",Oe,[D("div",je,[D("div",Le,S((null===(e=h(he)())||void 0===e?void 0:e.title)||""),1),null!==(t=h(he)())&&void 0!==t&&t.description?(y(),b("div",Ne,S(null===(n=h(he)())||void 0===n?void 0:n.description),1)):_("",!0)]),h(ge)().length>0?(y(),b("table",Pe,[D("tbody",null,[(y(!0),b(T,null,V(h(ge)(),function(e){return y(),b("tr",{key:e.key,class:C({"cursor-pointer":e.clickable}),onClick:function(t){return e.clickable?h(we)(e.value,h(q)):null}},[D("th",null,S(e.label),1),D("td",Ie,S(e.description),1)],10,Re)}),128))])])):(y(),b("div",Ue))])):_("",!0)]}),_:1}),k(M,{label:"主机记录",prop:"name"},{default:w(function(t){var n,a=t.row,r=t.$index;return[h(s)&&0==r?(y(),x($,{key:0,class:"record-name-input !w-full",disabled:"WestDns"===(null===(n=e.compData.row)||void 0===n||null===(n=n.dns)||void 0===n?void 0:n.dns_name)&&!h(d),modelValue:a.name,"onUpdate:modelValue":function(e){return a.name=e},type:"text",size:"small",placeholder:"@ / www / mail / *",onFocus:l[4]||(l[4]=function(){return h(be)("name",X)})},null,8,["disabled","modelValue","onUpdate:modelValue"])):(y(),b("span",qe,S(a.name),1))]}),_:1}),k(M,{label:"记录类型",prop:"type",width:"100"},{default:w(function(t){var n,a=t.row,r=t.$index;return[h(s)&&0==r?(y(),x(J,{key:0,onClick:l[5]||(l[5]=function(){return h(be)("type",X)}),size:"small",disabled:"WestDns"===(null===(n=e.compData.row)||void 0===n||null===(n=n.dns)||void 0===n?void 0:n.dns_name)&&!h(d),modelValue:a.type,"onUpdate:modelValue":function(e){return a.type=e},class:"!w-full",placeholder:"请选择",onChange:function(e){return h(ke)(e,a)}},{default:w(function(){return[(y(!0),b(T,null,V(h(z),function(e){return y(),x(B,{key:e.key,label:e.title,value:e.key},null,8,["label","value"])}),128))]}),_:1},8,["disabled","modelValue","onUpdate:modelValue","onChange"])):(y(),b("span",Ee,S(a.type),1))]}),_:1}),k(M,{label:"线路类型",prop:"line_type",width:"120"},{default:w(function(e){var t=e.row,n=e.$index;return[h(s)&&0==n?(y(),b("span",Me,"默认")):(y(),b("span",ze,S(h(xe)(t.line_type)),1))]}),_:1}),k(M,{label:"记录值",prop:"value"},{default:w(function(e){var t=e.row,n=e.$index;return[h(s)&&0==n?(y(),x($,{key:0,modelValue:t.value,"onUpdate:modelValue":function(e){return t.value=e},type:"text",placeholder:"必填",size:"small",onFocus:l[6]||(l[6]=function(){return h(be)("value",X)})},null,8,["modelValue","onUpdate:modelValue"])):(y(),b("span",Xe,S(t.value),1))]}),_:1}),k(M,{label:"MX/权重",prop:"priority",width:"100"},{default:w(function(e){var t=e.row,n=e.$index;return[h(s)&&0==n?(y(),x($,{key:0,modelValue:t.priority,"onUpdate:modelValue":function(e){return t.priority=e},type:"text",placeholder:"1",size:"small",onFocus:l[7]||(l[7]=function(){return h(be)("priority",X)})},null,8,["modelValue","onUpdate:modelValue"])):(y(),b("span",Fe,S(t.priority||1),1))]}),_:1}),k(M,{label:"TTL",prop:"ttl",width:"100"},{default:w(function(e){var t=e.row,n=e.$index;return[h(s)&&0==n?(y(),x($,{key:0,modelValue:t.ttl,"onUpdate:modelValue":function(e){return t.ttl=e},type:"text",size:"small",onFocus:l[8]||(l[8]=function(){return h(be)("ttl",X)})},null,8,["modelValue","onUpdate:modelValue"])):(y(),b("span",Ke,S(t.ttl),1))]}),_:1}),k(M,{label:"状态",prop:"status",width:"80"},{default:w(function(e){var t=e.row,n=e.$index;return[h(s)&&0==n?(y(),b("div",Ge," - ")):(y(),x(h(W),{key:1,data:["暂停","启用"],modelValue:"启用"===t.status,onClick:function(){return h(Ve)(t,X,F)}},null,8,["modelValue","onClick"]))]}),_:1}),k(M,{label:"备注",prop:"remark",width:"120"},{default:w(function(t){var n,a=t.row,r=t.$index;return[h(s)&&0==r?(y(),x($,{key:0,disabled:"WestDns"===(null===(n=e.compData.row)||void 0===n||null===(n=n.dns)||void 0===n?void 0:n.dns_name),modelValue:a.remark,"onUpdate:modelValue":function(e){return a.remark=e},type:"text",size:"small",placeholder:"请输入备注",onFocus:l[9]||(l[9]=function(){return h(be)("remark",X)})},null,8,["disabled","modelValue","onUpdate:modelValue"])):(y(),b("span",$e,S(a.remark),1))]}),_:1}),k(M,{label:"操作",width:"140",align:"right"},{default:w(function(e){var n=e.row,a=e.$index;return[h(s)&&0==a?(y(),b("div",He,[k(o,{type:"primary",onClick:function(){return h(_e)(n,X,F)}},{default:w(function(){return t(l[17]||(l[17]=[g("保存",-1)]))}),_:1},8,["onClick"]),k(o,{type:"default",onClick:function(){return h(De)(n,a,X)}},{default:w(function(){return t(l[18]||(l[18]=[g("取消",-1)]))}),_:1},8,["onClick"])])):(y(),b(T,{key:1},[D("span",{class:"bt-link cursor-pointer",onClick:function(){return h(Ae)(n,a,X,F)}},"修改",8,We),k(Z),D("span",{class:"bt-link cursor-pointer",onClick:function(){return h(Te)(n,X,F)}},"删除",8,Be)],64))]}),_:1})]}),_:1},8,["data","expand-row-keys"])),[[te,h(r)],[te,"正在加载DNS记录列表，请稍后...","title"]])]}),"footer-right":w(function(){return[k(Y,{"current-page":h(E).p,"onUpdate:currentPage":l[10]||(l[10]=function(e){return h(E).p=e}),"page-size":h(E).limit,"onUpdate:pageSize":l[11]||(l[11]=function(e){return h(E).limit=e}),total:h(E).total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:l[12]||(l[12]=function(){return h(ye)(X,F)}),onCurrentChange:l[13]||(l[13]=function(){return h(ye)(X,F)})},null,8,["current-page","page-size","total"])]}),_:1})])}}}),Ze=$(Je,[["__scopeId","data-v-372fc082"]]),Qe=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"}));e("i",Qe)}}})}();
