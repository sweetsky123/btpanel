!function(){function t(r){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(r)}function r(t){var r=Object(t),e=[];for(var n in r)e.unshift(n);return function t(){for(;e.length;)if((n=e.pop())in r)return t.value=n,t.done=!1,t;return t.done=!0,t}}function e(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,n)}return e}function n(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach(function(r){o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o(r,e,n){return(e=function(r){var e=function(r,e){if("object"!=t(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var o=n.call(r,e||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}(r,"string");return"symbol"==t(e)?e:e+""}(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,r,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function c(e,n,o,a){var c=n&&n.prototype instanceof s?n:s,f=Object.create(c.prototype);return u(f,"_invoke",function(e,n,o){var a,u,c,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:v,f:v.bind(t,4),d:function(r,e){return a=r,u=0,c=t,p.n=e,i}};function v(e,n){for(u=e,c=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,a=f[r],v=p.p,h=a[2];e>3?(o=h===n)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=t):a[0]<=v&&((o=e<2&&v<a[1])?(u=0,p.v=n,p.n=a[1]):v<h&&(o=e<3||a[0]>n||n>h)&&(a[4]=e,a[5]=n,p.n=h,u=0))}if(o||e>1)return i;throw l=!0,n}return function(o,f,h){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&v(f,h),u=f,c=h;(r=u<2?t:c)||!l;){a||(u?u<3?(u>1&&(p.n=-1),v(u,c)):p.n=c:p.v=c);try{if(s=2,a){if(u||(o="next"),r=a[o]){if(!(r=r.call(a,c)))throw TypeError("iterator result is not an object");if(!r.done)return r;c=r.value,u<2&&(u=0)}else 1===u&&(r=a.return)&&r.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=t}else if((r=(l=p.n<0)?c:e.call(n,p))!==i)break}catch(r){a=t,u=1,c=r}finally{s=1}}return{value:r,done:l}}}(e,o,a),!0),f}var i={};function s(){}function f(){}function l(){}r=Object.getPrototypeOf;var p=[][n]?r(r([][n]())):(u(r={},n,function(){return this}),r),v=l.prototype=s.prototype=Object.create(p);function h(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,u(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t}return f.prototype=l,u(v,"constructor",l),u(l,"constructor",f),f.displayName="GeneratorFunction",u(l,o,"GeneratorFunction"),u(v),u(v,o,"Generator"),u(v,n,function(){return this}),u(v,"toString",function(){return"[object Generator]"}),(a=function(){return{w:c,m:h}})()}function u(t,r,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}u=function(t,r,e,n){function a(r,e){u(t,r,function(t){return this._invoke(r,e,t)})}r?o?o(t,r,{value:e,enumerable:!n,configurable:!n,writable:!n}):t[r]=e:(a("next",0),a("throw",1),a("return",2))},u(t,r,e,n)}function c(t,r,e,n,o,a,u){try{var c=t[a](u),i=c.value}catch(t){return void e(t)}c.done?r(i):Promise.resolve(i).then(n,o)}function i(t){return function(){var r=this,e=arguments;return new Promise(function(n,o){var a=t.apply(r,e);function u(t){c(a,n,o,u,i,"next",t)}function i(t){c(a,n,o,u,i,"throw",t)}u(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792"],function(t,e){"use strict";var o,u,c,s,f,l,p,v,h,d;return{setters:[function(t){o=t.o,u=t.Q,c=t.n,s=t.H,f=t.bV,l=t.p},function(t){p=t.s,v=t.j,h=t.r,d=t.R}],execute:function(){var y=function(){return o.post("xterm/get_host_list",{check:"array"})},m=function(t){return o.post("xterm/create_host",{data:t,check:"msg"})},b=function(t,r){return o.post("xterm/remove_host",{data:{host:t,port:r},check:"msg"})},g=function(t,r){return o.post("xterm/get_host_find",{data:{host:t,port:r},check:"object"})},w=(t("h",function(){return o.post("ssh_security/get_login_record",{check:"object"})}),t("j",function(t){var r=t?"stop_login_record":"start_login_record";return o.post("ssh_security/".concat(r),{check:"msg"})}),t("f",function(t){return o.post("ssh_security/get_record_list",{data:t,check:"object"})}),t("l",function(){return o.post("xterm/get_command_list",{check:"array"})}),t("o",function(t){return o.post("xterm/create_command",{data:t,check:"msg"})}),t("n",function(t){return o.post("xterm/modify_command",{data:t,check:"msg"})}),t("p",function(t){return o.post("xterm/remove_command",{data:{title:t},check:"msg"})}),t("m",function(){return o.post("xterm/out_command",{check:"msg"})}),t("b",function(t){return o.post("xterm/set_completion_tool_status",{data:{status:t},check:"msg"})}),t("g",function(){return o.post("xterm/completion_tool_status",{check:"msg"})}),t("k",function(t){return o.post("ssh_security/get_record_video",{data:{record_id:t},check:"object"})}),t("r",function(t){return o.post("ssh_security/remove_video_record",{data:{record_ids:JSON.stringify(t)},check:"msg"})}),v("TERM-HOST-LIST",function(){var t=h({}),r=h(!1),e=h(!1),n=h("password"),o=h(!1),c=function(){var t=i(a().m(function t(){var r;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,u({loading:e,request:y(),data:Array});case 1:return r=t.v,t.a(2,{data:r,total:r.length,other:{}})}},t)}));return function(){return t.apply(this,arguments)}}();return{isEdit:r,rowData:t,$reset:function(){r.value=!1,e.value=!1,n.value="password"},isTableLoad:e,cutAuthType:n,getHostData:c,isRefreshList:o}})),_=t("u",function(){var t=w();return n(n({},t),p(t))})(),O=_.cutAuthType,k=_.isEdit,j=_.rowData,S=_.isRefreshList,P=(t("e",function(t,r,n){null==n||n.stopPropagation(),j.value=t,c({title:k.value?"编辑主机信息":"添加主机信息",area:48,component:function(){return s(function(){return e.import("./add-host-legacy.js?v=1763689792")},void 0,e.meta.url)},compData:{rows:t||{},refresh:r},showFooter:!0})}),t("a",function(t){if(!k.value&&d(t)&&t.value){var r,e,n,o=t.value.host;if(-1!=o.indexOf("@")){var a=o.split("@");if(o=a[1],-1!=(e=a[0]).indexOf(":")){var u=e.split(":");e=u[0],n=u[1]}}if(-1!=o.indexOf(":")){var c=o.split(":");o=c[0],r=c[1]}o&&(t.value.host=o,t.value.ps=o),r&&(t.value.port=Number(r)),e&&(t.value.username=e),n&&(t.value.password=n)}}),t("c",function(t,r){for(var e in r(),t.value)"password"===e&&(t.value[e]="");"password"===O.value?(t.value.pkey="",t.value.pkey_passwd=""):t.value.password=""}),function(t){var r=t.shell;try{r=JSON.parse(null==t?void 0:t.shell)}catch(e){r=t.shell}t.shell=r}),x=function(){var t=i(a().m(function t(e){var n,o,u,c,i;return a().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,g(e.host,e.port);case 1:n=t.v,o=n.data,c=r(o);case 2:if((i=c()).done){t.n=4;break}if("host"!==(u=i.value)){t.n=3;break}return t.a(3,2);case 3:e[u]=o[u],t.n=2;break;case 4:return P(e),t.a(2,o)}},t)}));return function(r){return t.apply(this,arguments)}}();t("s",function(){var t=i(a().m(function t(r){var e,n;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,u({loading:"正在"+(k.value?"修改":"创建")+"主机信息，请稍后...",request:m(f(r.value)),data:{status:Boolean,msg:String},message:!0});case 1:return e=t.v,n=e.status,S.value=!0,t.a(2,n);case 2:return t.p=2,t.v,t.a(2,!1)}},t,null,[[0,2]])}));return function(r){return t.apply(this,arguments)}}()),t("d",function(){var t=i(a().m(function t(r,e,n){var o;return a().w(function(t){for(;;)switch(t.p=t.n){case 0:return n.stopPropagation(),t.p=1,t.n=2,l({title:"删除服务器信息【"+r.host+"】",content:"删除选中的信息后，该服务器信息将不在列表中显示，是否继续操作？",icon:"warning-filled"});case 2:return t.n=3,u({loading:"正在删除服务器信息，请稍后...",request:b(r.host,r.port),data:{status:Boolean},message:!0});case 3:o=t.v,o.status&&e(),t.n=5;break;case 4:t.p=4,t.v;case 5:return t.a(2)}},t,null,[[1,4]])}));return function(r,e,n){return t.apply(this,arguments)}}()),t("i",i(a().m(function t(){var r;return a().w(function(t){for(;;)switch(t.n){case 0:if(!j.value){t.n=4;break}if(!j.value.isLocal){t.n=1;break}return t.a(2,n(n({},j.value.rows),{},{authType:j.value.rows.pkey?"private":"password"}));case 1:return t.n=2,x(j.value);case 2:return(r=t.v).authType=r.pkey?"private":"password",t.a(2,r);case 3:t.n=5;break;case 4:return t.a(2,{host:"",port:22,username:"root",password:"",pkey:"",pkey_passwd:"",ps:"",authType:"password"});case 5:return t.a(2)}},t)})))}}})}();
