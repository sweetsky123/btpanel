import{editAgainVerify as t}from"./site.js?v=1763689792";import{_ as s}from"./index110.js?v=1763689792";import{B as e,P as l}from"./utils-lib.js?v=1763689792";import{r,e as a,C as i}from"./base-lib.js?v=1763689792";import{Z as n,_ as o}from"./useController15.js?v=1763689792";import{u,S as p}from"./useStore12.js?v=1763689792";const{certVerifyInfo:c}=u(),{verifyBusCertEvent:d}=p(),m=async s=>{try{const e={oid:c.value.oid,dcvMethod:s.value.dcvMethod,pid:c.value.pid,cert_ssl_type:c.value.certType},r=await l({loading:"正在更改验证方式，请稍后...",request:t(e),message:!0});return(null==r?void 0:r.status)&&f(e.oid,e.cert_ssl_type,e.pid),r.status}catch(e){return!1}},f=async(t,s,e)=>{const{data:l}=await d(t,s,e);l&&o({...l,cert_ssl_type:s,certType:s,pid:e})},b=r([{label:"URL",prop:"url",showOverflowTooltip:!0},{label:"验证结果",prop:"status",width:100,render:t=>1==t.status?a("span",{class:"text-primary"},[i("通过")]):a("span",{class:"text-[red] flex item-center"},[a("span",null,[i("失败["),t.status,i("]")]),a("a",{href:"https://www.bt.cn/bbs/thread-56802-1-1.html",target:"_blank",class:"svgtofont-el-question-filled text-warning ml-[2px]"},null)])},{label:"操作",align:"right",width:160,render:(t,l)=>a("div",{class:"flex items-center justify-end"},[a("span",{class:"cursor-pointer bt-link",onClick:()=>e({value:t.url})},[i("复制")]),a(s,null,null),a("a",{class:"bt-link",href:t.url,target:"_blank"},[i("打开")]),a(s,null,null),a("span",{class:"cursor-pointer bt-link",onClick:()=>n(t,l)},[i("重新验证")])])}]);export{m as o,b as t};
