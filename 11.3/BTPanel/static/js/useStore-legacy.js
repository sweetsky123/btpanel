!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function t(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?e(Object(o),!0).forEach(function(e){n(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function s(n,i,o,a){var s=i&&i.prototype instanceof c?i:c,f=Object.create(s.prototype);return r(f,"_invoke",function(n,i,o){var r,a,s,c=0,f=o||[],l=!1,p={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(t,n){return r=t,a=0,s=e,p.n=n,u}};function g(n,i){for(a=n,s=i,t=0;!l&&c&&!o&&t<f.length;t++){var o,r=f[t],g=p.p,m=r[2];n>3?(o=m===i)&&(s=r[(a=r[4])?5:(a=3,3)],r[4]=r[5]=e):r[0]<=g&&((o=n<2&&g<r[1])?(a=0,p.v=i,p.n=r[1]):g<m&&(o=n<3||r[0]>i||i>m)&&(r[4]=n,r[5]=i,p.n=m,a=0))}if(o||n>1)return u;throw l=!0,i}return function(o,f,m){if(c>1)throw TypeError("Generator is already running");for(l&&1===f&&g(f,m),a=f,s=m;(t=a<2?e:s)||!l;){r||(a?a<3?(a>1&&(p.n=-1),g(a,s)):p.n=s:p.v=s);try{if(c=2,r){if(a||(o="next"),t=r[o]){if(!(t=t.call(r,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,a<2&&(a=0)}else 1===a&&(t=r.return)&&t.call(r),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);r=e}else if((t=(l=p.n<0)?s:n.call(i,p))!==u)break}catch(t){r=e,a=1,s=t}finally{c=1}}return{value:t,done:l}}}(n,o,a),!0),f}var u={};function c(){}function f(){}function l(){}t=Object.getPrototypeOf;var p=[][i]?t(t([][i]())):(r(t={},i,function(){return this}),t),g=l.prototype=c.prototype=Object.create(p);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,r(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e}return f.prototype=l,r(g,"constructor",l),r(l,"constructor",f),f.displayName="GeneratorFunction",r(l,a,"GeneratorFunction"),r(g),r(g,a,"Generator"),r(g,i,function(){return this}),r(g,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:m}})()}function r(e,t,n,i){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}r=function(e,t,n,i){function a(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!i,configurable:!i,writable:!i}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},r(e,t,n,i)}function a(e,t,n,i,o,r,a){try{var s=e[r](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(i,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var r=e.apply(t,n);function s(e){a(r,i,o,s,u,"next",e)}function u(e){a(r,i,o,s,u,"throw",e)}s(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./config-legacy.js?v=1763689792"],function(e,n){"use strict";var r,a,u,c,f,l,p,g,m,h;return{setters:[function(e){r=e.u,a=e.bQ,u=e.R,c=e.ak,f=e.Q},function(e){l=e.s,p=e.j},function(e){g=e.a8,m=e.a9,h=e.Q}],execute:function(){var n=p("CONFIG-STORE1",{state:function(){return{tabActive:"message",settingSearch:"",openPortPopup:!1,openSSLPopup:!1,isRefreshList:!1,panelConfig:{panelClose:!1,loginOrigin:!1,listenIpv6:!1,offlineMode:!1,debugMode:!1,apiInterface:!1,onlineService:!1,improvement:!1,webname:"",leftTitle:"",session_timeout:"1天",session_timeout_source:86400,sites_path:"",backup_path:"",serverIp:"",systemdate:"",username:"",account:"",menuHide:"无配置",requestType:"",checkTwoStep:!1,sslVerify:!1,requestLine:"",panelNode:"--",panelNodeId:0},safeConfig:{panelAlarm:!1,panelSSl:!1,basicAuth:!1,pawComplexity:!1,uaAstrict:!1,domain:"",limitip:"",port:8888,admin_path:"/",statusCode:0,pawExpireTime:""},limitArea:{}}},getters:{},actions:{getGlobalConfig:function(){var e=this;return s(o().m(function t(){var n,i,a;return o().w(function(t){for(;;)switch(t.n){case 0:return n=r(),i=n.getGlobalInfo,t.n=1,i();case 1:a=t.v,e.setConfig(a),e.setSafeConfig(a);case 2:return t.a(2)}},t)}))()},getConfigData:function(){var e=this;return s(o().m(function t(){return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.getGlobalConfig();case 1:return t.a(2)}},t)}))()},getMenuListEvent:function(){var e=this;return s(o().m(function t(){var n,i;return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,a();case 1:n=t.v,i=n.data,u(i)&&(e.panelConfig.menuHide=i.filter(function(e){return!e.show}).map(function(e){return e.title}).join("、"));case 2:return t.a(2)}},t)}))()},getLimitUaInfo:function(){return s(o().m(function e(){return o().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)}))()},setConfig:function(e){this.panelConfig.listenIpv6="checked"===e.ipv6,this.panelConfig.offlineMode="checked"===e.is_local,this.panelConfig.debugMode="checked"===e.debug,this.panelConfig.apiInterface="checked"===e.api,this.panelConfig.onlineService=e.show_workorder,this.panelConfig.improvement=e.improvement,this.panelConfig.loginOrigin=e.login_origin,this.panelConfig.webname=e.webname||"宝塔Linux面板",this.panelConfig.leftTitle=e.left_title||"",this.panelConfig.session_timeout=e.session_timeout||"1天",this.panelConfig.session_timeout_source=e.session_timeout_source||86400,this.panelConfig.sites_path=e.sites_path||"",this.panelConfig.backup_path=e.backup_path||"",this.panelConfig.systemdate=e.systemdate||"",this.panelConfig.username=e.username||"",this.panelConfig.requestType=e.request_type||"",this.panelConfig.requestLine=e.request_iptype||"";var t=e.panel,n=e.user_info;c(t)&&(this.panelConfig.serverIp=t.address||""),c(n)&&(this.panelConfig.account=n.data.username)},setSafeConfig:function(e){var t,n=e.panel,i=e.SSL;this.safeConfig.panelSSl=i||location.protocol.indexOf("https:")>-1,this.safeConfig.basicAuth=(null===(t=e.basic_auth)||void 0===t?void 0:t.open)||!1,this.safeConfig.statusCode=e.status_code||404,c(n)&&(this.safeConfig.domain=n.domain||"",this.safeConfig.limitip=n.limitip||"",this.safeConfig.port=n.listen_port||"",this.safeConfig.admin_path=n.admin_path||"/")},savaPanelTheme:function(e){return s(o().m(function t(){var n,i;return o().w(function(t){for(;;)switch(t.n){case 0:return n=r(),i=n.globalTheme,t.n=1,f({loading:e,message:!0,request:g({data:JSON.stringify(i.value)})});case 1:return t.a(2)}},t)}))()},getPanelTheme:function(){var e=this;return s(o().m(function t(){var n;return o().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,f({request:m(),success:function(t){t.status&&e.setPanelTheme(null==t?void 0:t.data.data)}});case 1:return n=t.v,t.a(2,n)}},t)}))()},setPanelTheme:function(e){var n=r().globalTheme;e&&"object"===i(e)&&(n.value=t({theme:e.theme||{dark:!1,color:"#20a53a",view:"default"},logo:e.logo||{image:"",favicon:""},sidebar:e.sidebar||{dark:!1,color:"#3c444d",opacity:1},interface:e.interface||{rounded:"small",is_show_bg:!1,bg_image:"",bg_image_opacity:1,content_opacity:1,shadow_color:"#000",shadow_opacity:.2},home:e.home||{overview_view:"default",overview_size:14},login:e.login||{logo:"",is_show_logo:!1,bg_image:"",is_show_bg:!1,bg_image_opacity:1}},e))},saveConfig:function(e,t){var n=this;return s(o().m(function i(){var r,a;return o().w(function(i){for(;;)switch(i.n){case 0:return r=t&&t.session_timeout?t.session_timeout:n.panelConfig.session_timeout_source,i.n=1,f({loading:e,message:!0,request:h({webname:n.panelConfig.webname||"宝塔Linux面板",session_timeout:r||86400,domain:n.safeConfig.domain,limitip:n.safeConfig.limitip,sites_path:n.panelConfig.sites_path,backup_path:n.panelConfig.backup_path,address:n.panelConfig.serverIp,systemdate:n.panelConfig.systemdate})});case 1:if(a=i.v,!(!(!t||void 0===t.isReturn)&&t.isReturn)){i.n=2;break}return i.a(2,a);case 2:setTimeout(function(){window.location.reload()},1e3);case 3:return i.a(2)}},i)}))()}},persist:[{storage:localStorage,paths:["tabActive"]}]});e("g",function(){var e=n();return t({refs:l(e)},e)})}}})}();
