import{_ as e}from"./index115.js?v=1763689792";import{_ as a}from"./index351.js?v=1763689792";import{p as t,k as l}from"./validator.js?v=1763689792";import{u as n,aH as i,b as s,_ as u}from"./utils-lib.js?v=1763689792";import{c as o,g as r,b as c,r as p,p as w,w as d,v as m,aP as f,I as v,J as g,z as _,x as b,y as x,M as y,O as h,G as j,C as k,e as I,R as S}from"./base-lib.js?v=1763689792";import"./index116.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index107.js?v=1763689792";const P=["src"],W=u(o({__name:"index",setup(u){const o=r(()=>c().path),{iframezIndex:W,menuControl:A,routerActive:C,iframeActive:N,mainHeight:z,payment:H}=n(),R=p("/software"),V=p(null),B=p(null),E=p(!1),M=p(null),O=w("pluginWafInfo",{setup:!1,endtime:-1}),T=r(()=>A.value.collapse?"60px":"184px"),D=[["/waf","/btwaf/index"]],G=p(),J=p(!1),L=p("waf"),U=p([{name:"waf",show:!0,meta:{title:"防火墙"}}]),{warn:q}=s(),F=r(()=>{var e,a;return{title:"Nginx防火墙-功能介绍",imgSrc:"/soft_ico/ico-btwaf.png",productSrc:"https://www.bt.cn/new/product_nginx_firewall.html",ps:"Nginx防火墙是保护Web应用程序免受各种网络攻击，检测过滤恶意请求限制访问频率，增强应用程序的安全，易于配置和使用，是保护Web应用程序安全的重要工具之一",source:25,desc:["仅支持Nginx","抵御CC攻击","关键词拦截","拦截恶意扫描","阻止黑客入侵"],tabImgs:[{title:"概览",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_1.png"},{title:"攻击地图",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_2.png"},{title:"攻击报表",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_3.png"},{title:"全局设置",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_4.png"},{title:"站点设置",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_5.png"},{title:"封锁记录",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_6.png"},{title:"操作日志",imgSrc:"https://www.bt.cn/Public/new/plugin/introduce/waf/nginx_firewall_7.png"}],pluginInfo:O.value,isInstall:!(null==(e=O.value)?void 0:e.setup)&&(null==(a=O.value)?void 0:a.endtime)>-1}});d(()=>C.value,async e=>{var a;if(G.value=D.filter(e=>-1!==e.indexOf(C.value))[0]||[],G.value.length){W.value=996;const e=null==(a=M.value)?void 0:a.contentWindow;C.value===G.value[0]&&e&&(null==e?void 0:e.location.pathname)===G.value[1]?e.location.reload():(E.value=!0,B.value=(new Date).getTime(),R.value=G.value[1],N.value=G.value[1])}},{immediate:!0});const K=()=>{var e;const a=null==(e=M.value)?void 0:e.contentWindow,t=null==a?void 0:a.document.getElementById("#app");a&&!t&&(N.value=G.value[1],W.value=998)},Q=()=>{var e;const a=null==(e=M.value)?void 0:e.contentWindow;a&&(a.document.getElementById("#app")||(W.value=998))},X=async e=>{try{if(e.setup){const a=null==e?void 0:e.version;if(!a)return;a.replace(/\./g,"")<955&&(await l({type:"u",name:"btwaf",pluginInfo:e}),setTimeout(()=>{q("当前插件版本过低，请升级防火墙插件版本至9.5.5及以上版本")},1e3))}}catch(a){}};return m(()=>{window.pay=t,(async()=>{if("/waf"===o.value)try{J.value=!0;const e=await i({sName:"btwaf"});O.value=e.data,X(e.data),J.value=!1}catch(e){J.value=!1}})()}),(t,l)=>{var n;const i=f("compatible-load-file"),s=f("compatible-load"),u=a,r=e,c=v("bt-loading");return g((b(),x("div",{class:"w-full",style:y({"min-height":_(z)+"px"}),key:_(B)},[_(E)?(b(),x("div",{key:0,ref_key:"maskRef",ref:V,class:"mask",style:y({left:_(T)})},["/files"===_(C)?(b(),h(i,{key:0})):(b(),h(s,{key:1}))],4)):j("",!0),-1!==_(O).endtime&&(null==(n=_(O))?void 0:n.setup)||"/waf"!==_(o)?(b(),x("iframe",{key:2,ref_key:"frameRef",ref:M,id:"ifrramApp",class:"ifrramApp",style:y({zIndex:_(W)}),src:_(R),onLoad:K,onMouseenter:Q},null,44,P)):(b(),h(r,{key:1,modelValue:_(L),"onUpdate:modelValue":l[0]||(l[0]=e=>S(L)?L.value=e:null),options:_(U)},{default:k(()=>[I(u,{data:_(F),class:"p-[4rem]"},null,8,["data"])]),_:1},8,["modelValue","options"]))],4)),[[c,_(J)],[c,"正在加载页面，请稍后...","title"]])}}}),[["__scopeId","data-v-520c38d3"]]);export{W as default};
