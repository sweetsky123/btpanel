import{V as s,p as e,Q as a,n as l,H as o,_ as t}from"./utils-lib.js?v=1763689792";import{_ as n}from"./index437.js?v=1763689792";import{c as i,s as r,r as c,g as m,v as p,a8 as u,x as d,y as v,e as f,C as x,A as j,F as y,b1 as I,z as b,B as w,aZ as S,L as _}from"./base-lib.js?v=1763689792";import{u as g}from"./useStore12.js?v=1763689792";import{t as C,b as E,c as T,m as L,d as A}from"./usePayController.js?v=1763689792";import{applyCertOrderRenw as M}from"./site.js?v=1763689792";import{u as P}from"./useStore11.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./useStore4.js?v=1763689792";import"./useController15.js?v=1763689792";import"./index109.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./useController6.js?v=1763689792";import"./validator.js?v=1763689792";import"./index107.js?v=1763689792";import"./useController5.js?v=1763689792";import"./useMethod5.js?v=1763689792";import"./useController4.js?v=1763689792";import"./ssl.js?v=1763689792";const D={class:"px-[3rem] py-[2rem] pb-[24px]"},V={class:"ssl-pay-type"},H=["onClick"],W={class:"p-[24px] flex flex-col justify-center items-center"},Y={class:"mt-[16px] text-base font-bold flex items-center"},k={class:"text-subtitleLarge ml-[8px] text-warning"},q={class:"ssl-pay-info"},R={class:"ssl-pay-info-line"},h={class:"ssl-pay-info-line"},z={class:"mt-[16px] flex items-center justify-center"},F=t(i({__name:"pay-bus-ssl",props:{compData:{default:{oid:0,wxcode:"",alicode:"",qq:"",orderInfo:{},productInfo:{}}}},emits:["close"],setup(t,{emit:i}){const{productInfo:F,orderInfo:N}=g(),{sslIsRefresh:B}=r(P()),O=t,Q=i,Z=[{name:"微信支付",label:"wxcode"},{name:"支付宝支付",label:"alicode"}],G=c(!1),J=m(()=>O.compData[C.value]),K=()=>{var s;s={productInfo:F.value,orderInfo:N.value},l({title:"支付成功",area:[60,60],component:()=>o(()=>import("./pay-bus-success2.js?v=1763689792"),__vite__mapDeps([]),import.meta.url),compData:s}),B.value=!0,Q("close")},U=async s=>{s&&sessionStorage.setItem("PAY-SSL-VIEW-TIME","".concat(s));const l=sessionStorage.getItem("PAY-SSL-VIEW-TIME");if(l){if(parseInt("".concat((new Date).getTime()/1e3-Number(l)),10)>600&&G.value)return sessionStorage.removeItem("PAY-SSL-VIEW-TIME"),e({title:"支付超时",icon:"warning",content:"由于您长时间未操作，支付超时，请刷新网页重新购买！",onConfirm:()=>{close(),window.location.reload()},onCancel:()=>{close(),window.location.reload()}});G.value||sessionStorage.removeItem("PAY-SSL-VIEW-TIME")}await L(),E.value?(T.value&&clearTimeout(T.value),T.value=setTimeout(()=>{U()},3e3)):F.value.isRenew?await a({request:M({oid:F.value.oid}),message:!0}):K()};return p(async()=>{G.value=!0,U((new Date).getTime()/1e3)}),u(()=>{E.value=!1,G.value=!1,clearTimeout(T.value)}),(e,a)=>{var l,o,t,i;const r=S,c=n;return d(),v("div",D,[f(r,{type:"error",closable:!1},{title:x(()=>[...a[0]||(a[0]=[j("span",{class:"text-small"},[j("i",{calss:"svgtofont-el-warning-outline text-small"}),j("span",null," 禁止含有诈骗、赌博、色情、木马、病毒等违法违规业务信息的站点申请SSL证书，如有违反，撤销申请，停用账号。 ")],-1)])]),_:1}),j("div",V,[(d(),v(y,null,I(Z,s=>j("span",{key:s.name,class:_("ssl-pay-tab-item ".concat(s.label===b(C)?"isActive":"")),onClick:e=>b(A)(s.label,!0)},[j("span",{class:_("pay-icon ".concat(s.label))},null,2),j("span",null,w(s.name),1)],10,H)),64))]),j("div",W,[f(c,{value:b(J),size:160},null,8,["value"]),j("span",Y,[a[1]||(a[1]=j("span",null,"总计",-1)),j("span",k,w(null==(l=b(F))?void 0:l.totalPrice.toFixed(2))+" 元 ",1)])]),j("div",q,[j("div",R,[a[2]||(a[2]=j("span",{class:"w-[5rem]"},"商品名称",-1)),j("span",null,w("".concat((null==(o=b(F))?void 0:o.productName)+(null==(t=b(F))?void 0:t.years),"年").concat((null==(i=b(F))?void 0:i.install)?"(包含部署服务)":"")),1)]),j("div",h,[a[3]||(a[3]=j("span",{class:"w-[5rem]"},"下单时间",-1)),j("span",null,w(b(s)(b(N).addtime,"yyyy-MM-dd HH:mm:ss")),1)])]),j("div",z,[a[4]||(a[4]=j("span",{class:"scan-icon"},null,-1)),j("span",null,w("wxcode"===b(C)?"微信扫一扫支付":"支付扫一扫支付"),1)])])}}}),[["__scopeId","data-v-28b71940"]]);export{F as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
