!function(){function e(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,l){if(e){if("string"==typeof e)return n(e,l);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,l):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var l=0,t=Array(n);l<n;l++)t[l]=e[l];return t}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./store-legacy.js?v=1763689792","./store-legacy2.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792"],function(n,l){"use strict";var t,s,r,a,i,o,u,c,f,m,d,y,g,p,v,b,x,_,k,S,j,h,w,R,A,C,M;return{setters:[function(e){t=e.j,s=e.b,r=e._},function(e){a=e.c,i=e.s,o=e.o,u=e.v,c=e.aG,f=e.I,m=e.x,d=e.y,y=e.e,g=e.C,p=e.D,v=e.z,b=e.A,x=e.O,_=e.G,k=e.B,S=e.J,j=e.Q,h=e.R,w=e.H,R=e.aZ,A=e.T},function(e){C=e.H},function(e){M=e.H},null,null,null,null,null],execute:function(){var l={class:"flex justify-between items-center h-full px-[3rem] reset"},V={class:"p-[1.5rem]"},H={class:"text-small leading-[2.6rem]"},I={id:"SafeRestart",class:"flex justify-between"},T={key:0,class:"info"},z={key:1,class:"info"},L={key:2,class:"info"},Q={key:3,class:"info"},U={key:4,class:"info"},D={key:5,class:"info"},G={key:6,class:"info"},O={key:7,class:"info"},P={key:0,class:"flex items-center tips mb-[12px]"},W={class:"vcode flex items-center h-[4.8rem] mt-4 pl-[1.2rem] text-base"},q={class:"mx-[1rem]"},B={class:"el-dialog__footer absolute bottom-0 w-full flex justify-end"};n("default",r(a({__name:"index",setup:function(n){var r=C(),a=i(r),E=a.showFooter,F=a.showServer,J=a.serverRestartRef,K=a.courseList,Z=M(),$=i(Z).isDockerPanel,N=o({num1:0,num2:0,gentle:void 0}),X=function(e){N.num1=Math.round(9*Math.random()+1),N.num2=Math.round(9*Math.random()+1),N.gentle=void 0,!0!==e&&(F.value=!0)},Y=function(){if(N.gentle===N.num1+N.num2||(s().error("计算错误，请重新计算！"),0))var e=setTimeout(function(){r.onRestartServer(),clearTimeout(e)},0)};return u(function(){X(!0)}),c(function(){r.clearRestart()}),function(n,s){var a=w,i=R,o=A,u=t,c=f("focus");return m(),d("div",l,[y(a,{type:"danger",class:"danger-btn",onClick:X},{default:g(function(){return e(s[3]||(s[3]=[p("重启服务器",-1)]))}),_:1}),y(a,{size:"default",onClick:v(r).onRestartPanel},{default:g(function(){return e(s[4]||(s[4]=[p("重启面板",-1)]))}),_:1},8,["onClick"]),y(u,{title:"安全重启服务器",modelValue:v(F),"onUpdate:modelValue":s[2]||(s[2]=function(e){return h(F)?F.value=e:null}),area:[46.6,v(E)?52:49]},{default:g(function(){return[b("div",{class:"relative h-full",ref_key:"serverRestartRef",ref:J},[b("div",V,[v($)?(m(),x(i,{key:0,title:"危险操作警告：当前服务器疑似运行在容器环境中！",type:"warning",closable:!1,class:"mb-3"},{default:g(function(){return e(s[5]||(s[5]=[b("p",{class:"font-medium mb-2 text-base text-secondary"},"重启服务器将造成：",-1),b("ul",{class:"list-disc list-inside space-y-1 ml-2 text-small text-secondary"},[b("li",{class:"font-medium"},"容器实例立即销毁"),b("li",{class:"font-medium"},"所有未挂载数据永久丢失"),b("li",{class:"font-medium"},"网站服务完全中断"),b("li",{class:"font-medium"},"可能需要重新部署和配置")],-1),b("p",{class:"mt-2 font-medium text-base text-secondary"},'建议：如仅需重启面板服务，请选择"重启面板服务"',-1)]))}),_:1})):(m(),x(i,{key:1,type:"warning",closable:!1,title:"即将重启服务器",class:"mb-3 px-[2rem]"},{default:g(function(){return e(s[6]||(s[6]=[b("p",{class:"font-medium mb-2 text-base text-secondary leading-[2.6rem]"},"影响范围：",-1),b("ul",{class:"list-disc list-inside space-y-1 ml-2 text-small text-secondary leading-[2.6rem]"},[b("li",null,"所有网站服务临时中断（1-5分钟）"),b("li",null,"正在进行的用户会话将断开"),b("li",null,"未保存的临时数据可能丢失"),b("li",null,"SSH连接将断开")],-1),b("p",{class:"mt-2 font-medium text-base text-secondary leading-[2.6rem]"},'建议：如仅需重启面板服务，请选择"重启面板服务"',-1)]))}),_:1})),b("div",H,[s[16]||(s[16]=b("p",{class:"mt-[1rem] mb-[1rem]"},"面板重启服务器将执行以下操作：",-1)),b("div",I,[v(K).webServe?(m(),d("div",z,e(s[8]||(s[8]=[b("span",{class:"green-bg"},null,-1),b("p",{class:"green-font"},"正在停止Web服务...",-1)])))):(m(),d("div",T,e(s[7]||(s[7]=[b("span",{class:"gray-bg"},null,-1),b("p",null,"1. 停止Web服务",-1)])))),v(K).mysqlServe?(m(),d("div",Q,e(s[10]||(s[10]=[b("span",{class:"green-bg circle-green"},null,-1),b("p",{class:"green-font"},"正在停止MySQL服务...",-1)])))):(m(),d("div",L,e(s[9]||(s[9]=[b("span",{class:"gray-bg circle-gray"},null,-1),b("p",null,"2. 停止MySQL服务",-1)])))),v(K).restartServe?(m(),d("div",D,e(s[12]||(s[12]=[b("span",{class:"green-bg circle-green"},null,-1),b("p",{class:"green-font"},"正在重启服务器...",-1)])))):(m(),d("div",U,e(s[11]||(s[11]=[b("span",{class:"gray-bg circle-gray"},null,-1),b("p",null,"3. 开始重启服务器",-1)])))),v(K).serveStart?(m(),d("div",O,e(s[14]||(s[14]=[b("span",{class:"green-bg circle-green"},null,-1),b("p",{class:"green-font"},"4. 等待服务器启动",-1),b("i",{class:"svgtofont-el-loading animate-spin"},null,-1)])))):(m(),d("div",G,e(s[13]||(s[13]=[b("span",{class:"gray-bg circle-gray"},null,-1),b("p",null,"4. 等待服务器启动",-1)]))))]),v(K).serveStart?(m(),d("div",P,e(s[15]||(s[15]=[b("p",null,"重启进行中时，请勿随意进行刷新，若长时间未响应，可以进行刷新尝试。",-1)])))):_("",!0)]),b("div",W,[s[17]||(s[17]=b("span",null,"计算结果：",-1)),b("span",q,k(v(N).num1)+" + "+k(v(N).num2),1),s[18]||(s[18]=b("span",{class:"mr-[1rem]"},"=",-1)),S(y(o,{modelValue:v(N).gentle,"onUpdate:modelValue":s[0]||(s[0]=function(e){return v(N).gentle=e}),autofocus:"true","controls-position":"right",size:"small",onKeydown:j(Y,["native","enter"])},null,8,["modelValue"]),[[c]])])]),b("div",B,[y(a,{type:"warning",onClick:s[1]||(s[1]=function(e){return F.value=!1})},{default:g(function(){return e(s[19]||(s[19]=[p("取消",-1)]))}),_:1}),y(a,{type:"primary",onClick:Y},{default:g(function(){return e(s[20]||(s[20]=[p("确认",-1)]))}),_:1})])],512)]}),_:1},8,["modelValue","area"])])}}}),[["__scopeId","data-v-fdd120fb"]]))}}})}();
