import{c as e,s as t,g as s,v as a,a8 as o,x as l,y as r,e as i,C as n,A as d,J as c,O as p,L as u,z as f,M as m,B as v,F as y,D as h,K as b,N as x,b6 as _,aT as k,aA as j,c6 as g}from"./base-lib.js?v=1763689792";import{a as w}from"./index53.js?v=1763689792";import{_ as B}from"./utils-lib.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./validator.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";import"./index116.js?v=1763689792";import"./index111.js?v=1763689792";import"./store.js?v=1763689792";import"./store2.js?v=1763689792";import"./config.js?v=1763689792";import"./store3.js?v=1763689792";import"./hooks.js?v=1763689792";const C={class:"state-data flex items-center justify-center"},N={class:"flex flex-col items-center"},T={class:"percentage-value"},$={class:"state-bottom"},A={class:"text-small"},D={class:"text-small"},H={class:"state-header"},z={class:"pb-4px"},E={key:1},F=["href"],I={key:1,class:"pb-4px"},J=B(e({__name:"main-tile",props:{visible:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},showDesc:{type:Boolean,default:!0},href:{default:""},info:{default:()=>({title:"",range:0})},disk:{type:Boolean,default:!1},data:{default:()=>({})},type:{default:""},alert:{type:Boolean,default:!1}},emits:["update:visible","openPopover","show","hide"],setup(e,{emit:B}){const J=e,K=w(),{virtualRef:L,popoverContent:M}=t(K),O=s(()=>{const{info:e,alert:t}=J,{desc:s,title:a,range:o,rangeText:l,disabled:r,type:i}=e,n=K.chartColorActive(o,t);let d=s,{color:c}=n;if("disk"===J.type&&"var(--el-color-primary)"===c){const{data:e}=J;c=Number(e.inodes[3].replace("%",""))>90?"#ef0808":Number(e.inodes[3].replace("%",""))>80?"#ff9900":"var(--el-color-primary)"}if("object"==typeof s&&("disk"===i||"mem"===i))try{d={used:s.used?s.used:"0",used_unit:s.used_unit?s.used_unit:"0",total:s.total?s.total:"0",total_unit:s.total_unit?s.total_unit:"0"}}catch(p){d="获取中"}return{type:i,title:a,color:c,range:o,disabled:!!r,desc:d||n.desc,rangeText:l||"",position:"bottom-start"}}),P=e=>{const{rangeText:t}=O.value;return t||"".concat(e,"%")};return a(()=>{K.init()}),o(K.$reset),(t,s)=>{const a=_,o=k,w=j,B=g;return l(),r("div",C,[i(w,{trigger:"hover","virtual-ref":f(L),width:e.custom?"auto":e.disk?300:400,offset:e.custom?1:0,placement:f(O).position,teleported:!1,"show-after":100,"auto-close":0,"popper-class":"el-popover-shadow",onShow:s[1]||(s[1]=e=>t.$emit("show")),onHide:s[2]||(s[2]=e=>t.$emit("hide"))},{reference:n(()=>{var t,i,x,_;return[d("div",{ref_key:"popoverContent",ref:M,class:"w-[135px] h-[180px] flex flex-col items-center"},[c((l(),p(a,{class:u(["cursor-pointer",{"mount-progress":"None"===e.data.path}]),type:"circle",width:115,"stroke-width":8,color:f(O).color,percentage:f(O).range||0,format:P,style:m("color:"+f(O).color)},{default:n(({percentage:e})=>[d("div",N,[d("span",T,v(e)+"%",1)])]),_:1},8,["class","color","percentage","style"])),[[B,void 0,"popover"]]),c(d("span",$,["object"!=typeof f(O).desc||"disk"!==f(O).type&&"mem"!==f(O).type?(l(),r(y,{key:1},[h(v(f(O).desc),1)],64)):(l(),r(y,{key:0},[d("span",{style:m({color:f(O).color})},[d("span",null,v(null==(t=f(O).desc)?void 0:t.used),1),d("span",A,v(null==(i=f(O).desc)?void 0:i.used_unit),1)],4),s[3]||(s[3]=d("span",null," / ",-1)),d("span",null,v(null==(x=f(O).desc)?void 0:x.total),1),d("span",D,v(null==(_=f(O).desc)?void 0:_.total_unit),1)],64))],512),[[b,e.showDesc]]),d("div",H,["disk"===e.type?(l(),p(o,{key:0,effect:"dark",placement:"top"},{content:n(()=>[d("p",z,["None"!==e.data.path?(l(),r(y,{key:0},[d("div",null,"别名："+v(e.data.rname),1),s[4]||(s[4]=d("div",null,"点击跳转目录",-1))],64)):(l(),r("div",E,"点击打开磁盘挂载插件"))])]),default:n(()=>[d("span",{class:"bt-link",style:m({color:f(O).color}),onClick:s[0]||(s[0]=t=>f(K).dirEvent(f(O).title,e.data.path))},v(f(O).title),5)]),_:1})):(l(),r(y,{key:1},[e.href?(l(),p(o,{key:0,class:"item",effect:"dark",content:"查看".concat(f(O).title,"描述"),placement:"top-start"},{default:n(()=>[d("a",{class:"border-dashed border-light border-b-[1px] hover:text-primary hover:border-primary",href:e.href,target:"_blank"},v(f(O).title),9,F)]),_:1},8,["content"])):(l(),r("span",I,v(f(O).title),1))],64))])],512)]}),default:n(()=>[x(t.$slots,"default",{},void 0,!0)]),_:3},8,["virtual-ref","width","offset","placement"])])}}}),[["__scopeId","data-v-1386dbf5"]]);export{J as default};
