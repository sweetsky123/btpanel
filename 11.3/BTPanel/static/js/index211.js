import{Q as e,b8 as a,$ as l,k as s,aC as t}from"./utils-lib.js?v=1763689792";import{r as n,c as o,v as i,I as r,x as c,O as m,C as u,e as p,A as d,J as f,z as v,R as b,D as _,y as g,F as x,b1 as y,G as C,aD as k,H as S,ap as h,aT as V,ad as w,ab as j}from"./base-lib.js?v=1763689792";import{B as L}from"./index119.js?v=1763689792";import{S as z,_ as G}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1763689792";import{b6 as T,b7 as U,a$ as q}from"./validator.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./ace.js?v=1763689792";import"./column.js?v=1763689792";import"./index110.js?v=1763689792";import"./index107.js?v=1763689792";const H=z(),D=n({}),P={enableGzipCompress:"为静态和动态响应启用GZIP/Brotli压缩.",gzipCompressLevel:"指定应用于动态内容的GZIP压缩级别。范围从1（最低）到9（最高）.",maxSSLConnections:"指定服务器将接受的最大并发SSL连接数<br/>\t\t\t#因为总的并发SSL和非SSL连接不能超过“Max connections”指定的限制,<br>\t\t\t#允许的并发SSL连接的实际数目必须低于此限制.",maxConnections:"指定服务器可以接受的最大并发连接数.<br/>\t\t\t#这包括纯TCP连接和SSL连接",connTimeout:"指定在处理一个请求期间允许的最大连接空闲时间（秒）.",maxKeepAliveReq:"指定可通过保持活动（持久）会话服务的最大请求数."},I=n("service"),M=n(""),O=n(!1),A=n(!1),B=n([]),E=[{content:"此处为openlitespeed主配置文件,若您不了解配置规则,请勿随意修改"}],F=async()=>{await e({loading:A,request:T(),success:e=>{B.value=[],Object.keys(e.data).forEach(a=>{B.value.push({name:a,ps:P[a],value:"enableGzipCompress"===a?"1"===e.data[a][0]:e.data[a][0]})})}})},J=async()=>{await e({loading:"正在保存中，请稍后...",request:a({path:"/usr/local/lsws/conf/httpd_config.conf",data:M.value,encoding:"utf-8"}),message:!0})},R=async()=>{let a={};B.value.forEach(e=>{a[e.name]="enableGzipCompress"===e.name?e.value?"1":"0":e.value}),await e({loading:"正在保存中，请稍后...",request:U({array:JSON.stringify(a)}),message:!0})},Z=({props:{name:a}})=>{switch(a){case"service":$();break;case"config":(async()=>{await e({loading:O,request:q({path:"/usr/local/lsws/conf/httpd_config.conf"}),data:{data:[String,M]}})})();break;case"setting":F()}},$=e=>{I.value="service",e&&(D.value=e),H.init(D.value)},K={class:"my-[12px]"},N={class:"flex flex-col text-secondary performance"},Q={class:"flex items-center"},W={key:1},X=["innerHTML"],Y=o({__name:"index",props:{compData:{default:{}}},setup(e){const a=e;return i(()=>{$(a.compData)}),(e,a)=>{const n=k,o=L,i=S,z=l,T=s,U=h,q=V,H=w,D=j,P=t,$=r("bt-loading");return c(),m(P,{modelValue:v(I),"onUpdate:modelValue":a[1]||(a[1]=e=>b(I)?I.value=e:null),type:"left-bg-card",onTabClick:v(Z)},{default:u(()=>[p(n,{label:"服务",name:"service"},{default:u(()=>[p(G)]),_:1}),p(n,{label:"配置文件",name:"config"},{default:u(()=>[a[3]||(a[3]=d("span",{class:"my-[4px] text-secondary"},"提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换",-1)),d("div",K,[f(p(o,{class:"!h-[36rem] !w-[50rem]",modelValue:v(M),"onUpdate:modelValue":a[0]||(a[0]=e=>b(M)?M.value=e:null),id:"configContent",filePath:"/usr/local/lsws/conf/httpd_config.conf"},null,8,["modelValue"]),[[$,v(O)]])]),p(i,{type:"primary",onClick:v(J)},{default:u(()=>[...a[2]||(a[2]=[_("保存",-1)])]),_:1},8,["onClick"]),p(z,{options:v(E),class:"ml-[20px] mt-[20px]"},null,8,["options"])]),_:1}),f((c(),m(n,{label:"参数设置",name:"setting"},{default:u(()=>[d("div",N,[p(D,{"label-position":"right","label-width":"186px"},{default:u(()=>[(c(!0),g(x,null,y(v(B),(e,l)=>(c(),m(H,{label:e.name,key:l},{default:u(()=>[d("div",Q,["enableGzipCompress"!==e.name?(c(),m(T,{key:0,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,width:"16rem"},null,8,["modelValue","onUpdate:modelValue"])):(c(),g("div",W,[p(U,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,class:"w-[16rem]"},null,8,["modelValue","onUpdate:modelValue"])])),"rollingSize"!=e.name?(c(),m(q,{key:2,class:"item",effect:"dark",placement:"top-start"},{content:u(()=>[d("div",{innerHTML:e.ps},null,8,X)]),default:u(()=>[a[4]||(a[4]=d("i",{class:"svgtofont-el-warning text-orange text-medium ml-[8px]"},null,-1))]),_:2},1024)):C("",!0)])]),_:2},1032,["label"]))),128)),p(H,{label:" "},{default:u(()=>[p(i,{type:"primary",onClick:v(F)},{default:u(()=>[...a[5]||(a[5]=[_("刷新",-1)])]),_:1},8,["onClick"]),p(i,{type:"primary",onClick:v(R)},{default:u(()=>[...a[6]||(a[6]=[_("保存",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1})),[[$,v(A)]])]),_:1},8,["modelValue","onTabClick"])}}});export{Y as default};
