!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function l(n,r,a,i){var l=r&&r.prototype instanceof s?r:s,u=Object.create(l.prototype);return o(u,"_invoke",function(n,r,o){var a,i,l,s=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,i=0,l=e,f.n=n,c}};function p(n,r){for(i=n,l=r,t=0;!d&&s&&!o&&t<u.length;t++){var o,a=u[t],p=f.p,m=a[2];n>3?(o=m===r)&&(l=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(i=0,f.v=r,f.n=a[1]):p<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,f.n=m,i=0))}if(o||n>1)return c;throw d=!0,r}return function(o,u,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),i=u,l=m;(t=i<2?e:l)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,l)):f.n=l:f.v=l);try{if(s=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==c)break}catch(t){a=e,i=1,l=t}finally{s=1}}return{value:t,done:d}}}(n,a,i),!0),u}var c={};function s(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=[][a]?t(t([][a]())):(o(t={},a,function(){return this}),t),p=d.prototype=s.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=d,o(p,"constructor",d),o(d,"constructor",u),u.displayName="GeneratorFunction",o(d,i,"GeneratorFunction"),o(p),o(p,i,"Generator"),o(p,a,function(){return this}),o(p,"toString",function(){return"[object Generator]"}),(r=function(){return{w:l,m:m}})()}function o(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}o=function(e,t,n,r){function i(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},o(e,t,n,r)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function c(e,t,n,r,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,l,"next",e)}function l(e){c(a,r,o,i,l,"throw",e)}i(void 0)})}}System.register(["./base-lib-legacy.js?v=1763689792","./bt_logo_new-legacy.js?v=1763689792","./api-legacy2.js?v=1763689792","./utils-lib-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792"],function(e,n){"use strict";var o,a,l,c,u,d,f,p,m,v,b,y,g,h,w,k,x,_,j,D,O,S,E,P,V,I,C;return{setters:[function(e){o=e.c,a=e.z,l=e.r,c=e.o,u=e.v,d=e.x,f=e.O,p=e.C,m=e.J,v=e.K,b=e.A,y=e.e,g=e.B,h=e.L,w=e.Q,k=e.y,x=e.D,_=e.G,j=e.M,D=e.b2},function(e){O=e._},function(e){S=e.s,E=e.f,P=e.t,V=e.h,I=e.i},function(e){C=e._},null],execute:function(){var n={class:"flex !justify-center !w-full items-center"},T={class:"text-extraLarge text-default inline-block mr-2 font-bold mt-12x"},A={key:0,class:"absolute el-form-item__error"},z={class:"flex justify-end items-center text-small mt-[1rem]"},q={key:0,class:"view-con",style:{background:"var(--el-color-white)"}},B={class:"w-[100%] mt-[1.2rem] flex items-center justify-center text-primary",size:"default"},G={key:1,class:"flex justify-end items-center text-small mt-[1rem] h-[1.68rem]"},F={key:0},U={class:"more-bind"},H=o({__name:"bind-user",props:{compData:{default:null}},emits:["close"],setup:function(e,o){var C=o.expose,H=o.emit,M=e,K=a(M.compData.dependencies.components),L=K.BtLink,N=K.BtDivider,$=(K.BtImage,K.ElForm),J=K.ElFormItem,Q=K.ElPopover,R=K.ElInput,W=K.ElButton,X=a(M.compData.dependencies.hooks),Y=X.Message,Z=X.isUndefined,ee=X.inputFocus,te=X.rsaEncrypt,ne=X.useAxios;S(ne);var re=H,oe=l(!1),ae=l("获取验证码"),ie=c({username:"",password:"",code:""}),le=c({username:!1,password:!1,code:!1}),ce=l(""),se=l(0),ue=l(),de=l(!1),fe=l(1),pe=l({username:[{validator:function(e,t,n){var r;if(null!==(r=M.compData)&&void 0!==r&&r.dependencies.title&&(de.value=!1),/^1[3456789]\d{9}$/.test(t))n();else if(""===t)n(new Error("请输入宝塔官网账号"));else{var o;if(null!==(o=M.compData)&&void 0!==o&&o.dependencies.title)return de.value=!0,void n(new Error(" "));n(new Error(" 请输入正确的手机号 "))}},trigger:["blur","change"]}],password:[{required:!0,message:"请输入密码",trigger:["blur","change"]},{validator:function(e,t,n){t.length>=8?n():n(new Error("请输入至少8位密码"))},trigger:["blur","change"]}],token:[{required:!1,message:"请输入验证码",trigger:["blur","change"]},{validator:function(e,t,n){oe.value||n(),6===t.length?n():n(new Error("请输入6位验证码，不可为空"))},trigger:["blur","change"]}]}),me=function(){var e=s(r().m(function e(){var t,n,o;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,ue.value.validate();case 1:if(t=i({},ie),!oe.value){e.n=3;break}if(ie.code){e.n=2;break}return e.a(2,Y.error("请输入验证码"));case 2:t.token=ce.value,delete t.password,e.n=4;break;case 3:delete t.code;case 4:return n=Y.load("绑定堡塔账号，请稍候 ..."),e.p=5,t.username=te(t.username),t.password=te(t.password),e.n=6,E(i({},t));case 6:if(o=e.v,Y.request(o),!o.status){e.n=7;break}return window.location.reload(),re("close"),e.a(2);case 7:if(!Z(o.data)){e.n=8;break}return e.a(2,!1);case 8:if(o.status||"[]"!==JSON.stringify(o.data)){e.n=9;break}return e.a(2,Y.request(o));case 9:-1===o.data.code&&(ce.value=o.data.token,oe.value=!0),e.n=11;break;case 10:e.p=10,e.v;case 11:return e.p=11,n.close(),e.f(11);case 12:return e.a(2)}},e,null,[[5,10,11,12]])}));return function(){return e.apply(this,arguments)}}(),ve=function(e){se.value&&clearInterval(se.value);var t=function(){if(--e<=0)return clearInterval(se.value),ae.value="获取验证码",void(le.code=!1);ae.value="重新获取验证码(".concat(e,"s)")};t(),se.value=setInterval(t,1e3),le.code=!0},be=function(){var e=s(r().m(function e(){var t,n,o,a;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,t=Y.load("正在绑定中......"),e.n=1,P({client:2});case 1:n=e.v,(o=n.data).status||o.success?window.location.href="/":(t.close(),Y.error(o.msg||o.res)),e.n=3;break;case 2:e.p=2,e.v,null===(a=t)||void 0===a||a.close();case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=s(r().m(function e(){var t;return r().w(function(e){for(;;)switch(e.n){case 0:if(ie.username&&ie.password){e.n=1;break}return e.a(2,Y.error("请先输入手机号和密码"));case 1:return le.username=!0,le.password=!0,ve(60),e.n=2,V({username:ie.username,token:ce.value});case 2:t=e.v,Y.request(t);case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ge=l(!1),he=function(){var e=s(r().m(function e(){var t;return r().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,I();case 1:(t=e.v).status?(ge.value=2===t.data.client&&1===t.data.login,2===t.data.client&&1===t.data.login?we(2):we(1)):we(1),e.n=3;break;case 2:e.p=2,e.v,we(1);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),we=function(e){var t;fe.value=e,null!==(t=M.compData)&&void 0!==t&&t.dependencies.onChangeType&&M.compData.dependencies.onChangeType(1===e?"bind":"other")};return C({onOpen:function(){ee(ue.value.$el,"username")},onCancel:function(){ue.value.clearValidate()}}),u(function(){var e;he(),null===(e=ue.value)||void 0===e||e.clearValidate()}),function(r,o){var i,l=D;return d(),f(a($),{ref_key:"bindUserInfo",ref:ue,size:"medium",rules:a(pe),model:a(ie),autocomplete:"off",class:h(["bind-user-info",{"bind-form":!(null===(i=e.compData)||void 0===i||!i.dependencies.title)}])},{default:p(function(){var r,i,c,s,u,D,S,E,P,V,I,C,H;return[m(b("div",null,[y(a(J),{class:"text-center !mb-5 flex justify-center"},{default:p(function(){var r;return[b("div",n,[b("h3",T,g((null===(r=e.compData)||void 0===r?void 0:r.dependencies.title)||"切换宝塔官网账号"),1),y(a(Q),{placement:"top-start",width:"200",trigger:"hover",content:"宝塔面板许多功能都依赖于官网，绑定仅限于为您提供更好的面板服务体验，不涉及您服务器任何敏感信息，请放心使用。",class:"inline-block relative -top-1.5"},{reference:p(function(){return t(o[9]||(o[9]=[b("a",{class:"bt-ico-ask align-middle",href:"javascript:;"},"?",-1)]))}),_:1})])]}),_:1}),(d(),f(a(J),{key:1,prop:"username",class:h({"!mb-[3rem]":!(null===(r=e.compData)||void 0===r||!r.dependencies.title)})},{default:p(function(){var n;return[y(a(R),{modelValue:a(ie).username,"onUpdate:modelValue":o[0]||(o[0]=function(e){return a(ie).username=e}),clearable:"",required:"",name:"username",autocomplete:"off",class:"!leading-[4rem] !h-[4rem]",placeholder:"宝塔官网账号",disabled:a(le).username,onKeyup:o[1]||(o[1]=w(function(e){return me()},["enter"]))},null,8,["modelValue","disabled"]),null!==(n=e.compData)&&void 0!==n&&n.dependencies.title&&a(de)?(d(),k("span",A,[o[11]||(o[11]=b("span",null,"请使用宝塔官网登录账号进行登录，若未有账号，可进行",-1)),y(a(L),{class:"!text-small",href:"https://www.bt.cn/register"},{default:p(function(){return t(o[10]||(o[10]=[x(" 免费注册 ",-1)]))}),_:1})])):_("",!0)]}),_:1},8,["class"])),(d(),f(a(J),{key:2,prop:"password"},{default:p(function(){return[y(a(R),{modelValue:a(ie).password,"onUpdate:modelValue":o[2]||(o[2]=function(e){return a(ie).password=e}),clearable:"",required:"",type:"password",name:"password",class:"!leading-[4rem] !h-[4rem]",autocomplete:"off",placeholder:"密码","show-password":!0,disabled:a(le).password,onKeyup:o[3]||(o[3]=w(function(e){return me()},["enter","native"]))},null,8,["modelValue","disabled"])]}),_:1})),m(y(a(J),{prop:"code"},{default:p(function(){return[y(a(R),{modelValue:a(ie).code,"onUpdate:modelValue":o[4]||(o[4]=function(e){return a(ie).code=e}),clearable:"",autocomplete:"off",placeholder:"验证码",type:"text",onKeyup:o[5]||(o[5]=w(function(e){return me()},["enter","native"]))},{append:p(function(){return[y(a(W),{class:"relative top-0 rounded-none rounded-r-base",type:"primary",size:"default",disabled:a(le).code,plain:"",onClick:ye},{default:p(function(){return[x(g(a(ae)),1)]}),_:1},8,["disabled"])]}),_:1},8,["modelValue"])]}),_:1},512),[[v,a(oe)]]),y(a(W),{type:"primary",class:"w-[100%] mt-[1.2rem]",size:"default",onClick:o[6]||(o[6]=function(e){return me()})},{default:p(function(){var t,n;return[x(g((null===(t=e.compData)||void 0===t?void 0:t.dependencies.btn)||(null!==(n=e.compData)&&void 0!==n&&n.dependencies.title?"绑定账号":"切换账号")),1)]}),_:1}),b("div",z,[y(a(L),{href:"https://www.bt.cn/register"},{default:p(function(){return t(o[12]||(o[12]=[x("注册账号",-1)]))}),_:1}),y(a(N)),y(a(L),{href:"https://www.bt.cn/login.html?page=reset"},{default:p(function(){return t(o[13]||(o[13]=[x("忘记密码",-1)]))}),_:1}),y(a(N)),y(a(L),{href:"https://www.bt.cn/bbs"},{default:p(function(){return t(o[14]||(o[14]=[x("问题反馈",-1)]))}),_:1})])],512),[[v,1===a(fe)]]),m(b("div",null,[null!==(i=e.compData)&&void 0!==i&&i.dependencies.title?_("",!0):(d(),k("div",{key:0,class:"view-con",style:j(null!==(c=e.compData)&&void 0!==c&&c.dependencies.title?"":"background:var(--el-color-white);")},[b("div",{class:"app-box",style:j(null!==(s=e.compData)&&void 0!==s&&s.dependencies.title?"":"background:var(--el-color-white);")},t(o[15]||(o[15]=[b("img",{alt:"",src:O},null,-1)])),4),o[17]||(o[17]=b("div",{class:"change-icon"},[b("svg",{t:"1729493717851",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"19919",width:"200",height:"200"},[b("path",{d:"M914.618182 477.090909H546.909091V109.381818c0-18.618182-16.290909-34.909091-34.909091-34.909091s-34.909091 16.290909-34.909091 34.909091v367.709091H109.381818c-18.618182 0-34.909091 16.290909-34.909091 34.909091s16.290909 34.909091 34.909091 34.909091h367.709091v367.709091c0 18.618182 16.290909 34.909091 34.909091 34.909091s34.909091-16.290909 34.909091-34.909091V546.909091h367.709091c18.618182 0 34.909091-16.290909 34.909091-34.909091s-16.290909-34.909091-34.909091-34.909091z",fill:"var(--el-color-text-tertiary)","p-id":"19920"})])],-1)),b("div",{class:"app-box",style:j(null!==(u=e.compData)&&void 0!==u&&u.dependencies.title?"":"background:var(--el-color-white);")},t(o[16]||(o[16]=[b("div",{class:"ali-icon"},null,-1)])),4)],4)),b("div",{class:h({"bg-light":null===(D=e.compData)||void 0===D?void 0:D.dependencies.title,"rounded-base":null===(S=e.compData)||void 0===S?void 0:S.dependencies.title}),style:j({border:null!==(E=e.compData)&&void 0!==E&&E.dependencies.title?"1px solid #ddd":"none","padding-top":null!==(P=e.compData)&&void 0!==P&&P.dependencies.title?"2rem":"0"})},[null!==(V=e.compData)&&void 0!==V&&V.dependencies.title?(d(),k("div",q,t(o[18]||(o[18]=[b("div",{class:"app-box",style:{background:"var(--el-color-white)"}},[b("img",{alt:"",src:O})],-1),b("div",{class:"change-icon"},[b("svg",{t:"1729493717851",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"19919",width:"200",height:"200"},[b("path",{d:"M914.618182 477.090909H546.909091V109.381818c0-18.618182-16.290909-34.909091-34.909091-34.909091s-34.909091 16.290909-34.909091 34.909091v367.709091H109.381818c-18.618182 0-34.909091 16.290909-34.909091 34.909091s16.290909 34.909091 34.909091 34.909091h367.709091v367.709091c0 18.618182 16.290909 34.909091 34.909091 34.909091s34.909091-16.290909 34.909091-34.909091V546.909091h367.709091c18.618182 0 34.909091-16.290909 34.909091-34.909091s-16.290909-34.909091-34.909091-34.909091z",fill:"var(--el-color-text-tertiary)","p-id":"19920"})])],-1),b("div",{class:"app-box",style:{background:"var(--el-color-white)"}},[b("div",{class:"ali-icon"})],-1)])))):_("",!0),y(a(J),{class:h(["!mb-5 flex justify-center",{"p-[2.5rem]":null===(I=e.compData)||void 0===I?void 0:I.dependencies.title,"!pt-0":null===(C=e.compData)||void 0===C?void 0:C.dependencies.title}])},{default:p(function(){return[y(l),o[19]||(o[19]=b("h3",{class:"text-base w-full text-secondary inline-block font-bold"},"阿里云用户专享特权：",-1)),o[20]||(o[20]=b("h3",{class:"text-small leading-[1] w-full text-tertiary inline-block mt-[1rem] flex items-center"},[b("span",{class:"svgtofont-el-check text-primaryDark font-bold mr-[.5rem]"}),x(" 免费使用原本需要付费的功能： ")],-1)),o[21]||(o[21]=b("h3",{class:"text-small leading-[1] w-full text-tertiary inline-block mt-[1rem] ml-[1.9rem] flex items-center"},[b("img",{src:"/static/img/soft_ico/ico-msg_push.png",class:"w-[2rem] mr-[1rem]"}),x(" 异常监控推送 ")],-1)),o[22]||(o[22]=b("h3",{class:"text-small leading-[1] w-full text-tertiary inline-block mt-[1.5rem] flex items-center"},[b("span",{class:"svgtofont-el-check text-primaryDark font-bold mr-[.5rem]"}),x(" 宝塔官方付费软件均享额外折扣 ")],-1))]}),_:1},8,["class"]),y(a(W),{type:"primary",class:"w-[85%] mt-[4rem] relative left-[7.5%]",style:{margin:"1rem auto 0"},size:"default",onClick:be},{default:p(function(){return t(o[23]||(o[23]=[x("一键激活专享特权",-1)]))}),_:1}),b("div",B,[b("span",{class:"cursor-pointer hover:text-primaryDark",onClick:o[7]||(o[7]=function(e){return we(1)})},"已有宝塔账号登录")]),null!==(H=e.compData)&&void 0!==H&&H.dependencies.title?(d(),k("div",G)):_("",!0)],6)],512),[[v,2===a(fe)]]),1===a(fe)&&a(ge)?(d(),k("div",F,[o[25]||(o[25]=b("div",{class:"more-title"},[b("span",null,"更多绑定方式")],-1)),b("div",U,[m(b("div",{class:"bind-box",onClick:o[8]||(o[8]=function(e){return we(2)})},t(o[24]||(o[24]=[b("i",{class:"tencent_ico"},null,-1),x(" 阿里云账号 ",-1)])),512),[[v,1===a(fe)]])])])):_("",!0)]}),_:1},8,["rules","model","class"])}}});e("default",C(H,[["__scopeId","data-v-5bb3719d"]]))}}})}();
