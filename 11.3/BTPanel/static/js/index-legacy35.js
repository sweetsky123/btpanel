!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function r(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function o(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",u=n.toStringTag||"@@toStringTag";function c(n,r,o,u){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return a(l,"_invoke",function(n,r,o){var a,u,c,s=0,l=o||[],f=!1,p={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,n){return a=t,u=0,c=e,p.n=n,i}};function m(n,r){for(u=n,c=r,t=0;!f&&s&&!o&&t<l.length;t++){var o,a=l[t],m=p.p,d=a[2];n>3?(o=d===r)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=n<2&&m<a[1])?(u=0,p.v=r,p.n=a[1]):m<d&&(o=n<3||a[0]>r||r>d)&&(a[4]=n,a[5]=r,p.n=d,u=0))}if(o||n>1)return i;throw f=!0,r}return function(o,l,d){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,d),u=l,c=d;(t=u<2?e:c)||!f;){a||(u?u<3?(u>1&&(p.n=-1),m(u,c)):p.n=c:p.v=c);try{if(s=2,a){if(u||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=a.return)&&t.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=e}else if((t=(f=p.n<0)?c:n.call(r,p))!==i)break}catch(t){a=e,u=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,u),!0),l}var i={};function s(){}function l(){}function f(){}t=Object.getPrototypeOf;var p=[][r]?t(t([][r]())):(a(t={},r,function(){return this}),t),m=f.prototype=s.prototype=Object.create(p);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,u,"GeneratorFunction")),e.prototype=Object.create(m),e}return l.prototype=f,a(m,"constructor",f),a(f,"constructor",l),l.displayName="GeneratorFunction",a(f,u,"GeneratorFunction"),a(m),a(m,u,"Generator"),a(m,r,function(){return this}),a(m,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m:d}})()}function a(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,t,n,r){function u(t,n){a(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(u("next",0),u("throw",1),u("return",2))},a(e,t,n,r)}function u(e,t,n,r,o,a,u){try{var c=e[a](u),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function c(e){u(a,r,o,c,i,"next",e)}function i(e){u(a,r,o,c,i,"throw",e)}c(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./index-legacy119.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./form-item-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792","./index-legacy123.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792","./ace-legacy.js?v=1763689792","./index-legacy110.js?v=1763689792","./column-legacy.js?v=1763689792","./index-legacy107.js?v=1763689792"],function(e,n){"use strict";var a,u,i,s,l,f,p,m,d,v,y,g,h,b,k,_,x,w,C,S,j,D,q,P,T,V,O,U,N,H,F,J,A,I,z,B,E,G,M,R,L,$,K,Q,W,X,Y,Z,ee,te,ne,re,oe,ae,ue,ce,ie,se,le,fe,pe;return{setters:[function(e){a=e.aQ,u=e.Q,i=e.cC,s=e.p,l=e.cD,f=e.M,p=e.n,m=e.cE,d=e.cF,v=e.cG,y=e.H,g=e.cH,h=e.cI,b=e.L,k=e.cJ,_=e.cK,x=e.cL,w=e.U,C=e.F,S=e.ay,j=e.x,D=e.e,q=e.j,P=e._},function(e){T=e.B},function(e){V=e.r,O=e.c,U=e.aE,N=e.v,H=e.a8,F=e.g,J=e.bq,A=e.I,I=e.J,z=e.z,B=e.x,E=e.y,G=e.A,M=e.e,R=e.F,L=e.b1,$=e.C,K=e.R,Q=e.D,W=e.H,X=e.ap,Y=e.U,Z=e.B,ee=e.O,te=e.P,ne=e.G},function(e){re=e.h,oe=e.c,ae=e.b,ue=e.f,ce=e.F,ie=e.d,se=e.g,le=e.i},function(e){fe=e.m},function(e){pe=e._},null,null,null,null,null],execute:function(){var me=a(),de=me.refs,ve=de.settingData,ye=de.loading,ge=me.getSet,he=me.getDockerState,be=V(!1),ke=V(""),_e=V({}),xe=[{name:"主机名",key:"Name"},{name:"系统版本",key:"OperatingSystem"},{name:"架构",key:"Architecture"},{name:"内核版本",key:"KernelVersion"},{name:"CPU核心",key:"NCPU"},{name:"内存大小",key:"MemTotal"},{name:"Docker版本",key:"ServerVersion"},{name:"docker-compose版本",key:"DockerComposeVersion",append:O({name:"UpdateButton",setup:function(){return function(){return U("span",{class:"bt-link ml-[1rem]",onClick:(e=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s({title:"更新docker-compose版本",content:"是否更新docker-compose版本？"});case 1:u({request:l(),loading:"正在更新docker-compose版本,请稍后...",success:function(e){e.status?p({title:"更新日志",area:56,btns:!1,component:O({setup:function(){var e=null,t=V(""),n=J(),r=function(r,o){try{var a,u=o.data;t.value+=u,(u.includes("bt_successful")||u.includes("bt_failed"))&&(null===(a=e)||void 0===a||a.close(),n("close"),he())}catch(i){var c;null===(c=e)||void 0===c||c.close()}};return N(function(){var t;null===(t=e=S({route:"/sock_shell",onMessage:r}))||void 0===t||t.send("tail -f /tmp/update_dk-compose.log")}),H(function(){var t;null===(t=e)||void 0===t||t.close()}),function(){return U("div",{class:"overflow-y-auto"},U(pe,{class:"!h-[40rem]",content:t.value,isHtml:!0}))}}})}):f.error(e.msg)}});case 2:return e.a(2)}},e)})),function(){return e.apply(this,arguments)})},"更新");var e}}})},{name:"unix地址",key:"DockerUnixSocket"},{name:"数据目录",key:"DockerRootDir"}],we=function(e){switch(e){case"MemTotal":return j(_e.value.MemTotal);case"DockerUnixSocket":return ve.value.socket;case"DockerComposeVersion":return ve.value.docker_compose_version;default:return _e.value[e]}},Ce=function(){u({request:i({data:JSON.stringify({daemon_json:ke.value})}),message:!0,success:function(e){e.status&&(be.value=!1)}})},Se=function(){var e=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!!(!ve.value.service_status&&"toggle"===t)){e.n=1;break}return e.n=1,s({title:"".concat("reset"===t?"重启":"关闭","Docker服务"),content:"是否".concat("reset"===t?"重启":"关闭","Docker服务？")});case 1:if(ye.value=!0,"reset"!==t){e.n=3;break}return e.n=2,m({data:JSON.stringify({act:"restart"})});case 2:window.location.reload(),e.n=4;break;case 3:u({request:m({data:JSON.stringify({act:ve.value.service_status?"stop":"start"})}),message:!0,success:function(e){e.status&&window.location.reload()}});case 4:e.n=6;break;case 5:e.p=5,e.v;case 6:return e.p=6,ye.value=!1,e.f(6);case 7:return e.a(2)}},e,null,[[0,5,6,7]])}));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,s({title:"修复docker模块",content:"修复docker可能会导致容器异常，修复大约5分钟，是否继续修复？"});case 1:u({request:d(),message:!0,success:function(e){e.status&&fe()}}),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),De=function(){var e=c(o().m(function e(){var t;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,v();case 1:t=e.v,p({component:function(){return y(function(){return n.import("./index-legacy272.js?v=1763689792")},void 0,n.meta.url)},compData:{needForce:!t.status,msg:t.msg},title:"卸载Docker",btn:"确定",area:45}),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:ve.value.monitor_status=t,u({request:g({data:JSON.stringify({act:t?"start":"stop"})}),message:!0,success:ge});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=c(o().m(function e(t){var n;return o().w(function(e){for(;;)switch(e.n){case 0:n=t,e.n="date"===n?1:2;break;case 1:return u({request:h({data:JSON.stringify({save_date:ve.value.monitor_save_date})}),message:!0,success:ge()}),e.a(3,2);case 2:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:p({component:function(){return y(function(){return n.import("./index-legacy273.js?v=1763689792")},void 0,n.meta.url)},title:"设置加速URL",area:64,btn:!0,compData:{url:t}});case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:p({component:function(){return y(function(){return n.import("./index-legacy274.js?v=1763689792")},void 0,n.meta.url)},title:"设置Compose路径",area:45,btn:!0});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!t){e.n=1;break}return Ue(),e.a(2);case 1:return e.n=2,s({icon:"question-filled",title:t?"开启日志切割":"关闭日志切割",content:"".concat(t?"开启":"关闭","日志切割后需要重启docker，请确保可以重启docker再操作。是否继续？")});case 2:return e.n=3,u({loading:"正在设置日志切割,请稍后...",request:k({log_cutting:t?JSON.stringify({"max-file":ve.value.log_cutting.file,"max-size":"".concat(ve.value.log_cutting.size,"m")}):JSON.stringify({})}),message:!0,success:he,error:function(){ve.value.log_cutting.status=!t}});case 3:e.n=5;break;case 4:e.p=4,e.v,ve.value.log_cutting.status=!t;case 5:return e.a(2)}},e,null,[[0,4]])}));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e,t=b({data:function(){return{"max-file":Number(ve.value.log_cutting.file)||1,"max-size":Number(ve.value.log_cutting.size)||10}},options:function(){return F(function(){return[ae("文件大小","max-size",{attrs:{placeholder:"文件大小",style:"width:27rem;"},slots:{unit:function(){return U("div",{class:"inline-block w-[3rem] text-tertiary mt-[2px] leading-[2rem] text-small ml-[20px]"},"MB")}},rules:[{required:!0,message:"请输入文件大小",trigger:"blur"},{validator:function(e,t,n){t&&/^\d+$/.test(t)?n():n(new Error("请输入正整数"))}}]}),ae("保留份数","max-file",{attrs:{placeholder:"保留份数",style:"width:27rem;"},slots:{unit:function(){return U("div",{class:"inline-block w-[3rem] text-tertiary mt-[2px] leading-[2rem] text-small ml-[20px]"},"份")}},rules:[{required:!0,message:"请输入保留份数",trigger:"blur"},{validator:function(e,t,n){t&&/^\d+$/.test(t)?n():n(new Error("请输入正整数"))}}]}),ue("",[{content:"当前配置只会影响新创建的容器,已经创建的容器需要重新创建使配置生效"},{content:"如果你的容器中有重要数据，确保在执行重建操作之前进行备份"}])]})},submit:(e=c(o().m(function e(t,n){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,n();case 1:return e.n=2,u({request:k({log_cutting:JSON.stringify({"max-file":t.value["max-file"],"max-size":"".concat(t.value["max-size"],"m")})}),message:!0,loading:"正在设置日志切割,请稍后..."});case 2:if(!e.v.status){e.n=3;break}return he(),e.a(2,!0);case 3:return e.a(2,!1);case 4:return e.p=4,e.v,e.a(2,!1)}},e,null,[[0,4]])})),function(t,n){return e.apply(this,arguments)})}),n=t.BtForm,r=t.submit;return p({component:function(){return U("div",{class:"p-[1.6rem]"},U(n))},title:"设置日志切割",area:45,btn:!0,onConfirm:r,onCancel:function(){he()}})},Ne=function(){var e=c(o().m(function e(t,n){var a,c;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:e.p=0,a="",c=t,e.n="iptables"===c?1:"live_restore"===c?2:3;break;case 1:return a="iptables",e.a(3,3);case 2:return a="live_restore",e.a(3,3);case 3:return e.n=4,s({icon:"question-filled",title:n?"开启".concat(a):"关闭".concat(a),content:"".concat(n?"开启":"关闭").concat(a,"后需要重启docker，请确保可以重启docker再操作。是否继续？")});case 4:return e.n=5,u({loading:"正在设置".concat(a,",请稍后..."),request:k(r({},t,n?1:0)),message:!0,success:he,error:function(){ve.value[t]=!n}});case 5:e.n=7;break;case 6:e.p=6,e.v,ve.value[t]=!n;case 7:return e.a(2)}},e,null,[[0,6]])}));return function(t,n){return e.apply(this,arguments)}}(),He=function(){var e=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,s({icon:"question-filled",title:"设置cgroup driver",content:"设置cgroup driver后需要重启docker，请确保可以重启docker再操作。是否继续？"});case 1:return e.n=2,u({loading:"正在设置cgroup driver,请稍后...",request:k({driver:t}),message:!0,success:he});case 2:e.n=4;break;case 3:e.p=3,e.v,he();case 4:return e.a(2)}},e,null,[[0,3]])}));return function(t){return e.apply(this,arguments)}}(),Fe=function(){return p({component:function(){return y(function(){return n.import("./index-legacy275.js?v=1763689792")},void 0,n.meta.url)},title:"ipv6设置",btn:"确定",area:60})},Je=function(){var e=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,s({icon:"question-filled",title:t?"开启IPV6":"关闭IPV6",content:"".concat(t?"开启":"关闭","IPV6后需要重启docker，请确保可以重启docker再操作。是否继续？")});case 1:return e.n=2,u({loading:"正在设置IPV6,请稍后...",request:k({status:t?1:0}),message:!0,success:he,error:function(){ve.value.ipv6=!t}});case 2:e.n=4;break;case 3:e.p=3,e.v,ve.value.ipv6=!t;case 4:return e.a(2)}},e,null,[[0,3]])}));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=c(o().m(function e(t){var n,r,a;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!1===t){e.n=1;break}return n=b({data:function(){return{http_proxy:ve.value.proxy.http_proxy||"http://",https_proxy:ve.value.proxy.https_proxy||"https://",no_proxy:ve.value.proxy.no_proxy||"localhost,127.0.0.1"}},options:function(e){return F(function(){return[ae("HTTP代理","http_proxy",{attrs:{placeholder:"请输入HTTP代理地址",style:"width:32rem",onInput:function(t){var n=t.replace(/^http:\/\//,"");e.value.https_proxy="https://".concat(n)}},rules:[{required:!0,message:"请输入HTTP代理地址",trigger:"blur"},{pattern:/^http:\/\/.+/,message:"HTTP代理必须以http://开头",trigger:"blur"}]}),ae("HTTPS代理","https_proxy",{attrs:{placeholder:"请输入HTTPS代理地址",style:"width:32rem"},rules:[{required:!0,message:"请输入HTTPS代理地址",trigger:"blur"},{pattern:/^https?:\/\/.+/,message:"HTTPS代理必须以http://或https://开头",trigger:"blur"}]}),ae("不代理的地址","no_proxy",{attrs:{placeholder:"请输入无需代理的地址,多个地址用逗号分隔",style:"width:32rem"}}),ce(function(){return U("span",{class:"text-tertiary mt-[2px] leading-[2rem] text-small ml-[20px]"},"*设置代理后需要重启Docker服务才能生效")}),ce(function(){return U("div",{class:"text-tertiary mt-[2px] leading-[2rem] text-small ml-[20px]"},"*http示例：http://127.0.0.1:8888")}),ce(function(){return U("div",{class:"text-tertiary mt-[2px] leading-[2rem] text-small ml-[20px]"},"*https示例：https://127.0.0.1:8888")})]})},submit:function(){var e=c(o().m(function e(t,n){var r,a;return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,n();case 1:return e.n=2,s({icon:"question-filled",title:"设置Docker代理",content:"设置代理后需要重启docker，请确保可以重启docker再操作。是否继续？"});case 2:return r={http_proxy:t.value.http_proxy,https_proxy:t.value.https_proxy,no_proxy:t.value.no_proxy},e.n=3,u({loading:"正在设置Docker代理,请稍后...",request:k({proxy_settings:JSON.stringify(r)}),message:!0,success:he});case 3:return a=e.v,e.a(2,a.status);case 4:return e.p=4,e.v,e.a(2,!1)}},e,null,[[0,4]])}));return function(t,n){return e.apply(this,arguments)}}()}),r=n.BtForm,a=n.submit,e.a(2,p({component:function(){return U("div",{class:"p-2rem"},U(r))},title:"Docker代理设置",area:50,btn:"确定",onConfirm:a,onCancel:function(){he()}}));case 1:return e.p=1,e.n=2,s({icon:"question-filled",title:"关闭Docker代理",content:"是否关闭Docker代理？"});case 2:return e.n=3,u({loading:"正在关闭Docker代理？,请稍后...",request:k({proxy_settings:JSON.stringify({})}),message:!0,success:he,error:function(){he()}});case 3:e.n=5;break;case 4:e.p=4,e.v,ve.value.proxy.status=!t;case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}(),Ie=function(e){return re("",function(){return U("span",{class:"text-tertiary mt-[2px] leading-[2rem] text-small ml-[20px]"},"".concat(e))})},ze=function(){ge(!1),u({request:_(),success:function(e){_e.value=e.data}})},Be=function(){var e=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,t&&"string"==typeof t&&/^\/.+/.test(t)){e.n=1;break}return f.error("请输入有效的目录路径！"),e.a(2);case 1:return e.n=2,s({title:"设置应用商店目录",content:"修改应用商店目录将会重启面板，是否继续？"});case 2:return e.n=3,u({request:x({path:t}),loading:"正在设置应用商店目录,请稍后...",success:function(e){e.status||f.error(e.msg)}});case 3:return e.n=4,u({loading:"正在重启面板，请稍候...",request:w(),message:!0,success:function(e){e.status&&setTimeout(function(){C(),window.location.reload()},1e3)}});case 4:e.n=6;break;case 5:return e.p=5,e.v,e.a(2,!1);case 6:return e.a(2)}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),Ee={class:"module-ui mb-16px !mt-0",shadow:"never",header:"全局设置","body-style":{padding:0,display:"flex",minHeight:"5.2rem"}},Ge={class:"module-ui mb-16px",shadow:"never",header:"系统信息","body-style":{padding:0,display:"flex",minHeight:"5.2rem"}},Me={class:"leading-[3.2rem]"},Re={key:0},Le={class:"h-[50rem] p-2rem"},$e=O({__name:"index",setup:function(e){var n=a().refs,r=n.settingData,i=n.loading,l=F(function(){return!r.value.docker_installed||!r.value.docker_compose_installed}),f=b({data:function(){return r.value},options:function(e){return F(function(){return[re("服务状态",function(){return M("div",null,[l.value?M("span",null,[Q("当前状态：未安装")]):M("span",{class:"flex items-center text-small"},[Q("当前状态："),r.value.service_status?"开启":"停止",M("span",{class:r.value.service_status?"svgtofont-icon-start text-primary":"svgtofont-icon-stop text-danger"},null),M(W,{class:"!ml-[2rem]",onClick:function(){return Se("toggle")}},{default:function(){return[r.value.service_status?"停止":"开启"]}}),M(W,{onClick:function(){return Se("reset")}},{default:function(){return[Q("重启")]}}),!r.value.service_status&&M(W,{onClick:je},{default:function(){return[Q("修复")]}})])])})].concat(t(r.value.monitor_status?[ie([re("容器监控",function(){return M(X,{modelValue:r.value.monitor_status,"onUpdate:modelValue":function(e){return r.value.monitor_status=e},onChange:qe},null)},"monitor_status"),Ie("*设置容器页面监控开关,关闭后CPU使用率将不再监控")]),ie([ae("监控天数","monitor_save_date",{attrs:{class:"!w-[32rem]",placeholder:"请输入保存天数"}}),se("保存",{attrs:{class:"!ml-4px",type:"primary",onClick:function(){return Pe("date")}}}),Ie("*设置容器页面监控保存天数")])]:[]),[ie([ae("加速URL","url",{attrs:{class:"!w-[32rem]",placeholder:"加速URL",disabled:!0}}),se("修改",{attrs:{class:"!ml-4px",type:"primary",onClick:function(){return Te(e.value.url)}}}),ce(function(){return M(D,{class:"mx-[2rem] text-primary cursor-pointer leading-[3.2rem] mb-[1.8rem]",target:"_blank",href:"https://www.bt.cn/bbs/thread-134771-1-1.html"},{default:function(){return[Q(">>帮助")]}})})].concat(t(r.value.bad_registry?[Ie("*提示：检测到您上次拉取镜像出现异常，请尝试更换推荐的加速站: ".concat(r.value.bad_registry_path))]:[]))),ie([ae("docker compose","docker_compose_path",{attrs:{class:"!w-[32rem]",placeholder:"docker compose路径",disabled:!0}}),se("修改",{attrs:{class:"!ml-4px",type:"primary",onClick:Ve}}),Ie("*docker compose路径")]),ie([oe("私有仓库","warehouse",{attrs:{class:"!w-[32rem]",disabled:!0,rows:4,autosize:{minRows:4,maxRows:4},placeholder:"Docker私有仓库地址"}}),se("修改",{attrs:{class:"!ml-4px self-end",type:"primary",onClick:function(){return function(e){var t,n=b({data:function(){return{warehouse:e.replaceAll(/,/g,"\n")}},options:function(){return F(function(){return[oe("私有仓库","warehouse",{attrs:{placeholder:"请输入私有仓库地址,一行一个,如:\n192.168.1.111:8087\n192.168.1.112:8087",style:"width:27rem;",rows:5},rules:[]}),Ie("*设置后将重启Docker")]})},submit:(t=c(o().m(function e(t,n){return o().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,n();case 1:return e.n=2,s({title:"提示",content:"即将重启Docker，是否继续？"});case 2:return e.n=3,u({request:k({warehouse:t.value.warehouse.replace(/ /g,"").replaceAll(/\n/g,",")}),message:!0,loading:"正在设置私有仓库,请稍后..."});case 3:if(!e.v.status){e.n=4;break}return he(),e.a(2,!0);case 4:return e.a(2,!1);case 5:return e.p=5,e.v,e.a(2,!1)}},e,null,[[0,5]])})),function(e,n){return t.apply(this,arguments)})}),r=n.BtForm,a=n.submit;p({component:function(){return U("div",{class:"p-[1.6rem]"},U(r))},title:"设置私有仓库",area:45,btn:!0,onConfirm:a})}(e.value.warehouse)}}})]),ie([re("日志切割",function(){return M(X,{modelValue:r.value.log_cutting.status,"onUpdate:modelValue":function(e){return r.value.log_cutting.status=e},onChange:Oe},null)},"log_cutting",{onClick:function(e){return e.preventDefault()}}),se("设置",{attrs:{class:"!ml-[1rem]",type:"primary",onClick:function(){return Ue()}}}),re("",function(){return U("span",{class:"text-tertiary mt-[2px] leading-[2rem] text-small ml-[20px]"},"*切割文件大小".concat(r.value.log_cutting.size,"MB，保留份数").concat(r.value.log_cutting.file,"份"))})]),ie([re("ipv6",function(){return M(X,{modelValue:r.value.ipv6,"onUpdate:modelValue":function(e){return r.value.ipv6=e},onChange:Je},null)},"ipv6",{onClick:function(e){return e.preventDefault()}}),se("ipv6地址配置",{attrs:{class:"!ml-[1rem]",type:"primary",onClick:Fe}}),Ie("*此ipv6范围将会在默认的bridge网络中使用，启用或关闭ipv6后需要重启docker，请确保可以重启docker再操作")]),ie([re("iptables",function(){return M(X,{modelValue:r.value.iptables,"onUpdate:modelValue":function(e){return r.value.iptables=e},onChange:function(e){return Ne("iptables",e)}},null)},"iptables",{onClick:function(e){return e.preventDefault()}}),Ie("*Docker 对 iptables 规则的自动配置")]),ie([re("live_restore",function(){return M(X,{modelValue:r.value.live_restore,"onUpdate:modelValue":function(e){return r.value.live_restore=e},onChange:function(e){return Ne("live_restore",e)}},null)},"live_restore",{onClick:function(e){return e.preventDefault()}}),Ie("*开启后Docker守护进程发生意外停机或崩溃时保留正在运行的容器状态")]),ie([le("cgroup driver","driver",[{label:"cgroupfs",value:"cgroupfs"},{label:"systemd",value:"systemd"}],{attrs:{onChange:function(e){return He(e)}}})]),re("配置文件",function(){return M(W,{type:"primary",title:"全局配置文件",onClick:function(){return be.value=!0}},{default:function(){return[Q("打开配置文件")]}})}),re("Docker代理",function(){return M("div",null,[M(X,{class:"mr-[1rem]",modelValue:r.value.proxy.status,"onUpdate:modelValue":function(e){return r.value.proxy.status=e},onChange:Ae},null),M(W,{type:"primary",onClick:Ae},{default:function(){return[Q("设置代理")]}})])},"customProxy",{onClick:function(e){return e.preventDefault()}}),re("应用商店目录",function(){return M("div",{class:"flex items-center"},[M(Y,{modelValue:r.value.dk_project_path,"onUpdate:modelValue":function(e){return r.value.dk_project_path=e},disabled:!r.value.allow_update_install_path,style:"width: 32rem",placeholder:"请输入目录"},null),M(W,{type:"primary",class:"ml-4px",disabled:!r.value.allow_update_install_path,onClick:function(){Be(r.value.dk_project_path)}},{default:function(){return[Q("修改")]}}),r.value.allow_update_install_path?null:M("span",{class:"ml-[1.6rem] text-red-500 text-small"},[Q("当前已有应用存在，无法修改")])])},"dk_project_path"),re("卸载Docker",function(){return M(W,{type:"default",onClick:De},{default:function(){return[Q("卸载")]}})})])})}}),m=f.BtForm;return N(function(){ze()}),H(function(){be.value=!1,ke.value="",_e.value={}}),function(e,t){var n=T,o=q,a=A("bt-loading");return I((B(),E("div",null,[G("div",Ee,[M(z(m),{"label-position":"right",labelWidth:"9.6rem"})]),G("div",Ge,[G("div",Me,[(B(!0),E(R,null,L(z(xe),function(e){return B(),E("div",{key:e.key,class:"line text-small !leading-[3.2rem]"},[G("div",null,Z(e.name),1),G("div",null,Z(z(we)(e.key)),1),e.append?(B(),E("div",Re,[(B(),ee(te(e.append)))])):ne("",!0)])}),128))])]),M(o,{title:"全局配置文件",modelValue:z(be),"onUpdate:modelValue":t[1]||(t[1]=function(e){return K(be)?be.value=e:null}),showFooter:"",area:64,onConfirm:z(Ce)},{default:$(function(){return[G("div",Le,[M(n,{modelValue:z(ke),"onUpdate:modelValue":t[0]||(t[0]=function(e){return K(ke)?ke.value=e:null}),filePath:z(r).daemon_path,autoSave:!1,editorOption:{mode:"ace/mode/nginx"}},null,8,["modelValue","filePath"])])]}),_:1},8,["modelValue","onConfirm"])])),[[a,z(i)],[a,"正在获取docker设置，请稍候...","title"]])}}});e("default",P($e,[["__scopeId","data-v-4d49196b"]]))}}})}();
