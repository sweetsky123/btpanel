import{u as e,b3 as s,an as t,ao as l,H as a,ap as i,_ as o}from"./utils-lib.js?v=1763689792";import{_ as r}from"./index109.js?v=1763689792";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1763689792";import{B as p}from"./index138.js?v=1763689792";import{c,s as m,r as u,w as _,e as d,D as f,v as x,n as v,x as h,y,z as b,C as k,A as j,G as C,O as g}from"./base-lib.js?v=1763689792";import{a as B,g as I,u as R}from"./column.js?v=1763689792";import{c as w,e as S,f as T,g as P,u as A}from"./useController6.js?v=1763689792";import{S as E}from"./useStore4.js?v=1763689792";import{S as L,o as O,a as q,b as D,g as H,d as V,c as W,e as z,m as F,r as G}from"./useController14.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index137.js?v=1763689792";import"./index110.js?v=1763689792";import"./validator.js?v=1763689792";import"./index107.js?v=1763689792";import"./index.vue_vue_type_style_index_0_scoped_cdc7f4d3_lang.js?v=1763689792";import"./site.js?v=1763689792";const J={key:0,class:"flex items-center"},K={key:1,class:"flex items-center"},M=o(c({__name:"index",setup(o){e();const{getSiteList:c}=E(),{activeType:M,isRefreshList:N}=m(E()),{proxyType:Q}=m(L()),U=u({});_(T,e=>{(null==e?void 0:e.pluginInfo)&&(U.value=e.pluginInfo)},{immediate:!0,deep:!0});const{BtOperation:X}=s({options:[{type:"button",label:"添加反代",active:!0,onClick:D},{type:"custom",render:()=>d(p,{class:"ml-1rem",isRequest:!1,pluginInfo:U.value},null)}]}),Y=i([A(),{label:"删除项目",value:"delete",event:async(e,s,t,l,a)=>{F(t.value,a)}}]),{BtTable:Z,BtSearch:$,BtRefresh:ee,BtPage:se,BtColumn:te,BtBatch:le,refresh:ae}=t({request:c,columns:[B(),w({label:"域名",type:M.value,openPlugin:O,onClick:e=>{q(e)}}),{label:"代理地址",prop:"proxy_pass",minWidth:220,isCustom:!0,render:e=>d("span",{class:"flex justify-start whitespace-pre-line bt-link cursor-pointer"},[d("span",{class:"full-path",onClick:()=>{q(e,"urlProxy")}},[e.proxy_pass])])},I({table:"sites",width:200}),S({onClick:e=>q(e,"ssl")}),R([{onClick:e=>O(e,"monitor"),title:"统计"},{onClick:e=>O(e,"bt_waf"),title:"WAF"},{title:"设置",onClick:e=>q(e)},{title:"删除",onClick:e=>V(e)}])],extension:[Y,l(N)],empty:()=>d("span",null,[f("您的列表为空，您可以"),d("span",{class:"bt-link",onClick:D},[f("添加一个项目")])])}),{BtTable:ie,refresh:oe,BtRefresh:re,BtColumn:ne,BtSearch:pe}=t({request:H,columns:[{label:"端口",prop:"listen_port",width:120},{label:"协议",prop:"protocol",isCustom:!0,width:80},{label:"目标",prop:"proxy_pass"},{label:"备注",prop:"ps"},R([{onClick:W,title:"设置"},{onClick:e=>z(e,oe),title:"删除"}])],extension:[l(N)]});return _(()=>G.value,e=>{e&&(oe(),"tcp"!==Q.value&&(Q.value="tcp"),G.value=!1)}),x(()=>{v(()=>{a(()=>import("./index376.js?v=1763689792"),__vite__mapDeps([]),import.meta.url),a(()=>import("./index377.js?v=1763689792"),__vite__mapDeps([]),import.meta.url)})}),(e,s)=>{const t=r;return h(),y("div",null,[d(n,{ref_key:"envRef",ref:T,onInit:b(ae)},null,8,["onInit"]),d(t,null,{"header-left":k(()=>[d(b(X)),j("div",{class:"flex items-center ml-1rem",onClick:s[0]||(s[0]=(...e)=>b(P)&&b(P)(...e))},[...s[1]||(s[1]=[j("i",{class:"svgtofont-desired text-medium"},null,-1),j("span",{class:"bt-link"},"需求反馈",-1)])])]),"header-right":k(()=>[s[2]||(s[2]=j("div",{class:"flex items-center mr-[10px]"},null,-1)),"http"===b(Q)?(h(),y("div",J,[d(b($),{class:"mr-[10px]",placeholder:"请输入域名或备注"}),d(b(ee),{class:"mr-[10px]"}),d(b(te))])):C("",!0),"tcp"===b(Q)?(h(),y("div",K,[d(b(pe),{class:"mr-[10px]",placeholder:"请输入端口"}),d(b(re),{class:"mr-[10px]"}),d(b(ne))])):C("",!0)]),content:k(()=>["http"===b(Q)?(h(),g(b(Z),{key:0})):(h(),g(b(ie),{key:1}))]),"footer-left":k(()=>["http"===b(Q)?(h(),g(b(le),{key:0})):C("",!0)]),"footer-right":k(()=>["http"===b(Q)?(h(),g(b(se),{key:0})):C("",!0)]),_:1})])}}}),[["__scopeId","data-v-a259bc00"]]);export{M as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
