!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach(function(n){a(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function a(n,t,r){return(t=function(n){var t=function(n,t){if("object"!=e(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var o=r.call(n,t||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==e(t)?t:t+""}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var u=r&&r.prototype instanceof c?r:c,s=Object.create(u.prototype);return i(s,"_invoke",function(t,r,o){var a,u,i,c=0,s=o||[],p=!1,f={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(n,t){return a=n,u=0,i=e,f.n=t,l}};function m(t,r){for(u=t,i=r,n=0;!p&&c&&!o&&n<s.length;n++){var o,a=s[n],m=f.p,d=a[2];t>3?(o=d===r)&&(i=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=e):a[0]<=m&&((o=t<2&&m<a[1])?(u=0,f.v=r,f.n=a[1]):m<d&&(o=t<3||a[0]>r||r>d)&&(a[4]=t,a[5]=r,f.n=d,u=0))}if(o||t>1)return l;throw p=!0,r}return function(o,s,d){if(c>1)throw TypeError("Generator is already running");for(p&&1===s&&m(s,d),u=s,i=d;(n=u<2?e:i)||!p;){a||(u?u<3?(u>1&&(f.n=-1),m(u,i)):f.n=i:f.v=i);try{if(c=2,a){if(u||(o="next"),n=a[o]){if(!(n=n.call(a,i)))throw TypeError("iterator result is not an object");if(!n.done)return n;i=n.value,u<2&&(u=0)}else 1===u&&(n=a.return)&&n.call(a),u<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=e}else if((n=(p=f.n<0)?i:t.call(r,f))!==l)break}catch(n){a=e,u=1,i=n}finally{c=1}}return{value:n,done:p}}}(t,o,a),!0),s}var l={};function c(){}function s(){}function p(){}n=Object.getPrototypeOf;var f=[][r]?n(n([][r]())):(i(n={},r,function(){return this}),n),m=p.prototype=c.prototype=Object.create(f);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,i(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e}return s.prototype=p,i(m,"constructor",p),i(p,"constructor",s),s.displayName="GeneratorFunction",i(p,o,"GeneratorFunction"),i(m),i(m,o,"Generator"),i(m,r,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),(u=function(){return{w:a,m:d}})()}function i(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,n,t,r){function a(n,t){i(e,n,function(e){return this._invoke(n,t,e)})}n?o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(a("next",0),a("throw",1),a("return",2))},i(e,n,t,r)}function l(e,n,t,r,o,a,u){try{var i=e[a](u),l=i.value}catch(e){return void t(e)}i.done?n(l):Promise.resolve(l).then(r,o)}function c(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function u(e){l(a,r,o,u,i,"next",e)}function i(e){l(a,r,o,u,i,"throw",e)}u(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./__commonjsHelpers__-legacy.js?v=1763689792"],function(e,t){"use strict";var r,a,i,l,s,p,f,m,d,h,y,v,b,g,w,S,_,x,V,P,k,O,j,A,C,L,q,U,M,D,N,T,E,G,I,F,H,J,B,K,$,z,Q,R;return{setters:[function(e){r=e.M,a=e.Q,i=e.iI,l=e.iJ,s=e.p,p=e.bW,f=e.iK,m=e.aH,d=e.aK,h=e.iL,y=e.aI,v=e.aJ,b=e.iM,g=e.iN,w=e.$,S=e._,_=e.k,x=e.aC},function(e){V=e.r,P=e.o,k=e.c,O=e.x,j=e.y,A=e.A,C=e.z,L=e.e,q=e.aJ,U=e.v,M=e.O,D=e.C,N=e.R,T=e.D,E=e.b1,G=e.F,I=e.G,F=e.V,H=e.aD,J=e.an,B=e.H,K=e.ap,$=e.U,z=e.ad,Q=e.ab,R=e.am},null],execute:function(){var t=V(!1),W=V([]),X=V(""),Y=V("phpService"),Z=P({phpPort:8888,onSSL:!0,phpSSL:"",phpPass:!0}),ee=V(!1),ne=P({username:"",password:"",repass:""}),te=function(){var e=c(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a({request:b(),data:[Array,W]});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),re=function(){var e=c(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:if(!(ne.password.length<3||ne.username.length<3)){e.n=1;break}return r.error("输入的账号密码需要大于三位"),e.a(2);case 1:if(ne.password===ne.repass){e.n=2;break}return r.error("两次输入的密码不一致"),e.a(2);case 2:return e.n=3,a({loading:"正在保存密码，请稍后...",request:i(o(o({},ne),{},{siteName:"phpmyadmin"})),message:!0,success:function(){ee.value=Z.phpPass}});case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=c(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a({request:g(),data:{status:Boolean,port:String,auth:Boolean},success:function(e){Z.onSSL=e.status,Z.phpSSL=e.port,Z.phpPass=e.auth,ee.value=Z.phpPass}});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=c(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a({loading:"正在保存SSL端口，请稍后...",request:l({port:Z.phpSSL}),message:!0});case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=c(u().m(function e(n){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,s({title:"提示",icon:"warning-filled",width:"35rem",content:"您真的要".concat(n?"启动":"停止","phpmyadmin服务吗？")});case 1:return e.n=2,a({loading:"正在".concat(n?"启动":"停止","phpmyadmin服务..."),request:p({name:"phpmyadmin",type:n?"start":"stop"}),message:!0});case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),ie=function(){var e=c(u().m(function e(n){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a({loading:"正在".concat(n?"开启":"关闭","，请稍后..."),request:f({v:Z.onSSL?1:0}),message:!0,success:oe});case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),le=function(){var e=c(u().m(function e(n){return u().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,a({loading:"正在保存配置，请稍后...",request:i(n),message:!0});case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),ce=function(){var e=c(u().m(function e(){var n,r;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return Y.value="phpService",e.p=1,e.n=2,m({sName:"phpmyadmin"});case 2:n=e.v,t.value=n.data.status,X.value=Array.isArray(n.data.ext.phpversion)?n.data.ext.phpversion[0]:n.data.ext.phpversion,Z.phpPort=Number(n.data.ext.port),e.n=4;break;case 3:e.p=3,r=e.v,d(r);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),se=function(){var e=c(u().m(function e(n){return u().w(function(e){for(;;)switch(e.n){case 0:if(n||!ee.value){e.n=2;break}return Z.phpPass=!n,e.n=1,s({title:"提示",icon:"warning-filled",content:"您真的要关闭访问认证吗?"});case 1:a({loading:"正在设置状态，请稍后...",request:i({password:"close",siteName:"phpmyadmin"}),message:!0,success:function(){Z.phpPass=n,ee.value=Z.phpPass}});case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),pe=function(e,n){Y.value=e,"phpService"==e?ce():"phpVersion"==e?te():"phpSafety"==e&&oe()},fe=[{content:"面板访问需要登录面板后，才能通过面板访问phpMyAdmin"},{content:"若通过面板为phpMyAdmin开启了密码访问，请使用【通过公共访问】"},{content:"如通过面板访问无响应，请使用通过公共访问进行访问phpmyadmin"},{content:"如访问出现502，请检查php运行是否正常或尝试更换其他php版本进行访问"},{content:"关闭公共访问权限可提升安全性，可到软件商店->phpMyAdmin中关闭",class:"text-danger"}],me=function(){var e=c(u().m(function e(n){var t,o,i;return u().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,m({sName:"phpmyadmin"});case 1:if(t=e.v,o=t.data,"panel"!==n){e.n=4;break}if(null==o||!o.ext.auth){e.n=2;break}return r.error("当前phpMyAdmin已开启密码访问，请使用【通过公共访问】进行访问"),e.a(2);case 2:if("false"!==(null==o?void 0:o.setup)){e.n=3;break}return r.error("当前phpMyAdmin未安装，请先安装phpMyAdmin"),e.a(2);case 3:a({loading:"正在跳转phpMyAdmin，请稍后...",request:h({table:"config",key:"mysql_root",id:1}),success:function(e){y("root",e.data)}}),e.n=5;break;case 4:o.status?a({loading:"正在跳转phpMyAdmin，请稍后...",request:h({table:"config",key:"mysql_root",id:1}),success:function(e){v("","root",e.data,o.ext.url)}}):r.error("未开启公共访问权限，请开启后再访问");case 5:e.n=7;break;case 6:e.p=6,i=e.v,d(i);case 7:return e.a(2)}},e,null,[[0,6]])}));return function(n){return e.apply(this,arguments)}}(),de={class:"p-[16px]"},he={class:"flex items-center w-full mb-[16px]"},ye={class:"relative w-[14rem] bg-darker h-[4.2rem] mr-[24px] rounded-small"},ve={class:"relative w-[14rem] bg-darker h-[4.2rem] rounded-small"},be=S(k({__name:"service",setup:function(e){return function(e,n){var t=w;return O(),j("div",de,[A("div",he,[A("div",ye,[A("div",{class:"h-[4rem] leading-[4rem] text-center w-full cursor-pointer link-hover",onClick:n[0]||(n[0]=function(e){return C(me)("panel")})},"通过面板访问"),n[2]||(n[2]=A("span",{class:"bg-contain inline-block recommend-bg absolute -top-[0.1rem] -left-[0.1rem]"},null,-1))]),A("div",ve,[A("div",{class:"h-[4rem] leading-[4rem] text-center w-full cursor-pointer link-hover",onClick:n[1]||(n[1]=function(e){return C(me)()})},"通过公共访问")])]),L(t,{options:C(fe),class:"pl-2rem list-disc"},null,8,["options"])])}}}),[["__scopeId","data-v-14118ac3"]]),ge={class:"php-bottom mb-[12px]"},we={class:"p-[20px]"},Se={class:"php-bottom flex items-center"},_e={class:"php-bottom flex flex-col"},xe={class:"flex items-center"},Ve={class:"php-bottom flex-col"};e("default",S(k({__name:"index",props:{compData:{default:{}}},setup:function(e){var r=e;return q(function(){"string"==typeof r.compData&&(Y.value=r.compData)}),U(ce),function(e,r){var o=F,a=H,u=R,i=J,l=B,c=_,s=K,p=$,f=z,m=Q,d=x;return O(),M(d,{modelValue:C(Y),"onUpdate:modelValue":r[11]||(r[11]=function(e){return N(Y)?Y.value=e:null}),type:"left-bg-card",onChange:C(pe)},{default:D(function(){return[L(a,{label:"服务",name:"phpService"},{default:D(function(){return[A("div",ge,[L(o,{modelValue:C(t),"onUpdate:modelValue":r[0]||(r[0]=function(e){return N(t)?t.value=e:null}),onChange:C(ue)},{default:D(function(){return n(r[12]||(r[12]=[T("启用公共访问权限",-1)]))}),_:1},8,["modelValue","onChange"])]),L(be)]}),_:1}),L(a,{label:"php版本",name:"phpVersion"},{default:D(function(){return[A("div",we,[r[14]||(r[14]=A("span",null,"php版本",-1)),L(i,{class:"mx-[12px] !w-[15.6rem]",modelValue:C(X),"onUpdate:modelValue":r[1]||(r[1]=function(e){return N(X)?X.value=e:null}),placeholder:"请选择"},{default:D(function(){return[(O(!0),j(G,null,E(C(W),function(e){return O(),M(u,{key:e.version,label:e.name,value:e.version},null,8,["label","value"])}),128))]}),_:1},8,["modelValue"]),L(l,{type:"primary",onClick:r[2]||(r[2]=function(e){return C(le)({phpversion:C(X)})})},{default:D(function(){return n(r[13]||(r[13]=[T("保存",-1)]))}),_:1})])]}),_:1}),L(a,{label:"安全设置",name:"phpSafety"},{default:D(function(){return[A("div",Se,[r[16]||(r[16]=A("span",{class:"mr-[12px]"},"访问端口",-1)),L(c,{class:"!mb-0 mr-[12px] !w-[14rem]",modelValue:C(Z).phpPort,"onUpdate:modelValue":r[3]||(r[3]=function(e){return C(Z).phpPort=e}),width:"14rem",type:"number"},null,8,["modelValue"]),L(l,{type:"primary",onClick:r[4]||(r[4]=function(e){return C(le)({port:C(Z).phpPort})})},{default:D(function(){return n(r[15]||(r[15]=[T("保存",-1)]))}),_:1})]),A("div",_e,[A("div",xe,[r[17]||(r[17]=A("span",{class:"mr-[12px]"},"开启SSL",-1)),L(s,{modelValue:C(Z).onSSL,"onUpdate:modelValue":r[5]||(r[5]=function(e){return C(Z).onSSL=e}),onChange:C(ie),"active-color":"var(--el-color-primary)","inactive-color":"#cdcdcd",class:"!m-0"},null,8,["modelValue","onChange"])]),A("div",null,[r[19]||(r[19]=A("span",{class:"mr-[12px]"},"SSL端口",-1)),L(c,{class:"!mb-0 mr-[12px] !w-[14rem]",modelValue:C(Z).phpSSL,"onUpdate:modelValue":r[6]||(r[6]=function(e){return C(Z).phpSSL=e}),width:"14rem",type:"number"},null,8,["modelValue"]),L(l,{type:"primary",onClick:C(ae)},{default:D(function(){return n(r[18]||(r[18]=[T("保存",-1)]))}),_:1},8,["onClick"])])]),A("div",Ve,[A("div",null,[r[20]||(r[20]=A("span",{class:"mr-[12px]"},"密码访问",-1)),L(s,{modelValue:C(Z).phpPass,"onUpdate:modelValue":r[7]||(r[7]=function(e){return C(Z).phpPass=e}),"active-color":"var(--el-color-primary)","inactive-color":"#cdcdcd",onChange:C(se),class:"!m-0"},null,8,["modelValue","onChange"])]),A("div",null,[C(Z).phpPass?(O(),M(m,{key:0,"label-position":"right","label-width":"80px",class:"-ml-3.2rem",model:C(ne)},{default:D(function(){return[L(f,{label:"授权账号"},{default:D(function(){return[L(p,{modelValue:C(ne).username,"onUpdate:modelValue":r[8]||(r[8]=function(e){return C(ne).username=e}),placeholder:"不修改请留空"},null,8,["modelValue"])]}),_:1}),L(f,{label:"访问密码"},{default:D(function(){return[L(p,{type:"password",modelValue:C(ne).password,"onUpdate:modelValue":r[9]||(r[9]=function(e){return C(ne).password=e}),placeholder:"不修改请留空"},null,8,["modelValue"])]}),_:1}),L(f,{label:"重复密码"},{default:D(function(){return[L(p,{type:"password",modelValue:C(ne).repass,"onUpdate:modelValue":r[10]||(r[10]=function(e){return C(ne).repass=e}),placeholder:"不修改请留空"},null,8,["modelValue"])]}),_:1}),L(f,{label:" "},{default:D(function(){return[L(l,{type:"primary",onClick:C(re)},{default:D(function(){return n(r[21]||(r[21]=[T("保存",-1)]))}),_:1},8,["onClick"])]}),_:1})]}),_:1},8,["model"])):I("",!0)])])]}),_:1})]}),_:1},8,["modelValue","onChange"])}}}),[["__scopeId","data-v-98d4aac7"]]))}}})}();
