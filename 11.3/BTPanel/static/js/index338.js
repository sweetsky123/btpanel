import{ax as e,_ as t}from"./utils-lib.js?v=1763689792";import{c as s,s as o,aB as l,c9 as a,w as r,g as n,v as i,x as m,y as c,A as u,F as p,b1 as d,L as v,z as x,D as h,B as f,e as g,R as b}from"./base-lib.js?v=1763689792";import{P as w}from"./store4.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./validator.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const C={class:"flex flex-col"},M={class:"flex flex-col absolute w-full"},E={class:"pt-2.6rem bottom-bg"},j={class:"px-3.6rem"},L={class:"voucher-list mt-2.6rem h-[235px] overflow-auto"},_={class:"voucher-amount inline-block px-1.6rem relative w-12rem"},N={class:"font-bold text-large"},k={class:"text-large36"},I={class:"text-tertiary mt-1rem"},y={class:"inline-block text-left mr-1rem text-secondary voucher-instructions flex-1 pl-1.6rem"},D={class:"text-base mb-1rem"},H={class:"voucher-count-down mt-1.2rem text-left"},S={class:"text-danger mlr-[1rem] inline-block text-extraLarge"},T={class:"px-[3.6rem] pb-1rem mt-1.4rem"},A={class:"voucher-count-down text-center text-medium leading-[3rem] mt-[2.6rem] text-secondary flex justify-center"},B={class:"mt-[2rem] voucher-footer text-center"},O=t(s({__name:"index",props:{compData:{default:()=>({isCoupon:[],isHome:!1})}},setup(t){const s=w(),{couponItem:O,closeAfterReload:R,timeClose:V,timeNow:F}=o(s),{siteList:Z,addZero:z,claimCouponEvent:G,changeCloseTimeEvent:P}=s,U=l("popupClose",()=>{}),X=e=>{if(null==e)return"时间未知";const t=Number(e);if(isNaN(t)||t<0)return"时间格式错误";if(t>Number.MAX_SAFE_INTEGER/1e3)return"时间过长";const s=Math.floor(t/86400),o=Math.floor(t%86400/3600),l=Math.floor(t%86400%3600/60),a=[];return s>0&&a.push("".concat(s,"天")),o>0&&a.push("".concat(o,"小时")),l>0&&a.push("".concat(l,"分")),a.length>0?a.join(""):"不足1分钟"},q=t,J=a();r(()=>J.value,e=>{F.value=e});const K=n(()=>{let e="00",t="00",s="00",o="00",l=Number(sessionStorage.getItem("HOME-ENDTIME"));(!l||F.value>=l)&&(l=F.value+72e5,sessionStorage.setItem("HOME-ENDTIME",l.toString()));const a=l-F.value;return a>0?(e=z(Math.floor(a/36e5)),t=z(Math.floor(a/6e4%60)),s=z(Math.floor(a/1e3%60)),o=z(Math.floor(a%1e3/10))):(e="00",t="00",s="00",o="00",0===a&&(sessionStorage.removeItem("HOME-ENDTIME"),P("week",!1))),{hour:e,minute:t,second:s,millisecond:o}});return i(()=>{q.compData.isCoupon.length&&(O.value=q.compData.isCoupon)}),(t,s)=>{const o=e;return m(),c("section",C,[s[9]||(s[9]=u("svg",{viewBox:"0 0 402 485",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"402.000000",height:"485.000000",fill:"none"},[u("g",null,[u("path",{class:"coupon-background",d:"M402 10C402 4.47715 397.523 0 392 0L10 0C4.47715 0 0 4.47715 0 10L0 303.008C0.165974 303.003 0.332656 303 0.5 303C8.50813 303 15 309.492 15 317.5C15 325.508 8.50813 332 0.5 332C0.332656 332 0.165974 331.997 0 331.992L0 475C0 480.523 4.47715 485 10 485L392 485C397.523 485 402 480.523 402 475L402 331.992C394.223 331.728 388 325.341 388 317.5C388 309.659 394.223 303.272 402 303.008L402 10Z","fill-rule":"evenodd"}),u("path",{id:"直线 1",class:"coupon-line",d:"M15 318L387 318"})])],-1)),u("div",M,[u("div",E,[u("div",j,[s[4]||(s[4]=u("div",{class:"text-extraLarge text-pro w-full text-center"},"免费限时领取【大额优惠券】",-1)),u("div",L,[(m(!0),c(p,null,d(x(O),(e,t)=>(m(),c("div",{key:t,class:v(["voucher-item flex items-center justify-between py-[1.6rem] rounded-base",t===x(O).length-1?"mb-[1.4rem]":"mb-[2.4rem]"])},[u("div",_,[u("div",N,[s[2]||(s[2]=h(" ￥",-1)),u("span",k,f(e.val2),1)]),u("div",I,"满"+f(e.val1)+"减"+f(e.val2),1)]),u("div",y,[u("div",D,"仅限"+f(e.name),1),u("div",H,[s[3]||(s[3]=h(" 领取后有效期 ",-1)),u("div",S,f(X(e.timeout)),1)])])],2))),128))])])]),u("div",T,[u("div",A,[s[5]||(s[5]=h(" 距结束",-1)),u("span",null,f(x(K).hour),1),s[6]||(s[6]=h("时",-1)),u("span",null,f(x(K).minute),1),s[7]||(s[7]=h("分",-1)),u("span",null,f(x(K).second),1),s[8]||(s[8]=h("秒",-1)),u("span",null,f(x(K).millisecond),1)]),u("div",B,[u("span",{class:"text-white bg-pro hover:bg-[var(--bt-pro-sub-color)]",onClick:s[0]||(s[0]=e=>x(G)(x(U)))},"一键领取"),g(o,{modelValue:x(V),"onUpdate:modelValue":s[1]||(s[1]=e=>b(V)?V.value=e:null),options:x(Z),class:"reminder mt-1rem !w-[14rem]",placeholder:"选择不通知的时间",onChange:x(P)},null,8,["modelValue","options","onChange"])])])])])}}}),[["__scopeId","data-v-318c4549"]]);export{O as default};
