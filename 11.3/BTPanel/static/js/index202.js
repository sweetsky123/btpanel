import{c as e,x as t,y as l,A as a,D as i,B as n,z as s,e as o,C as c,H as d,s as u,J as r,K as p,L as v,F as y,b1 as m,G as f,O as x,I as M,v as g,aZ as b,r as h,w as k,S as I,V as w,an as T,aA as C,am as D,a8 as j}from"./base-lib.js?v=1763689792";import{u as L,p as _,Q as N,S as z,_ as A,e as O,f as S,N as E,ir as B,V as U,io as Q,r as P}from"./utils-lib.js?v=1763689792";import{P as V}from"./store4.js?v=1763689792";import{H}from"./store3.js?v=1763689792";import{p as R}from"./config.js?v=1763689792";import{_ as Z}from"./index110.js?v=1763689792";import W from"./index200.js?v=1763689792";import{b as q,j as G}from"./validator.js?v=1763689792";import{_ as J}from"./index437.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const Y={class:"software-install"},F={class:"software-view"},K={class:"flex items-center leading-[2.2rem]"},X={class:"flex justify-center mt-[1.6rem]"},$=A(e({__name:"index",props:{options:{default:()=>({name:"",title:""})},icon:{type:Boolean},width:{},height:{}},setup(e){const{errorMask:u}=V(),{resetAuthState:r}=L(),p=async()=>{await _({icon:"warning-filled",title:"解绑宝塔账号",content:"解绑宝塔账号后，将无法正常使用面板功能，是否继续操作？"}),await N({loading:"正在解绑宝塔账号，请稍候...",request:R(),message:!0}),r(),setTimeout(async()=>{z("/bind")},2e3)};return(e,r)=>{const v=d;return t(),l("div",null,[r[2]||(r[2]=a("div",{class:"software-mask"},null,-1)),a("div",Y,[a("div",F,[a("div",K,[r[0]||(r[0]=a("i",{class:"svgtofont-el-warning text-orange mr-[8px] !text-[3rem]"},null,-1)),i(" "+n(s(u).title),1)]),a("div",X,[o(v,{type:"primary",onClick:p},{default:c(()=>[...r[1]||(r[1]=[i("解绑宝塔账号",-1)])]),_:1})])])])])}}}),[["__scopeId","data-v-6f674d8a"]]),ee={class:"sidebar-title"},te={class:"flex flex-col"},le={class:"sidebar-privilege"},ae=["innerHTML"],ie={key:1,class:"pt-16px"},ne={class:"whitespace-nowrap"},se={key:0,class:"sidebar-tips-item pro-introduce safe-report"},oe={key:1,class:"pro-left-footer-recom"},ce=A(e({__name:"index",setup(e){const d=V(),{productInfo:M,isPlugin:g,compData:b}=u(d),{openPrivilegeContrast:h}=d;return(e,d)=>{var u,k,I,w,T,C,D,j,L,_,N,z,A,S,E,B,U,Q,P,V,H,R,Z,W;const q=O;return t(),l("div",{class:v(["sidebar-info","sidebar-".concat(null==(k=null==(u=s(M))?void 0:u.activeTypeInfo)?void 0:k.type)])},[a("div",ee,[r(a("span",{class:v("icon-currency !mr-10px !w-[2.4rem] icon-"+(null==(w=null==(I=s(M))?void 0:I.activeTypeInfo)?void 0:w.type))},null,2),[[p,!s(g)]]),a("span",null,n(null==(C=null==(T=s(M))?void 0:T.activeTypeInfo)?void 0:C.title),1)]),r(a("div",{class:"sidebar-describe"},n(null==(j=null==(D=s(M))?void 0:D.activeTypeInfo)?void 0:j.describe),513),[[p,!s(g)]]),a("div",te,[a("div",le,n(null==(_=null==(L=s(M))?void 0:L.activeTypeInfo)?void 0:_.tipsTitle)+":",1),"plugin"===(null==(z=null==(N=s(M))?void 0:N.activeTypeInfo)?void 0:z.type)?(t(),l("div",{key:0,class:"w-[16.5rem] text-base leading-loose mt-[2rem]",innerHTML:null==(S=null==(A=s(b))?void 0:A.pluginInfo)?void 0:S.ps},null,8,ae)):(t(),l("div",ie,[(t(!0),l(y,null,m(null==(B=null==(E=s(M))?void 0:E.activeTypeInfo)?void 0:B.tipsList,(e,i)=>(t(),l("div",{key:i,class:"sidebar-tips-item"},[d[1]||(d[1]=a("span",{class:"mr-8px"},[a("i",{class:"svgtofont-el-check font-black text-[var(--el-color-warning-light-3)] text-medium"})],-1)),a("span",ne,n(e),1)]))),128))]))]),"dev"===(null==(Q=null==(U=s(M))?void 0:U.activeTypeInfo)?void 0:Q.type)?(t(),l("div",se,[d[3]||(d[3]=a("span",{"data-v-0c1f7542":"",class:"mr-4px"},[a("i",{class:"svgtofont-el-star-filled font-black text-[var(--el-color-warning-light-3)]"})],-1)),a("span",null,[o(q,{target:"_blank",href:"https://www.bt.cn/new/product/safety_report.html",style:{"text-decoration":"underline"}},{default:c(()=>[...d[2]||(d[2]=[i("获取安全检查报告",-1)])]),_:1})])])):f("",!0),"plugin"===(null==(V=null==(P=s(M))?void 0:P.activeTypeInfo)?void 0:V.type)?(t(),l("div",oe,[a("span",null,[i("Linux企业版可免费使用【"+n(null==(R=null==(H=s(M))?void 0:H.activeTypeInfo)?void 0:R.title)+"】等30+款插件，价格仅售￥",1),d[4]||(d[4]=a("span",{class:"plugin_pro_price"},"1399",-1)),d[5]||(d[5]=i("/年",-1))])])):"coupon"!==(null==(W=null==(Z=s(M))?void 0:Z.activeTypeInfo)?void 0:W.type)?(t(),l("div",{key:2,class:"sidebar-details",onClick:d[0]||(d[0]=(...e)=>s(h)&&s(h)(...e))},"特权对比")):(t(),x(q,{key:3,class:"sidebar-details",href:"https://www.bt.cn/new/activity.html",target:"_blank"},{default:c(()=>[...d[6]||(d[6]=[i(" 查看更多活动 ",-1)])]),_:1}))],2)}}}),[["__scopeId","data-v-f2a24eea"]]),de={class:"flex flex-col w-[16rem]"},ue=["onClick"],re={class:"flex items-center pl-20px"},pe={class:"relative p-12px h-[14rem] border-[1px] rounded-base border-light"},ve={class:"relative"},ye={class:"w-[11rem] flex items-center justify-center text-base mt-[2rem]"},me={class:"w-[11rem] flex items-center justify-center text-small mt-[4rem] text-tertiary"},fe={class:"pay-price-model"},xe={class:"repeat-buy-tips"},Me={class:"mt-4px mb-1.2rem"},ge={key:0,class:"repeat-buy-tips text-danger py-[8px] mb-1.2rem"},be={class:"userinfo"},he={class:"line-through text-tertiaryer"},ke={key:0,class:"font-bold mt-8px coupon-discounts-titile"},Ie={class:"box"},we={class:"userinfo"},Te={class:"my-16px price"},Ce={class:"text-iconLarge font-bold"},De={class:"line-through text-tertiaryer"},je={key:0,class:"font-bold mt-8px coupon-discounts-titile"},Le={key:0,class:"payment-cont h-13rem"},_e={class:"mt-1.2rem"},Ne={class:"availableBalance text-subtitleLarge"},ze={key:0,class:"flex items-center"},Ae={key:1,class:"flex flex-col w-[25rem] pl-2rem accounts-box"},Oe={key:0,class:"unbind-mask"},Se={class:"unbind-auth px-2rem py-1rem"},Ee={class:"text-base unbind-author-content"},Be={key:1,class:"flex flex-col items-center justify-center h-full w-full"},Ue=A(e({__name:"index",setup(e){const{payment:x,authExpirationTime:g,forceLtd:b}=L(),h=V(),{paymentLoading:k,payList:I,productInfo:w,product:T,activePayIcon:C,scanned:D}=u(h),{changeUnbindAuthor:j,changePayTypeEvent:_,changeBalanceBuyEvent:N,changeRefreshAuthor:z}=h;return(e,u)=>{var b,h,L,A,B,U,Q,P,V,H,R,Z,W,Y,F,K,X,$,ee,te,le,ae,ie,ne,se,oe,ce,Ue,Qe,Pe,Ve,He,Re,Ze,We,qe,Ge,Je,Ye,Fe,Ke,Xe,$e,et,tt,lt,at,it,nt,st,ot;const ct=J,dt=S,ut=O,rt=d,pt=E,vt=M("bt-loading");return r((t(),l("div",{class:v(["pay-mode-view","pay-"+(null==(h=null==(b=s(w))?void 0:b.activeTypeInfo)?void 0:h.type)])},[s(x).bindUser?(t(),l(y,{key:0},[a("div",de,[(t(!0),l(y,null,m(s(I),e=>{var i,o;return t(),l("div",{key:e.type,class:v(["pay-mode-item",{active:e.type===(null==(o=null==(i=s(T))?void 0:i.payMode)?void 0:o.activePayType)}]),onClick:t=>s(_)(e)},[a("span",{class:v("icon icon-"+e.type)},null,2),a("span",null,n(e.title),1)],10,ue)}),128))]),a("div",re,[["wechat","alipay"].includes((null==(A=null==(L=s(T))?void 0:L.payMode)?void 0:A.activePayType)||"")?(t(),l(y,{key:0},[a("div",pe,[a("div",ve,[r(o(ct,{value:null==(Q=null==(U=null==(B=s(T))?void 0:B.payMode)?void 0:U.qrcode)?void 0:Q.value,size:null==(P=s(T))?void 0:P.payMode.qrcode.size},null,8,["value","size"]),[[p,null==(R=null==(H=null==(V=s(T))?void 0:V.payMode)?void 0:H.qrcode)?void 0:R.value]]),s(D)?(t(),l("div",{key:0,class:"absolute z-10 inset-0 flex items-center flex-col justify-center bg-black/70 text-white p-2 text-center rounded",onClick:u[0]||(u[0]=e=>s(_)({type:"alipay",isRegain:!0}))},[...u[8]||(u[8]=[i(" 已扫码,",-1),a("br",null,null,-1),i("请完成支付",-1),a("br",null,null,-1),a("div",{class:"svgtofont-el-refresh-right text-medium cursor-pointer"},null,-1)])])):f("",!0)]),r(a("div",ye,"获取中",512),[[p,!(null==(Y=null==(W=null==(Z=s(T))?void 0:Z.payMode)?void 0:W.qrcode)?void 0:Y.value)]]),o(dt,{type:"icons",src:s(C),class:"!absolute bg-white border-[0.2rem] border-light rounded-small mr-4px w-2.4rem h-2.4rem top-24 left-22"},null,8,["src"]),r(a("div",me,"请尝试切换支付方式",512),[[p,!(null==(X=null==(K=null==(F=s(T))?void 0:F.payMode)?void 0:K.qrcode)?void 0:X.value)]])]),a("div",fe,[r(a("div",xe,[u[11]||(u[11]=a("div",{class:"text-danger p-8px"},"检测到您30分钟内有重复支付订单！",-1)),a("div",Me,[u[10]||(u[10]=i(" 如遇到支付后授权未生效，请尝试 ",-1)),o(ut,{class:"underline",onClick:u[1]||(u[1]=e=>s(z)())},{default:c(()=>[...u[9]||(u[9]=[i("刷新授权",-1)])]),_:1})])],512),[[p,null==(ee=null==($=s(T))?void 0:$.payMode)?void 0:ee.isLastBuyRepeat]]),(null==(te=s(T))?void 0:te.payMode.payTips.status)&&!(null==(ae=null==(le=s(T))?void 0:le.payMode)?void 0:ae.isLastBuyRepeat)?(t(),l("div",ge,[i(" 【"+n(null==(ie=s(T))?void 0:ie.payMode.payTips.name)+"】 ",1),(null==(ne=s(T))?void 0:ne.payMode.payTips.day)>=0?(t(),l(y,{key:0},[i(" 还剩 "+n(null==(se=s(T))?void 0:se.payMode.payTips.day)+" 天到期",1)],64)):(t(),l(y,{key:1},[i(n(s(g)),1)],64)),i(" ， 支付后【"+n(null==(oe=s(T))?void 0:oe.payMode.payTips.name)+"】自动转为抵扣券 ",1)])):f("",!0),a("div",{class:v(["flex flex-col",(null==(Ue=null==(ce=s(T))?void 0:ce.payMode)?void 0:Ue.isLastBuyRepeat)&&(null==(Qe=s(T))?void 0:Qe.couponMode.status)?"":"mb-16px"])},[a("div",be,[i(" 当前账号:"+n(s(x).bindUser)+" ",1),a("a",{class:"underline cursor-pointer",onClick:u[2]||(u[2]=(...e)=>s(q)&&s(q)(...e))},"切换账号")]),a("div",{class:v(["buy-price",(null==(Ve=null==(Pe=s(T))?void 0:Pe.payMode)?void 0:Ve.isLastBuyRepeat)&&(null==(He=s(T))?void 0:He.couponMode.status)?"":"mt-16px"])},[u[13]||(u[13]=a("span",null,"支付金额:",-1)),a("span",null,[u[12]||(u[12]=a("span",{class:"text-large font-bold"},"￥",-1)),a("span",null,n(null==(Re=s(T))?void 0:Re.payMode.activeBuyInfo.price),1)]),a("span",null,n(null==(Ze=s(T))?void 0:Ze.payMode.activeBuyInfo.cycle)+"/"+n(null==(We=s(T))?void 0:We.payMode.activeBuyInfo.count)+"台",1),a("span",he," 原价: "+n(null==(qe=s(T))?void 0:qe.payMode.activeBuyInfo.originalPrice)+"元 ",1),(null==(Ge=s(T))?void 0:Ge.couponMode.status)?(t(),l("div",ke,n(null==(Je=s(T))?void 0:Je.couponMode.discountsTitle),1)):f("",!0)],2)],2)])],64)):(t(),l(y,{key:1},[a("div",Ie,[a("div",we,[i(" 当前账号:"+n(s(x).bindUser)+" ",1),a("a",{class:"underline cursor-pointer",onClick:u[3]||(u[3]=(...e)=>s(q)&&s(q)(...e))},"切换账号")]),a("div",Te,[u[15]||(u[15]=i(" 支付金额: ",-1)),a("span",Ce,[u[14]||(u[14]=a("b",{class:"text-large"},"¥",-1)),i(n(null==(Ye=s(T))?void 0:Ye.payMode.activeBuyInfo.price),1)]),a("span",null,n(null==(Fe=s(T))?void 0:Fe.payMode.activeBuyInfo.cycle)+"/"+n(null==(Ke=s(T))?void 0:Ke.payMode.activeBuyInfo.count)+"台",1)]),a("div",De," 原价: "+n(null==(Xe=s(T))?void 0:Xe.payMode.activeBuyInfo.originalPrice)+"元 ",1),(null==($e=s(T))?void 0:$e.couponMode.status)?(t(),l("div",je,n(null==(et=s(T))?void 0:et.couponMode.discountsTitle),1)):f("",!0)]),"balance"==(null==(tt=s(T))?void 0:tt.payMode.activePayType)?(t(),l("div",Le,[u[20]||(u[20]=i(" 可用余额 ",-1)),a("div",_e,[a("span",Ne,n(null==(lt=s(T))?void 0:lt.payMode.balance),1),u[16]||(u[16]=i("元 ",-1))]),o(rt,{class:"!my-1rem",type:"primary",disabled:(null==(at=s(T))?void 0:at.payMode.balance)<s(T).payMode.activeBuyInfo.price,onClick:u[4]||(u[4]=e=>s(N)())},{default:c(()=>[...u[17]||(u[17]=[i("立即购买",-1)])]),_:1},8,["disabled"]),(null==(it=s(T))?void 0:it.payMode.balance)<s(T).payMode.activeBuyInfo.price?(t(),l("div",ze,[u[19]||(u[19]=i("当前余额不足，请先",-1)),o(ut,{target:"_blank",href:"https://www.bt.cn/admin/recharge"},{default:c(()=>[...u[18]||(u[18]=[i("充值余额",-1)])]),_:1})])):f("",!0)])):(t(),l("div",Ae,[u[22]||(u[22]=a("div",null,[a("span",null,"开户名称: "),i("广东堡塔安全技术有限公司")],-1)),u[23]||(u[23]=a("div",null,[a("span",null,"开户银行: "),i("招商银行股份有限公司东莞天安数码城支行")],-1)),a("div",null,[u[21]||(u[21]=a("span",null,"银行账号: ",-1)),a("span",{class:"cursor-pointer",onClick:u[5]||(u[5]=(...e)=>s(G)&&s(G)(...e))},"联系客服")])]))],64))]),(null==(st=null==(nt=s(w))?void 0:nt.unbindAuthor)?void 0:st.status)?(t(),l("div",Oe,[a("div",Se,[u[28]||(u[28]=a("div",{class:"text-subtitleLarge mb-[1.2rem] mt-[.4rem]"},"检测到授权冲突",-1)),a("div",Ee,[u[24]||(u[24]=i(" 当前面板已绑定【",-1)),a("span",{class:v(s(x).authType+"-author-name")},n(null==(ot=s(T))?void 0:ot.payMode.payTips.name),3),u[25]||(u[25]=i("】 ",-1)),u[26]||(u[26]=a("span",{class:"text-danger"},"永久授权",-1)),u[27]||(u[27]=i("，若要购买/更换其他授权，请先解绑当前授权。 ",-1))]),u[29]||(u[29]=a("div",null,"专业版/企业版每月允许免费更改服务器IP(解绑授权)一次，超过限制次数后请手动购买解绑次数。",-1)),o(rt,{type:"primary",class:"text-base !mt-[1.4rem]",onClick:u[6]||(u[6]=e=>s(j)(!0))},{default:c(()=>{var e,t,l,a;return[i(n((null==(t=null==(e=s(w))?void 0:e.unbindAuthor)?void 0:t.count)>0?"解绑授权，剩余次数".concat(null==(a=null==(l=s(w))?void 0:l.unbindAuthor)?void 0:a.count,"次"):"点击前往购买解绑次数"),1)]}),_:1})])])):f("",!0)],64)):(t(),l("div",Be,[o(pt,{type:"primary",onClick:u[7]||(u[7]=e=>s(q)())},{default:c(()=>[...u[30]||(u[30]=[i("当前未绑定宝塔账号，无法购买产品，点击绑定",-1)])]),_:1})]))],2)),[[vt,!(!s(k).status||!s(x).bindUser)],[vt,s(k).title,"title"],[vt,"large","size"]])}}}),[["__scopeId","data-v-8ad1f0e0"]]),Qe={class:"h-[98%]"},Pe={class:"flex justify-between items-center relative text-[1.4rem]"},Ve={class:"flex"},He={class:"flex flex-wrap overflow-y-auto max-h-[12rem]"},Re=["onClick"],Ze=["onClick"],We={class:"relative"},qe={class:"flex flex-wrap overflow-y-auto max-h-[25rem]"},Ge=["onClick"],Je={class:"!text-extraSmall"},Ye={key:0},Fe={class:"mt-24px flex items-center"},Ke={key:2,class:"flex flex-col items-center justify-center w-full h-full mt-20rem"},Xe=A(e({__name:"index",setup(e){const p=V();L();const{product:h,voucherLoading:k,authTypeTitle:I,authExpirationTime:w}=u(p),{changeTypeTabEvent:T,changeVoucherTypeEvent:C,changeVoucherEvent:D,getVoucherCycleDescribe:j,useChangeVoucher:_,unBindAuthor:N,getUnbindCount:z}=p;return g(()=>{z()}),(e,u)=>{var p;const g=b,L=d,z=M("scroll-shadow"),A=M("bt-loading");return t(),l("section",Qe,["正式版"!==s(I)?(t(),x(g,{key:0,class:"!mt-[2.8rem]",closable:!1,type:"info"},{default:c(()=>[a("div",Pe,[a("div",Ve,[u[2]||(u[2]=i("当前面板已绑定【",-1)),a("span",{class:v(s(I)+"-author-name")},n(s(I)),3),i("】，到期时间："+n(s(w))+"。",1)]),a("span",{class:"mr-[1rem] cursor-pointer hover:text-danger absolute right-[-355px]",onClick:u[0]||(u[0]=(...e)=>s(N)&&s(N)(...e))},"解绑")])]),_:1})):f("",!0),(null==(p=s(h))?void 0:p.voucherMode.isExist)?(t(),l(y,{key:1},[r((t(),l("div",{class:v(["relative mb-8px","正式版"!==s(I)?"!mt-[1.4rem]":"!mt-[2.8rem]"])},[r((t(),l("div",He,[(t(!0),l(y,null,m(s(h).voucherMode.proTypeList,e=>(t(),l("div",{key:e.pid,class:v(["pay-voucher-type btn-box",{active:s(h).voucherMode.typeActive===e.pid,hidden:e.hidden}]),onClick:t=>s(C)(e)},[a("span",{class:v({"icon-pro":e.pid===s(B).pro,"icon-ltd":e.pid===s(B).ltd})},null,2),a("span",null,n(e.name),1)],10,Re))),128)),(t(!0),l(y,null,m(s(h).voucherMode.typeList,e=>(t(),l("div",{key:e.pid,class:v(["pay-voucher-type btn-box",{active:s(h).voucherMode.typeActive===e.pid,hidden:e.hidden}]),onClick:t=>s(C)(e)},[a("span",null,n(e.name),1)],10,Ze))),128))])),[[z]])],2)),[[A,s(h).voucherMode.loading]]),u[4]||(u[4]=a("div",{class:"flex"},[a("span",{class:"pay-view-title"},"抵扣券列表"),a("div",{class:"mt-20px"})],-1)),a("div",We,[r((t(),l("div",qe,[(t(!0),l(y,null,m(s(h).voucherMode.list,e=>(t(),l("div",{key:e.id,class:v(["pay-voucher-item",{active:s(h).voucherMode.active===e.id}]),onClick:t=>s(D)(e)},[a("span",null,[999===e.cycle&&"month"===e.unit?(t(),l(y,{key:0},[i("永久授权")],64)):(t(),l(y,{key:1},[i(n(s(j)(e.cycle,e.unit)),1)],64))]),a("span",Je,"到期时间: "+n(e.timeout>0?s(U)(e.endtime,"yyyy-MM-dd"):"长期有效"),1)],10,Ge))),128)),s(h).voucherMode.list.length?f("",!0):(t(),l("div",Ye,"抵扣券列表为空"))])),[[z]])]),a("div",Fe,[o(L,{type:"primary",disabled:s(k)||!s(h).voucherMode.list.length,onClick:s(_)},{default:c(()=>[i(n(s(k)?"正在提交中，请稍候...":"立即使用"),1)]),_:1},8,["disabled","onClick"]),u[3]||(u[3]=a("div",{class:"ml-12px text-base text-tertiary"},"堡塔官网后台、参与活动购买的产品抵扣券，可用于开通授权或续费",-1))]),u[5]||(u[5]=a("div",{class:"relative hidden"},null,-1))],64)):(t(),l("div",Ke,[u[7]||(u[7]=a("div",{class:"pay-voucher-empty"},null,-1)),o(L,{plain:"",onClick:u[1]||(u[1]=e=>s(T)("ltd"))},{default:c(()=>[...u[6]||(u[6]=[i("抵扣券列表为空，点击购买",-1)])]),_:1})]))])}}}),[["__scopeId","data-v-7b92f5f2"]]),$e={key:0,class:"h-[90px] w-full flex"},et={class:"tab-menu !flex-1 py-[1.6rem]"},tt={key:1,class:"advantage-list"},lt={key:0,class:"text-base text-ltd"},at={key:1,class:"text-base text-ltd"},it={key:2,class:"h-full p-2rem"},nt={class:"w-full flex items-center flex-col justify-center mt-[1.6rem]"},st={key:3,class:"h-full"},ot={key:0,class:"h-30 w-full flex"},ct=["onClick"],dt={class:"text-default"},ut={class:"text-secondary"},rt={id:"lib-pay-theme-tips",class:"lib-pay-line-item proS lib-pay-theme-tips"},pt=["innerHTML"],vt={id:"list-box",class:"list-box",style:{"max-width":"72rem"}},yt={id:"list",class:"flex",style:{transition:"all 500ms",left:"0",position:"relative"}},mt=["onClick"],ft={class:"pay-product-price"},xt={class:"line-through border-b pb-4px pt-4px border-dashed border-lighter text-tertiaryer"},Mt={class:"text-center pt-4px"},gt={key:0,class:"pay-product-recommend transform scale-80"},bt={class:"dev-advantage"},ht={key:0},kt={class:"mb-[1.6rem]"},It={class:"flex"},wt=["onClick"],Tt={key:0,class:"pay-auth-discount transform scale-80"},Ct={key:0,class:"text-danger mt-[4px]"},Dt={class:"flex !ml-0"},jt={class:"artificial_price"},Lt={key:0,class:"text-tertiary voucherEndtime"},_t={key:1,class:"mt-[1.6rem] flex justify-center"},Nt={key:4,class:"tooTool-links absolute right-[3rem] bottom-6 cursor-pointer"},zt={class:"flex items-center inline-block"},At=A(e({__name:"index",setup(e){const g=V(),{productInfo:b,product:j,enterprise:_,tabLoading:z,iSwitch:A,countDown:E,productPriceLoading:B}=u(g),{switchLeft:U,switchRight:P,changeTypeTabEvent:H,changeCycleTabEvent:R,changeNumsTabEvent:q,enterpriseEvent:J,changeCouponBoxEvent:Y,changeCouponEvent:F}=g,K=h(null),{aliyunEcsLtd:X,payment:$,aliyunEcsFailed:ee}=L();k(()=>j.value.couponMode.endTimeNum>0,e=>{e&&j.value.couponMode.activeCouponId&&(clearInterval(K.value),K.value=setInterval(()=>{j.value.couponMode.endTimeNum>0?(j.value.couponMode.endTimeNum--,(()=>{const e=j.value.couponMode.endTimeNum,t=Math.floor(e/86400),l=Math.floor(e/3600%24),a=Math.floor(e/60%60),i=Math.floor(e%60);E.value.d=t<10?"0".concat(t.toString()):t.toString(),E.value.h=l<10?"0".concat(l.toString()):l.toString(),E.value.m=a<10?"0".concat(a.toString()):a.toString(),E.value.s=i<10?"0".concat(i.toString()):i.toString()})()):clearInterval(K.value)},1e3))});const te=async()=>{const e=await N({loading:"正在获取阿里云授权，请稍后...",request:Q({client:2})});ee.value=!e.status,window.location.reload()};setTimeout(()=>{},1e3);const le=()=>{window.open("https://marketnext.console.aliyun.com/bizlist","_blank","noopener,noreferrer")};return(e,u)=>{var g,h,k,L,N,Q,V,K,ae,ie,ne,se,oe;const ce=S,de=d,ue=w,re=D,pe=T,ve=W,ye=C,me=Z,fe=O,xe=M("bt-loading");return t(),l("div",{class:v(["flex flex-[8] flex-col","theme-".concat(null==(h=null==(g=s(b))?void 0:g.activeTypeInfo)?void 0:h.type," ").concat(s(X)?"h-full":"")])},[s(X)?(t(),l("div",$e,[a("div",et,[a("span",{class:v(["text-large font-bold text-black flex items-center my-2","product-ltd"])},[...u[10]||(u[10]=[a("i",{class:v("svgtofont-icon-ltd !text-subtitleLarge text-ltd font-normal mr-[0.8rem]")},null,-1),a("span",{class:"text-primary"},"阿里云 & Linux面板企业版",-1)])])])])):f("",!0),s(X)?(t(),l("div",tt,[u[13]||(u[13]=a("i",{class:"svgtofont-el-warning-filled !text-round text-ltd font-normal mr-[0.8rem]"},null,-1)),"ltd"===s($).authType?(t(),l("span",lt,[u[11]||(u[11]=i(" 此版本为阿里云联合宝塔面板定制的Linux企业版，续费企业版请从",-1)),a("span",{class:"btlink cursor-pointer",onClick:le},"阿里云控制台"),u[12]||(u[12]=i("操作",-1))])):(t(),l("span",at,n(s(ee)?"检测到无法正常绑定宝塔账号":"检测到无法正常使用企业版")+" ，请扫码联系客服处理",1))])):f("",!0),"ltd"!==s($).authType&&s(X)?(t(),l("div",it,[a("div",nt,[o(ce,{class:"w-[24rem] h-[24rem]",src:"customer/customer-qrcode.png"}),o(de,{type:"primary",size:"large",class:"mt-[2.4rem] w-[10rem]",onClick:te},{default:c(()=>[...u[14]||(u[14]=[i("重新认证",-1)])]),_:1})])])):(t(),l("div",st,[s(X)?f("",!0):(t(),l("div",ot,[(t(!0),l(y,null,m(null==(k=s(b))?void 0:k.typeList,e=>{var i,o;return t(),l("div",{key:e.type,class:v(["tab-menu",{"tab-acitve":e.type===(null==(o=null==(i=s(b))?void 0:i.activeTypeInfo)?void 0:o.type),"tab-rec":e.recommend,"!flex-1":"coupon"===e.type,"!hidden":e.isHidden||("coupon"===e.type||"plugin"===e.type)&&!s($).bindUser}]),onClick:t=>s(H)(e)},[a("span",{class:v(["text-medium font-bold text-black flex items-center my-2","product-"+e.type])},[a("span",{class:v("icon-currency icon-"+e.type)},null,2),a("span",dt,n(e.title),1)],2),a("span",ut,n(e.describe),1)],10,ct)}),128))])),r((t(),l("div",{class:v(["flex-[1] pb-[32px] px-[28px]",{"pt-16px":s(X)}])},[r(a("div",rt,[u[15]||(u[15]=a("img",{style:{"margin-right":"10px"},src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAuMDAwMDAwIiBoZWlnaHQ9IjIyLjAwMDAwMCIgdmlld0JveD0iMCAwIDIwIDIyIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KCTxkZXNjPgoJCQlDcmVhdGVkIHdpdGggUGl4c28uCgk8L2Rlc2M+Cgk8cGF0aCBpZD0icGF0aCIgZD0iTTEzLjM0MDggNS4zNDIxOUMxMy43NDk1IDYuMjkxMzUgMTMuODEwOSA3Ljg1OTg5IDEyLjk2NDkgOC42MTQwMUMxMS41OTE0\t\t\t\t\t\t\t\t\t\t\t\tIDMuMDc5ODYgOC4xNTc3MSAyIDguMTU3NzEgMkM4LjU2NjM1IDQuODEzMzIgNi43MjI5IDcuODky\t\t\t\t\t\t\t\t\t\t\t\tMDkgNC45MTIwNSAxMC4yMTI3QzQuODUwNjUgOS4xMDA2NSA0Ljc4NTQ2IDguMzQ4NTcgNC4xOTQ1\t\t\t\t\t\t\t\t\t\t\t\tOCA3LjIwMjMzQzQuMDY3OTkgOS4yNjM1NSAyLjU3MTc4IDEwLjkwMDUgMi4xMzQ0IDEyLjk2MTdD\t\t\t\t\t\t\t\t\t\t\t\tMS42MDQ5OCAxNS44MDkyIDIuNTcxNzggMTcuODA2MSA2LjI1MjkzIDIwQzUuMDk4MDggMTcuNDgy\t\t\t\t\t\t\t\t\t\t\t\tMyA1LjcyMzQ1IDE2LjA0MDQgNi42Mjg5MSAxNC43MzMzQzcuNTk1NyAxMy4yMjkxIDcuODQ4ODgg\t\t\t\t\t\t\t\t\t\t\t\tMTEuNzg3MyA3Ljg0ODg4IDExLjc4NzNDNy44NDg4OCAxMS43ODczIDguNjI3NjkgMTIuODAwOCA4\t\t\t\t\t\t\t\t\t\t\t\tLjMxODg1IDE0LjQwMzVDOS42MjcxNCAxMi44MzUgOS44ODAzMSAxMC4zMTEyIDkuNjk0MjcgOS4z\t\t\t\t\t\t\t\t\t\t\t\tOTYyN0MxMi42ODg3IDExLjU5MDIgMTQuMDI5NSAxNi40MzQ2IDEyLjI4MzkgMTkuOTM1NkMyMS41\t\t\t\t\t\t\t\t\t\t\t\tMTg0IDE0LjQwNTUgMTQuNTU3IDYuMTkwODMgMTMuMzQwOCA1LjM0MjE5WiIgZmlsbC1ydWxlPSJu\t\t\t\t\t\t\t\t\t\t\t\tb256ZXJvIiBmaWxsPSIjRUMwMjAyIi8+Cgk8ZGVmcy8+Cjwvc3ZnPgo="},null,-1)),a("span",{class:"tips-span text-warning pr-[1rem]",innerHTML:null==(L=s(b))?void 0:L.activityList},null,8,pt)],512),[[p,"coupon"!=(null==(Q=null==(N=s(b))?void 0:N.activeTypeInfo)?void 0:Q.type)&&(null==(V=s(b))?void 0:V.activityList)&&!s(X)]]),"coupon"!==(null==(ae=null==(K=s(b))?void 0:K.activeTypeInfo)?void 0:ae.type)?(t(),l(y,{key:0},[a("span",{class:v(["pay-view-title !mt-12px h-[1.8rem]","".concat(s(X)?"text-center":"")])},"产品周期",2),r((t(),l("div",{class:v(["box","".concat(s(X)?"flex justify-center":"")])},[r(a("div",{class:"switch-cycle-left",onClick:u[0]||(u[0]=(...e)=>s(U)&&s(U)(...e))},[...u[16]||(u[16]=[a("i",{id:"switch-left",class:"svgtofont-el-arrow-left",style:{"font-size":"var(--el-font-size-large)","font-weight":"900"}},null,-1)])],512),[[p,s(A).left]]),a("div",vt,[a("div",yt,[(t(!0),l(y,null,m(s(j).cycleMode.list,(e,i)=>(t(),l("div",{key:i,class:v(["pay-product-cycle btn-box btn-box-2 relative",{active:e.cycle===s(j).cycleMode.activeCycleInfo.cycle}]),onClick:t=>s(R)(e)},[a("div",ft,[u[17]||(u[17]=a("span",null,"￥",-1)),a("span",null,n(e.price),1),a("span",null,"/"+n(e.title),1)]),a("div",xt,"原价:"+n(e.originalPrice)+"元",1),a("div",Mt,"低至"+n(e.everyDay)+"元/天",1),e.recommend?(t(),l("div",gt,n(e.recommend),1)):f("",!0)],10,mt))),128)),r(a("div",bt,null,512),[[p,"dev"==(null==(ne=null==(ie=s(b))?void 0:ie.activeTypeInfo)?void 0:ne.type)]])])]),r(a("div",{class:"switch-cycle-right",onClick:u[1]||(u[1]=(...e)=>s(P)&&s(P)(...e))},[...u[18]||(u[18]=[a("i",{id:"switch-right",class:"svgtofont-el-arrow-right",style:{"font-size":"var(--el-font-size-large)","font-weight":"900"}},null,-1)])],512),[[p,s(A).right&&s(j).cycleMode.list.length>4]])],2)),[[xe,s(B)]]),s(X)?(t(),l("div",_t,[o(ye,{placement:"bottom-start",effect:"light",trigger:"hover",width:"180","popper-class":"el-tooltip-white !p-[8px]"},{reference:c(()=>[...u[28]||(u[28]=[a("span",{class:"btlink"},"了解更多",-1)])]),default:c(()=>[o(ve,{class:"bg-white"})]),_:1})])):(t(),l("div",ht,[u[27]||(u[27]=a("span",{class:"pay-view-title h-[1.8rem]"},"授权数量",-1)),a("div",kt,[a("div",It,[(t(!0),l(y,null,m(s(j).numsMode.list,(e,i)=>(t(),l("div",{key:i,class:v([{active:e.count===s(j).numsMode.activeNumsInfo.count},"pay-auth-item btn-box"]),onClick:t=>s(q)(e)},[a("span",null,n(e.count)+"台",1),1!=e.discount&&s($).bindUser?(t(),l("span",Tt,n(10*e.discount)+"折 ",1)):f("",!0)],10,wt))),128))]),s(j).numsMode.activeNumsInfo.count>1?(t(),l("p",Ct,"购买多台授权会默认减1台用于本机授权，剩余的授权台数以抵扣券的方式发放到当前账号，购买后请切换至抵扣券查看")):f("",!0)]),s(j).enterpriseMode.isHidden?f("",!0):(t(),l("div",{key:0,class:v(["artificial",{active:s(j).enterpriseMode.status}]),onClick:u[4]||(u[4]=I(e=>s(J)(!s(j).enterpriseMode.status),["self"]))},[o(ue,{modelValue:s(j).enterpriseMode.status,"onUpdate:modelValue":u[2]||(u[2]=e=>s(j).enterpriseMode.status=e),onChange:u[3]||(u[3]=e=>s(J)(e))},{default:c(()=>[a("div",Dt,[u[22]||(u[22]=a("span",null,"人工运维托管",-1)),a("span",jt,"￥"+n(s(_)),1),a("div",null,[o(ce,{type:"icons",src:"icon-artificial1.svg"}),u[19]||(u[19]=a("span",{class:"ml-[5px]"},"专家技术支持",-1))]),a("div",null,[o(ce,{type:"icons",src:"icon-artificial2.svg"}),u[20]||(u[20]=a("span",{class:"ml-[5px]"},"5分钟内急速响应",-1))]),a("div",null,[o(ce,{type:"icons",src:"icon-artificial3.svg"}),u[21]||(u[21]=a("span",{class:"ml-[5px]"},"问题解决率达99%",-1))])])]),_:1},8,["modelValue"])],2)),r(a("div",{class:v("product-coupon-box cursor-pointer  "+(s(j).couponMode.status?"active":"")),onClick:u[7]||(u[7]=I(e=>s(Y)(),["self"]))},[o(ue,{modelValue:s(j).couponMode.status,"onUpdate:modelValue":u[5]||(u[5]=e=>s(j).couponMode.status=e),disabled:s(j).couponMode.disabled,onChange:s(Y)},{default:c(()=>[i("优惠券("+n(s(j).couponMode.count)+")",1)]),_:1},8,["modelValue","disabled","onChange"]),o(pe,{modelValue:s(j).couponMode.activeCouponId,"onUpdate:modelValue":u[6]||(u[6]=e=>s(j).couponMode.activeCouponId=e),disabled:s(j).couponMode.disabled,placeholder:s(j).couponMode.count>0?"请选择优惠券":"无可用优惠券",class:"!w-[18rem] coupon-select",onChange:s(F)},{default:c(()=>[(t(!0),l(y,null,m(s(j).couponMode.list,e=>(t(),x(re,{key:e.id,disabled:s(j).numsMode.activeNumsInfo.price<parseInt(e.val1),label:e.newName,value:"".concat(e.id)},null,8,["disabled","label","value"]))),128))]),_:1},8,["modelValue","disabled","placeholder","onChange"]),s(j).couponMode.endTimeNum>0?(t(),l("div",Lt,[a("span",null,n(s(E).d),1),u[23]||(u[23]=i("天",-1)),a("span",null,n(s(E).h),1),u[24]||(u[24]=i("时",-1)),a("span",null,n(s(E).m),1),u[25]||(u[25]=i("分",-1)),a("span",null,n(s(E).s),1),u[26]||(u[26]=i("秒  后失效 ",-1))])):f("",!0)],2),[[p,"dev"!==(null==(oe=null==(se=s(b))?void 0:se.activeTypeInfo)?void 0:oe.type)]]),o(Ue)]))],64)):(t(),x(Xe,{key:1}))],2)),[[xe,s(z).status],[xe,s(z).title,"title"],[xe,"large","size"]])])),s(X)?f("",!0):(t(),l("div",Nt,[a("span",{onClick:u[8]||(u[8]=(...e)=>s(G)&&s(G)(...e))},[...u[29]||(u[29]=[a("i",null,null,-1),i("购买未生效",-1)])]),o(me),a("div",zt,[a("span",null,[u[31]||(u[31]=a("i",null,null,-1)),o(fe,{class:"!text-disabled",href:"https://www.bt.cn/admin/product_orders"},{default:c(()=>[...u[30]||(u[30]=[i("申请发票",-1)])]),_:1})]),o(me)]),a("span",{onClick:u[9]||(u[9]=(...e)=>s(G)&&s(G)(...e))},[...u[32]||(u[32]=[a("i",null,null,-1),i("联系客服",-1)])])]))],2)}}}),[["__scopeId","data-v-6032cc83"]]),Ot=e({__name:"index",props:{compData:{default:()=>({disablePro:!0,sourceId:"0",plugin:!0,pluginInfo:{title:"",describe:"",pid:0},isHomeBubble:{}})}},emits:["close"],setup(e,{expose:a,emit:i}){const{aliyunEcsLtd:n}=L(),c=H(),d=e,r=V(),{productInfo:p,emits:y,errorMask:m}=u(r),{onCancel:M,init:b,$reset:h}=r,k=i;return y.value=k,g(()=>{b(d.compData)}),j(()=>{h(),sessionStorage.removeItem("PAY-VIEW-INFO-TIME"),"home"===P.currentRoute.value.name&&c.getRecommendInfo()}),a({onCancel:M}),(e,a)=>{var i,c;return t(),l("div",{class:v(["flex w-full h-full","theme-"+(null==(c=null==(i=s(p))?void 0:i.activeTypeInfo)?void 0:c.type)])},[s(n)?f("",!0):(t(),x(ce,{key:0})),o(At,{ref:"productSelectRef"},null,512),s(m).status?(t(),x($,{key:1})):f("",!0)],2)}}});export{Ot as default};
