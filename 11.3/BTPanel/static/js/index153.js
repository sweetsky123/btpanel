import{_ as s}from"./index123.js?v=1763689792";import{_ as l}from"./index423.js?v=1763689792";import{ak as a,x as e,e as t,_ as o}from"./utils-lib.js?v=1763689792";import{c as n,s as i,g as c,v as r,a8 as m,x as d,y as p,z as u,F as v,A as x,B as g,e as f,C as k,D as _,b1 as b,G as j}from"./base-lib.js?v=1763689792";import{bM as h}from"./validator.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index110.js?v=1763689792";import"./column.js?v=1763689792";import"./index107.js?v=1763689792";const w={class:"p-16px realTaskDialog"},y={class:"title"},C=["title"],D={class:"p-[1rem]"},H={class:"mt-[4px] flex justify-between items-center"},T={class:"flex"},z={class:"mr-[25px]"},A={class:"title"},B={class:"truncate max-w-[36rem]"},F={key:2,class:"wait"},G={class:"truncate"},I=["onClick"],L=o(n({__name:"index",props:{compData:{default:()=>({callback:()=>{}})}},emits:["close"],setup(o,{emit:n}){const L=o,M=h(),{taskData:N}=i(M),{getLog:W,cancel:$,$reset:q}=M,E=c(()=>N.value[0]||{log:"",name:"",shell:""});return r(()=>{W()}),m(()=>{var s,l;q(),null==(l=null==(s=L.compData)?void 0:s.callback)||l.call(s)}),(o,n)=>{var i,c,r,m,h;const L=t,M=l,W=s;return d(),p("div",w,[u(a)(u(E).log)?(d(),p(v,{key:0},[x("div",y,[x("span",{class:"truncate max-w-[36rem]",title:u(E).shell},"正在下载:"+g(u(E).shell),9,C),f(L,{onClick:n[0]||(n[0]=s=>u($)(u(E)))},{default:k(()=>[...n[2]||(n[2]=[_("取消",-1)])]),_:1})]),x("div",D,[f(M,{strokeWidth:3,percentage:Number((null==(i=u(E).log)?void 0:i.pre)||0),showText:!1},null,8,["percentage"]),x("div",H,[x("div",T,[x("span",z,g(null==(c=u(E).log)?void 0:c.used)+" / "+g(u(e)(null==(r=u(E).log)?void 0:r.total)),1),x("span",null,"预计还要:"+g(null==(m=u(E).log)?void 0:m.time),1)]),x("span",null,g(null==(h=u(E).log)?void 0:h.speed)+"/s",1)])])],64)):(d(),p(v,{key:1},[x("div",A,[x("span",B,g("".concat(u(E).name,":").concat(u(E).shell)),1),f(L,{onClick:n[1]||(n[1]=s=>u($)(u(E)))},{default:k(()=>[...n[3]||(n[3]=[_("取消",-1)])]),_:1})]),f(W,{content:u(E).log,isHtml:!0,class:"max-h-[18rem] h-[18rem]"},null,8,["content"])],64)),u(N).length>1?(d(),p("div",F,[n[4]||(n[4]=x("div",{class:"title"},"等待执行任务",-1)),(d(!0),p(v,null,b(u(N).slice(1),s=>(d(),p("div",{class:"title item w-full !text-disabled items-center",key:s.id},[x("span",G,g("".concat(s.name,":").concat(s.shell)),1),x("span",{class:"svgtofont-el-close-bold text-danger cursor-pointer ml-1rem",onClick:l=>u($)(s)},null,8,I)]))),128))])):j("",!0)])}}}),[["__scopeId","data-v-76fc3765"]]);export{L as default};
