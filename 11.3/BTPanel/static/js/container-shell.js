import{c as e,aB as a,r as s,o as l,x as t,y as o,z as r,O as u,C as d,e as m,D as i,A as n,G as p,H as _,ad as c,V as v,ab as f}from"./base-lib.js?v=1763689792";import{Q as y,j1 as h,ax as b,b as j}from"./utils-lib.js?v=1763689792";import{_ as g}from"./container-terminal-dialog.vue_vue_type_script_setup_true_lang.js?v=1763689792";import"./__commonjsHelpers__.js?v=1763689792";import"./index.vue_vue_type_style_index_0_lang.js?v=1763689792";import"./add-host.vue_vue_type_script_setup_true_lang.js?v=1763689792";import"./form-item.js?v=1763689792";import"./index110.js?v=1763689792";import"./useController2.js?v=1763689792";const x={class:"h-[60rem]"},V={key:1,class:"h-full"},k=e({__name:"container-shell",props:{compData:{default:()=>({})}},setup(e){const k=j(),C=a("currentConDetail"),D=s(),S=l({type:"bash",sudo:!1}),B=s(!1),H=s({cmd:""}),U=async()=>{"running"===C.value.State.Status?D.value.validate(async e=>{e&&y({request:h({id:C.value.Id,shell:S.type,sudo_i:S.sudo?1:0}),data:{msg:[String,e=>{H.value={cmd:e},B.value=!0}]}})}):k.error("容器未运行")};return(e,a)=>{const s=b,l=_,y=c,h=v,j=f;return t(),o("div",x,[r(B)?p("",!0):(t(),u(j,{key:0,ref_key:"shellFormRef",ref:D,class:"p-[2rem]",model:r(S)},{default:d(()=>[m(y,{label:"请选择shell"},{default:d(()=>[m(s,{modelValue:r(S).type,"onUpdate:modelValue":a[0]||(a[0]=e=>r(S).type=e),options:[{label:"Bash",value:"bash"},{label:"sh",value:"sh"}],class:"!w-[20rem]"},null,8,["modelValue"]),m(l,{class:"!ml-[2rem]",type:"primary",onClick:U},{default:d(()=>[...a[2]||(a[2]=[i("开启终端",-1)])]),_:1})]),_:1}),m(y,{label:" "},{default:d(()=>[m(h,{modelValue:r(S).sudo,"onUpdate:modelValue":a[1]||(a[1]=e=>r(S).sudo=e)},{default:d(()=>[...a[3]||(a[3]=[n("div",{class:"flex items-center"},"使用root权限执行",-1)])]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])),r(B)?(t(),o("div",V,[m(g,{"comp-data":r(H)},null,8,["comp-data"])])):p("",!0)])}}});export{k as default};
