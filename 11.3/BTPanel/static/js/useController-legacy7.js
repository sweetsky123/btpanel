!function(){function e(n){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(n)}function n(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function t(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach(function(n){r(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}function r(n,t,r){return(t=function(n){var t=function(n,t){if("object"!=e(n)||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var a=r.call(n,t||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}(n,"string");return"symbol"==e(t)?t:t+""}(t))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function a(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",u=t.toStringTag||"@@toStringTag";function i(t,r,a,u){var i=r&&r.prototype instanceof l?r:l,s=Object.create(i.prototype);return o(s,"_invoke",function(t,r,a){var o,u,i,l=0,s=a||[],f=!1,v={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(n,t){return o=n,u=0,i=e,v.n=t,c}};function d(t,r){for(u=t,i=r,n=0;!f&&l&&!a&&n<s.length;n++){var a,o=s[n],d=v.p,p=o[2];t>3?(a=p===r)&&(i=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=t<2&&d<o[1])?(u=0,v.v=r,v.n=o[1]):d<p&&(a=t<3||o[0]>r||r>p)&&(o[4]=t,o[5]=r,v.n=p,u=0))}if(a||t>1)return c;throw f=!0,r}return function(a,s,p){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,p),u=s,i=p;(n=u<2?e:i)||!f;){o||(u?u<3?(u>1&&(v.n=-1),d(u,i)):v.n=i:v.v=i);try{if(l=2,o){if(u||(a="next"),n=o[a]){if(!(n=n.call(o,i)))throw TypeError("iterator result is not an object");if(!n.done)return n;i=n.value,u<2&&(u=0)}else 1===u&&(n=o.return)&&n.call(o),u<2&&(i=TypeError("The iterator does not provide a '"+a+"' method"),u=1);o=e}else if((n=(f=v.n<0)?i:t.call(r,v))!==c)break}catch(n){o=e,u=1,i=n}finally{l=1}}return{value:n,done:f}}}(t,a,u),!0),s}var c={};function l(){}function s(){}function f(){}n=Object.getPrototypeOf;var v=[][r]?n(n([][r]())):(o(n={},r,function(){return this}),n),d=f.prototype=l.prototype=Object.create(v);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o(e,u,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,o(d,"constructor",f),o(f,"constructor",s),s.displayName="GeneratorFunction",o(f,u,"GeneratorFunction"),o(d),o(d,u,"Generator"),o(d,r,function(){return this}),o(d,"toString",function(){return"[object Generator]"}),(a=function(){return{w:i,m:p}})()}function o(e,n,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}o=function(e,n,t,r){function u(n,t){o(e,n,function(e){return this._invoke(n,t,e)})}n?a?a(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(u("next",0),u("throw",1),u("return",2))},o(e,n,t,r)}function u(e,n,t,r,a,o,u){try{var i=e[o](u),c=i.value}catch(e){return void t(e)}i.done?n(c):Promise.resolve(c).then(r,a)}function i(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(e){u(o,r,a,i,c,"next",e)}function c(e){u(o,r,a,i,c,"throw",e)}i(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./validator-legacy.js?v=1763689792"],function(e,n){"use strict";var r,o,u,c,l,s,f,v,d,p,m,y,b,h,w,g,_;return{setters:[function(e){r=e.o,o=e.u,u=e.b,c=e.n,l=e.H,s=e.V,f=e.Q,v=e.p},function(e){d=e.s,p=e.j,m=e.r,y=e.g,b=e.t,h=e.e,w=e.D,g=e.aT},function(e){_=e.b}],execute:function(){var x=e("q",function(e){return r.post("/mod/domain/domain/domain_proxy",{data:{data:JSON.stringify(e)},check:"object",customType:"model"})}),j=(e("S",function(e){return r.post("/mod/domain/domain/get_domain_status",{data:e,check:"object",customType:"model"})}),e("Q",function(e){return r.post("/mod/domain/domain/create_dns_record",{data:e,check:"object",customType:"model"})}),e("T",function(e){return r.post("/ssl?action=get_cert_list",{data:e,check:"object",customType:"model"})}),e("w",function(e){return r.post("/mod/domain/domain/poxy_whois_query",{data:e,check:"object",customType:"model"})}),function(){return r.post("/mod/domain/domain/get_public_ip",{check:"object",customType:"model"})}),k=function(){return r.post("/mod/domain/domain/get_analysis_ip",{check:"object",customType:"model"})},P=(e("t",function(e){return r.post("/mod/domain/domain/set_analysis_ip",{data:e,check:"object",customType:"model"})}),function(){return r.post("/mod/domain/domain/refresh_domain_cache",{check:"object",customType:"model"})}),O=(e("R",function(e){return r.post("ssl/data/get_domain_list",{data:e,customType:"model",check:"object"})}),p("DOMAIN-REGISTER-STORE",function(){var e=o(),n=(e.plugin,e.getGlobalInfo,e.mainWidth),t=m(),r=m(!1),a=m(""),u=m(""),i=m(""),c=m(null),l=m(""),s=m(!1),f=m(!1),v=m(!1);return{registerRowData:t,isRegListRefresh:r,searchWidth:y(function(){return n.value>1530?320:n.value>1400?200:n.value>1200?180:140}),domainSearchValue:a,whoisSearchValue:u,ipSearchValue:i,publicIp:l,isLoadingIp:s,showMask:f,isUserBound:v,domainSearchDialog:c}})),S=e("u",function(){return d(O())}),D=S(),T=D.isLoadingIp,I=D.publicIp,E=D.showMask,F=D.isUserBound,N=u(),R=o().payment,C=b(R.value).bindUser,M=e("p",i(a().m(function e(){var n;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,j();case 1:return n=e.v,e.a(2,n.data.status?n.data.data:"获取公网IP失败");case 2:return e.p=2,e.v,e.a(2,"获取公网IP失败")}},e,null,[[0,2]])}))),G=function(){var e=i(a().m(function e(n){var t,r;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,x({url:"/api/v1/user/security/check_panel_access",ip_address:n});case 1:return r=e.v,e.a(2,r.data.status&&!0===(null===(t=r.data.data)||void 0===t?void 0:t.allowed));case 2:return e.p=2,e.v,e.a(2,!1)}},e,null,[[0,2]])}));return function(n){return e.apply(this,arguments)}}(),B=(e("l",i(a().m(function e(){var n,t;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=N.load("正在检测授权状态，请稍候..."),T.value=!0,e.p=1,F.value=!!C.value,F.value){e.n=2;break}return _(),E.value=!0,e.a(2);case 2:return e.n=3,M();case 3:if(I.value=e.v,!I.value){e.n=5;break}return e.n=4,G(I.value);case 4:t=e.v,E.value=!t;case 5:e.n=7;break;case 6:e.p=6,e.v,E.value=!0;case 7:return e.p=7,T.value=!1,n.close(),e.f(7);case 8:return e.a(2)}},e,null,[[1,6,7,8]])}))),S()),Y=B.isRegListRefresh,L=B.domainSearchDialog,V=u(),W=e("K",m("")),q=e("A",m("")),U=e("z",m("wechat")),H=e("C",m(null)),J=e("v",m({domain:"",firstYearPrice:"¥0.00",renewalPrice:"¥0.00",totalPrice:"",years:1,accountBalance:"¥0.00",type:"purchase"})),A=e("N",y(function(){return"renewal"===J.value.type})),Q=e("J",m("")),z=e("L",m({wx:"",ali:""})),K=e("F",m(!1)),X=e("B",m(!1)),Z=m(null),$=m(!1),ee=e("E",m(!1)),ne=e("M",m(!1)),te=e("s",function(){var e=i(a().m(function e(r){var o,u,i,s,f=arguments;return a().w(function(e){for(;;)switch(e.n){case 0:return u="renewal"===(o=f.length>1&&void 0!==f[1]?f[1]:"payment")?"域名续费":"支付订单",i="renewal"===o?t(t({},r),{},{type:"renewal"}):r,e.n=1,c({title:u,area:54,btn:!1,showFooter:!1,compData:i,component:function(){return l(function(){return n.import("./index-legacy276.js?v=1763689792")},void 0,n.meta.url)},onCancel:function(){ce(),W.value="",q.value="",H.value=null,ee.value=!1}});case 1:s=e.v,H.value=s;case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}()),re=(e("O",function(){var e=i(a().m(function e(n){var t,r;return a().w(function(e){for(;;)switch(e.n){case 0:if(ce(),t=String(n),U.value=t,"balance"!==t){e.n=1;break}return Q.value="",e.a(2);case 1:if(!(r="wechat"===t?z.value.wx:z.value.ali)){e.n=2;break}return Q.value=r,ie(),e.a(2);case 2:return K.value=!0,Q.value="",e.n=3,le();case 3:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}()),e("y",i(a().m(function e(){var n,t;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(A.value||ne.value){e.n=1;break}return V.warn("请先同意协议条款"),e.a(2);case 1:return X.value=!0,e.p=2,e.n=3,x({url:"/api/v1/order/buy/buy_payment",order_no:q.value});case 3:if(!(n=e.v).data.status){e.n=4;break}return ee.value=!0,V.success(n.data.msg||"支付成功！"),Y.value=!0,H.value&&null!==(t=H.value.config)&&void 0!==t&&null!==(t=t.globalProperties)&&void 0!==t&&t.close&&(L.value&&L.value.close(),H.value.config.globalProperties.close()),e.a(2,!0);case 4:return V.error(n.data.msg),e.a(2,!1);case 5:e.n=7;break;case 6:e.p=6,e.v;case 7:return e.p=7,X.value=!1,e.f(7);case 8:return e.a(2)}},e,null,[[2,6,7,8]])}))),e("x",m("¥0.00"))),ae=(e("G",i(a().m(function e(){var n,t;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,x({url:"/api/v1/order/buy/get_buy"});case 1:(n=e.v).data.status?(t=n.data.data.balance||"0.00",re.value="¥".concat((Number(t)/100).toFixed(2))):V.error(n.data.msg),e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}))),function(){var e=i(a().m(function e(n){var t;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,x({url:"/api/v1/order/renew",domain_list:[{domain:n.domain,year:n.years,domain_service:0}]});case 1:return t=e.v,e.a(2,{success:t.data.status,data:t.data.data,message:t.data.msg});case 2:return e.p=2,e.v,K.value=!1,e.a(2,{success:!1,message:"创建订单失败，请重试"});case 3:return e.p=3,K.value=!1,e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(n){return e.apply(this,arguments)}}()),oe=function(){var e=i(a().m(function e(n){var t,r,o;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return K.value=!0,e.p=1,t=n.domain,r=t.lastIndexOf("."),e.n=2,x({url:"/api/v1/order/direct_purchase_domain",domain_name:t.substring(0,r),suffix:n.suffix||(r>0?t.substring(r+1):""),years:n.years});case 2:return o=e.v,e.a(2,{success:o.data.status,data:o.data.data,message:o.data.msg});case 3:return e.p=3,e.v,e.a(2,{success:!1,message:"创建订单失败，请重试"});case 4:return e.p=4,K.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(n){return e.apply(this,arguments)}}(),ue=function(){var e=i(a().m(function e(){var n,t;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(q.value){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,x({url:"/api/v1/order/payment/status",order_no:q.value});case 2:(n=e.v).data.status?1===n.data.data.status?(ce(),ee.value=!0,V.success("支付成功！"),Y.value=!0,H.value&&null!==(t=H.value.config)&&void 0!==t&&null!==(t=t.globalProperties)&&void 0!==t&&t.close&&H.value.config.globalProperties.close()):2===n.data.data.status?(V.warn("订单已取消，请重新操作"),Q.value=""):3===n.data.data.status&&(ce(),V.error("订单已退款"),Q.value=""):(ce(),V.error(n.data.msg||"支付失败"),Q.value=""),e.n=4;break;case 3:e.p=3,e.v;case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),ie=function(){$.value||Z.value||($.value=!0,Z.value=setInterval(function(){ue()},3e3))},ce=e("I",function(){Z.value&&(clearInterval(Z.value),Z.value=null),$.value=!1}),le=e("H",i(a().m(function e(){var n,t,r;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,!A.value){e.n=2;break}return e.n=1,ae({domain:J.value.domain,totalPrice:J.value.totalPrice,years:J.value.years,accountBalance:J.value.accountBalance});case 1:r=e.v,e.n=4;break;case 2:return e.n=3,oe({domain:J.value.domain,firstYearPrice:J.value.firstYearPrice,totalPrice:J.value.totalPrice,years:J.value.years,accountBalance:J.value.accountBalance,suffix:J.value.suffix});case 3:r=e.v;case 4:(n=r).success?(W.value=n.data.order_id,q.value=n.data.order_no||"",J.value.totalPrice=String(n.data.total_price||"0"),z.value.wx=n.data.wx||"",z.value.ali=n.data.ali||"",t="wechat"===U.value?z.value.wx:z.value.ali,Q.value=t,t&&ie()):V.error(n.message||"获取支付二维码失败"),e.n=6;break;case 5:e.p=5,e.v;case 6:return e.a(2)}},e,null,[[0,5]])}))),se=(e("D",function(){var e=i(a().m(function e(n){var t,r;return a().w(function(e){for(;;)switch(e.n){case 0:return ce(),Q.value="",W.value="",q.value="",z.value.wx="",z.value.ali="",K.value=!0,J.value.years=n,A.value&&J.value.currentExpiry&&(t=new Date(J.value.currentExpiry),(r=new Date(t)).setFullYear(r.getFullYear()+n),J.value.newExpiry=s(r,"yyyy-MM-dd")),e.n=1,le();case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}()),e("P",function(){var e=i(a().m(function e(t){return a().w(function(e){for(;;)switch(e.n){case 0:if(t){e.n=1;break}return ne.value=!1,e.a(2);case 1:return ne.value=!1,e.n=2,c({title:"域名注册注意事项",area:60,btn:["同意并继续"],component:function(){return l(function(){return n.import("./agreement-dialog-legacy.js?v=1763689792")},void 0,n.meta.url)},onConfirm:function(){return ne.value=!0,!0}});case 2:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}()),S()),fe=se.isRegListRefresh,ve=se.ipSearchValue,de=se.domainSearchDialog,pe=o().payment,me=b(pe.value).bindUser,ye={},be=(e("h",function(){var e=i(a().m(function e(t){var r;return a().w(function(e){for(;;)switch(e.n){case 0:if(me.value){e.n=1;break}return _(),e.a(2,!1);case 1:return e.n=2,c({title:"域名注册",area:60,compData:{domainName:t.value},component:function(){return l(function(){return n.import("./index-legacy277.js?v=1763689792")},void 0,n.meta.url)},onCancel:function(){t.value=""}});case 2:r=e.v,de.value={close:function(){var e;r&&null!==(e=r.config)&&void 0!==e&&null!==(e=e.globalProperties)&&void 0!==e&&e.close&&r.config.globalProperties.close()}};case 3:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}()),e("c",function(e){c({title:"修改解析IP",area:50,btn:["修改","取消"],compData:{currentIp:e},component:function(){return l(function(){return n.import("./index-legacy278.js?v=1763689792")},void 0,n.meta.url)},onConfirm:function(){fe.value=!0}})}),e("b",function(e){c({title:"WHOIS查询",area:70,compData:{domainName:e.value},component:function(){return l(function(){return n.import("./index-legacy279.js?v=1763689792")},void 0,n.meta.url)}})}),e("d",function(){return{label:"状态",prop:"status",minWidth:100,isCustom:!0,render:function(e){var n={0:{text:"待注册",color:"var(--el-color-info)"},1:{text:"正常",color:"var(--el-color-primary)"},2:{text:"即将到期",color:"var(--el-color-warning)"},3:{text:"已过期",color:"var(--el-color-danger)"},4:{text:"待赎回",color:"var(--el-color-warning)"},5:{text:"注册失败",color:"var(--el-color-danger)"}}[e.status]||{text:"未知",color:"var(--el-color-info)"};return h("span",{style:{color:n.color}},[n.text])}}}),e("f",function(){return{label:"实名状态",prop:"real_name_status",width:100,isCustom:!0,render:function(e){var n={0:{text:"未认证",color:"var(--el-color-warning)"},1:{text:"认证中",color:"var(--el-color-info)"},2:{text:"已认证",color:"var(--el-color-primary)"},3:{text:"认证失败",color:"var(--el-color-danger)"}}[e.real_name_status]||{text:"未知",color:"var(--el-color-info)"};return h("span",{style:{color:n.color}},[n.text])}}}),e("e",function(){return{label:"宝塔DNS",prop:"ns_status",minWidth:100,isCustom:!0,render:function(e){var n=0===e.ns_status,t=n?"var(--el-color-error)":"var(--el-color-primary)";return n?h(g,{placement:"top"},{default:function(){return h("span",{style:{color:t,cursor:"pointer"},onClick:function(){window.open("https://www.bt.cn/domain/domain-resolve","_blank")}},[w("未生效")])},content:function(){return"该域名需前往后台设置"}}):h("span",{style:{color:t}},[w("已生效")])}}}),e("j",function(e){c({title:e.full_domain,area:120,compData:{domain:e.full_domain,domainId:e.id},component:function(){return l(function(){return n.import("./index-legacy280.js?v=1763689792").then(function(e){return e.i})},void 0,n.meta.url)}})}),e("k",function(e){var n,t,r,a;te({domain:e.full_domain,years:1,currentExpiry:s(e.expire_time,"yyyy-MM-dd"),newExpiry:(n=e.expire_time,t=1,r=new Date(1e3*n),a=new Date(r),a.setFullYear(a.getFullYear()+t),s(a,"yyyy-MM-dd")),type:"renewal"},"renewal")}),e("m",function(e){c({title:"实名信息详情",area:50,showFooter:!1,compData:{domainId:e.id,domain:e.full_domain},component:function(){return l(function(){return n.import("./index-legacy281.js?v=1763689792")},void 0,n.meta.url)}})}),e("i",function(){var e=i(a().m(function e(n){return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,v({title:"删除域名【"+n.full_domain+"】",content:"即将删除域名【"+n.full_domain+"】，是否继续操作？",icon:"warning",onConfirm:function(){var e={url:"/api/v1/domain/manage/delete_domain",id:n.id};f({loading:"正在删除域名，请稍后...",request:x(e),message:!0,success:function(){fe.value=!0}})}});case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}()),e("n",function(e){c({title:"域名【"+e.full_domain+"】选择实名模板",area:50,btn:"提交认证",compData:{domainName:e.full_domain,domainId:e.id},component:function(){return l(function(){return n.import("./index-legacy282.js?v=1763689792")},void 0,n.meta.url)}})}),e("o",function(e){c({title:"创建网站 - 【"+e.full_domain+"】",area:80,btn:["创建","取消"],showFooter:!0,compData:{domainId:e.id,domainName:e.full_domain,type:"domain"},component:function(){return l(function(){return n.import("./index-legacy283.js?v=1763689792").then(function(e){return e.i})},void 0,n.meta.url)}})}),e("g",function(){var e=i(a().m(function e(n){var t,r,o,u,i;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=JSON.stringify(n),r=Date.now(),e.p=1,o={url:"/api/v1/domain/manage/list",p:n.p||1,rows:n.limit||30,keyword:n.search||""},e.n=2,x(o);case 2:return u=e.v,i=u.data.data,ye[t]={data:{data:i.data||[],total:i.count||0,other:{search_history:i.search_history||[]}},timestamp:r},e.a(2,ye[t].data);case 3:if(e.p=3,!("canceled"===e.v.message&&ye[t]&&r-ye[t].timestamp<100)){e.n=4;break}return e.a(2,ye[t].data);case 4:return e.a(2,{data:[],total:0})}},e,null,[[1,3]])}));return function(n){return e.apply(this,arguments)}}()),function(){var e=i(a().m(function e(){var n;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,k();case 1:return n=e.v,e.a(2,n.data.status?n.data.data:"");case 2:return e.p=2,e.v,e.a(2,"")}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}());e("a",i(a().m(function e(){var n;return a().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,be();case 1:n=e.v,ve.value=n,e.n=3;break;case 2:e.p=2,e.v;case 3:return e.a(2)}},e,null,[[0,2]])}))),e("r",i(a().m(function e(){return a().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,f({loading:"正在刷新本地缓存，请稍后...",request:P(),message:!0,success:function(){fe.value=!0}});case 1:return e.a(2)}},e)})))}}})}();
