!function(){function n(n){return function(n){if(Array.isArray(n))return e(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,r){if(n){if("string"==typeof n)return e(n,r);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?e(n,r):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(n,e){(null==e||e>n.length)&&(e=n.length);for(var r=0,t=Array(e);r<e;r++)t[r]=n[r];return t}function r(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,e,u="function"==typeof Symbol?Symbol:{},o=u.iterator||"@@iterator",a=u.toStringTag||"@@toStringTag";function i(r,u,o,a){var i=u&&u.prototype instanceof c?u:c,s=Object.create(i.prototype);return t(s,"_invoke",function(r,t,u){var o,a,i,c=0,s=u||[],f=!1,d={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,r){return o=e,a=0,i=n,d.n=r,l}};function p(r,t){for(a=r,i=t,e=0;!f&&c&&!u&&e<s.length;e++){var u,o=s[e],p=d.p,m=o[2];r>3?(u=m===t)&&(i=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=n):o[0]<=p&&((u=r<2&&p<o[1])?(a=0,d.v=t,d.n=o[1]):p<m&&(u=r<3||o[0]>t||t>m)&&(o[4]=r,o[5]=t,d.n=m,a=0))}if(u||r>1)return l;throw f=!0,t}return function(u,s,m){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,m),a=s,i=m;(e=a<2?n:i)||!f;){o||(a?a<3?(a>1&&(d.n=-1),p(a,i)):d.n=i:d.v=i);try{if(c=2,o){if(a||(u="next"),e=o[u]){if(!(e=e.call(o,i)))throw TypeError("iterator result is not an object");if(!e.done)return e;i=e.value,a<2&&(a=0)}else 1===a&&(e=o.return)&&e.call(o),a<2&&(i=TypeError("The iterator does not provide a '"+u+"' method"),a=1);o=n}else if((e=(f=d.n<0)?i:r.call(t,d))!==l)break}catch(e){o=n,a=1,i=e}finally{c=1}}return{value:e,done:f}}}(r,o,a),!0),s}var l={};function c(){}function s(){}function f(){}e=Object.getPrototypeOf;var d=[][o]?e(e([][o]())):(t(e={},o,function(){return this}),e),p=f.prototype=c.prototype=Object.create(d);function m(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,t(n,a,"GeneratorFunction")),n.prototype=Object.create(p),n}return s.prototype=f,t(p,"constructor",f),t(f,"constructor",s),s.displayName="GeneratorFunction",t(f,a,"GeneratorFunction"),t(p),t(p,a,"Generator"),t(p,o,function(){return this}),t(p,"toString",function(){return"[object Generator]"}),(r=function(){return{w:i,m:m}})()}function t(n,e,r,u){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}t=function(n,e,r,u){function a(e,r){t(n,e,function(n){return this._invoke(e,r,n)})}e?o?o(n,e,{value:r,enumerable:!u,configurable:!u,writable:!u}):n[e]=r:(a("next",0),a("throw",1),a("return",2))},t(n,e,r,u)}function u(n,e,r,t,u,o,a){try{var i=n[o](a),l=i.value}catch(n){return void r(n)}i.done?e(l):Promise.resolve(l).then(t,u)}function o(n){return function(){var e=this,r=arguments;return new Promise(function(t,o){var a=n.apply(e,r);function i(n){u(a,t,o,i,l,"next",n)}function l(n){u(a,t,o,i,l,"throw",n)}i(void 0)})}}System.register(["./utils-lib-legacy.js?v=1763689792","./base-lib-legacy.js?v=1763689792","./useStore-legacy.js?v=1763689792","./config-legacy.js?v=1763689792","./index-legacy117.js?v=1763689792","./index-legacy107.js?v=1763689792","./validator-legacy.js?v=1763689792","./useMethod-legacy.js?v=1763689792"],function(e,t){"use strict";var u,a,i,l,c,s,f,d,p,m,v,g,w,y,b,h,_,V,x,C,j,k,A,P,S,U,I,T,O,q,E,M,G,F,H,L,R,z,N,D,J,Q,$;return{setters:[function(n){u=n.Q,a=n.v,i=n.J,l=n.k,c=n.j,s=n.y,f=n.u,d=n.p,p=n.S,m=n.n,v=n.H,g=n.e},function(n){w=n.c,y=n.r,b=n.o,h=n.v,_=n.x,V=n.O,x=n.C,C=n.e,j=n.z,k=n.D,A=n.A,P=n.R,S=n.H,U=n.ad,I=n.ab,T=n.n,O=n.y,q=n.F,E=n.G,M=n.ap},function(n){G=n.g},function(n){F=n.n,H=n.o,L=n.p,R=n.q,z=n.r},function(n){N=n.C},function(n){D=n._},function(n){J=n.b,Q=n.a},function(n){$=n.o}],execute:function(){var B={class:"p-[2.5rem]"},K=(e("_",w({__name:"index",setup:function(e){var t=G().refs,s=t.panelConfig,f=(t.openNamePopup,y(!1)),d=y(),p=b({username1:"",username2:""}),m={username1:[{required:!0,message:"请输入用户名",trigger:["blur","input"]}],username2:[{required:!0,message:"请再次输入用户名",trigger:["blur","input"]},{trigger:["blur","input"],validator:function(n,e,r){e!==p.username1?r(new Error("两次用户名不一致")):r()}}]},v=function(){p.username1=s.value.username,f.value=!0},g=function(){var n=o(r().m(function n(){var e,t,o,l,c;return r().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,d.value.validate();case 1:return e=u,t=F,n.n=2,a(p.username1);case 2:return o=n.v,n.n=3,a(p.username2);case 3:return l=n.v,c=t({username1:o,username2:l}),n.n=4,e({loading:"正在设置面板账号，请稍候...",request:c,message:!0});case 4:i("/login?dologin=True",1500);case 5:return n.a(2)}},n)}));return function(){return n.apply(this,arguments)}}(),w=function(){var n;null===(n=d.value)||void 0===n||n.resetFields(),p.username1=s.value.username,p.username2=""};return h(function(){}),function(e,r){var t=l,u=S,o=U,a=I,i=c;return _(),V(j(N),{label:"面板账号"},{value:x(function(){return[C(t,{modelValue:j(s).username,"onUpdate:modelValue":r[0]||(r[0]=function(n){return j(s).username=n}),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),C(u,{type:"primary",class:"!ml-12px",onClick:v},{default:x(function(){return n(r[4]||(r[4]=[k("设置",-1)]))}),_:1}),C(i,{title:"修改面板用户名",modelValue:j(f),"onUpdate:modelValue":r[3]||(r[3]=function(n){return P(f)?f.value=n:null}),"show-footer":!0,area:40,onConfirm:g,confirmText:"提交",onCancel:w},{default:x(function(){return[A("div",B,[C(a,{ref_key:"formRef",ref:d,model:j(p),rules:m},{default:x(function(){return[C(o,{label:"用户名",prop:"username1"},{default:x(function(){return[C(t,{modelValue:j(p).username1,"onUpdate:modelValue":r[1]||(r[1]=function(n){return j(p).username1=n}),width:"21rem"},null,8,["modelValue"])]}),_:1}),C(o,{label:"重复",prop:"username2"},{default:x(function(){return[C(t,{modelValue:j(p).username2,"onUpdate:modelValue":r[2]||(r[2]=function(n){return j(p).username2=n}),width:"21rem"},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model"])])]}),_:1},8,["modelValue"])]}),desc:x(function(){return n(r[5]||(r[5]=[A("span",null,"设置面板账号",-1)]))}),_:1})}}})),{class:"w-[26rem]"}),W={class:"p-[2.5rem] pb-0"},X=(e("a",w({__name:"index",setup:function(e){var t=y("********"),f=y(),d=y(!1),p=function(){m.password1=s(10),d.value=!0,T(function(){})},m=b({password1:"",password2:""}),v={password1:[{required:!0,message:"请输入密码",trigger:["blur","input"]},{trigger:["blur","input"],validator:function(n,e,r){e.length<6?r(new Error("密码长度必须大于5位")):r()}}],password2:[{required:!0,message:"请再次输入密码",trigger:["blur","input"]},{trigger:["blur","input"],validator:function(n,e,r){e!==m.password1?r(new Error("两次密码不一致")):r()}}]},g=function(){m.password1=s(10)},w=function(){var n=o(r().m(function n(){var e,t,o,l,c,s,d;return r().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,null===(e=f.value)||void 0===e?void 0:e.validate();case 1:return t=u,o=H,n.n=2,a(m.password1);case 2:return l=n.v,n.n=3,a(m.password2);case 3:return c=n.v,s=o({password1:l,password2:c}),d=function(n){n.status&&i("/login?dologin=True",1500)},n.n=4,t({loading:"正在设置面板密码，请稍候...",request:s,message:!0,success:d});case 4:return n.a(2)}},n)}));return function(){return n.apply(this,arguments)}}(),O=function(){var n;null===(n=f.value)||void 0===n||n.resetFields(),m.password1="",m.password2=""};return h(function(){m.password1=s(10)}),function(e,r){var u=l,o=S,a=D,i=U,s=I,y=c;return _(),V(j(N),{label:"面板密码"},{value:x(function(){return[A("div",K,[C(u,{modelValue:j(t),"onUpdate:modelValue":r[0]||(r[0]=function(n){return P(t)?t.value=n:null}),type:"password",disabled:""},null,8,["modelValue"])]),C(o,{type:"primary",class:"!ml-12px",onClick:p},{default:x(function(){return n(r[4]||(r[4]=[k("设置",-1)]))}),_:1}),C(y,{title:"修改面板密码",modelValue:j(d),"onUpdate:modelValue":r[3]||(r[3]=function(n){return P(d)?d.value=n:null}),"show-footer":!0,area:40,onConfirm:w,confirmText:"提交",onCancel:O},{default:x(function(){return[A("div",W,[C(s,{ref_key:"formRef",ref:f,model:j(m),rules:v},{default:x(function(){return[C(i,{label:"密码",class:"flex items-center",prop:"password1"},{default:x(function(){return[C(a,{modelValue:j(m).password1,"onUpdate:modelValue":r[1]||(r[1]=function(n){return j(m).password1=n}),icon:"el-refresh",onIconClick:g,width:"20rem"},null,8,["modelValue"])]}),_:1}),C(i,{label:"重复",prop:"password2"},{default:x(function(){return[C(u,{modelValue:j(m).password2,"onUpdate:modelValue":r[2]||(r[2]=function(n){return j(m).password2=n}),width:"20rem"},null,8,["modelValue"])]}),_:1})]}),_:1},8,["model"])])]}),_:1},8,["modelValue"])]}),desc:x(function(){return n(r[5]||(r[5]=[A("span",null,"设置面板密码",-1)]))}),_:1})}}})),{key:0,class:"text-danger"});e("b",w({__name:"index",setup:function(e){var t=G(),a=t.refs.panelConfig,i=(t.getGlobalConfig,f()),c=(i.forceLtd,i.aliyunEcsLtd),s=i.payment,m=i.resetAuthState,v=function(){return J()},g=function(){var n=o(r().m(function n(){return r().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,d({icon:"warning-filled",title:"解绑宝塔账号",content:"解绑宝塔账号后，将无法正常使用面板功能，是否继续操作？"});case 1:return n.n=2,u({loading:"正在解绑宝塔账号，请稍候...",request:L(),message:!0});case 2:m(),setTimeout(o(r().m(function n(){return r().w(function(n){for(;;)switch(n.n){case 0:p("/bind");case 1:return n.a(2)}},n)})),2e3);case 3:return n.a(2)}},n)}));return function(){return n.apply(this,arguments)}}();return function(e,r){var t=l,u=S;return _(),V(j(N),{label:"绑定宝塔账号"},{value:x(function(){return[r[4]||(r[4]=A("div",null,null,-1)),C(t,{modelValue:j(a).account,"onUpdate:modelValue":r[0]||(r[0]=function(n){return j(a).account=n}),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),!j(c)&&j(s).bindUser?(_(),O(q,{key:0},[C(u,{type:"primary",class:"!ml-12px",onClick:v},{default:x(function(){return n(r[1]||(r[1]=[k("设置",-1)]))}),_:1}),C(u,{class:"!ml-12px",onClick:g},{default:x(function(){return n(r[2]||(r[2]=[k("解绑",-1)]))}),_:1})],64)):(_(),V(u,{key:1,type:"primary",class:"!ml-12px",onClick:v},{default:x(function(){return n(r[3]||(r[3]=[k("绑定",-1)]))}),_:1}))]}),desc:x(function(){return[A("span",null,[j(c)?(_(),O("span",X,"(当前为企业版，绑定账号后无法切换账号)，")):E("",!0),r[5]||(r[5]=k("面板大多数功能依赖云端服务(证书申请，产品购买，软件列表等)，该功能仅用于云端服务，不涉及敏感操作",-1))])]}),_:1})}}})),e("c",w({__name:"index",setup:function(e){var t=G().refs.panelConfig,a=function(){var n=o(r().m(function n(e){return r().w(function(n){for(;;)switch(n.n){case 0:t.value.debugMode=!e,e?i():l();case 1:return n.a(2)}},n)}));return function(e){return n.apply(this,arguments)}}(),i=function(){var n;$({title:"风险操作,此功能普通用户别开启!",content:['<span class="text-danger">仅第三方开发者开发使用，普通用户请勿开启；</span>',"提交请不要在生产环境开启，这可能增加服务器安全风险；","开启开发者模式可能会占用大量内存"],checkTip:"我已了经解详情，并愿意承担风险，开启开发模式",onConfirm:(n=o(r().m(function n(){return r().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,u({loading:"正在设置开发者模式，请稍候...",request:R(),message:!0,success:function(){t.value.debugMode=!t.value.debugMode}});case 1:return n.a(2)}},n)})),function(){return n.apply(this,arguments)})})},l=function(){var n=o(r().m(function n(){return r().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,d({icon:"warning-filled",title:"关闭开发者模式",content:"是否关闭开发者模式?"});case 1:return n.n=2,u({loading:"正在设置开发者模式，请稍候...",request:R(),message:!0,success:function(){t.value.debugMode=!1}});case 2:return n.a(2)}},n)}));return function(){return n.apply(this,arguments)}}();return function(e,r){var u=M;return _(),V(j(N),{label:"开发者模式"},{value:x(function(){return[C(u,{modelValue:j(t).debugMode,"onUpdate:modelValue":r[0]||(r[0]=function(n){return j(t).debugMode=n}),onChange:a},null,8,["modelValue"])]}),desc:x(function(){return n(r[1]||(r[1]=[A("span",null,"仅第三方开发者开发阶段使用（普通用户请勿开启）",-1)]))}),_:1})}}})),e("d",w({__name:"index",setup:function(e){var a=G().refs.panelConfig,i=function(n){n?l():s()},l=function(){var n=o(r().m(function n(){return r().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,s();case 1:n.v.status&&c();case 2:return n.a(2)}},n)}));return function(){return n.apply(this,arguments)}}(),c=function(){m({area:50,title:"配置面板API",component:function(){return v(function(){return t.import("./api-config-legacy.js?v=1763689792")},void 0,t.meta.url)}})},s=function(){var n=o(r().m(function n(){var e;return r().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,u({loading:"正在设置API配置，请稍候...",request:z({t_type:2}),message:!0,success:function(n){n.status||(a.apiInterface=!a.apiInterface)}});case 1:return e=n.v,n.a(2,e)}},n)}));return function(){return n.apply(this,arguments)}}();return function(e,r){var t=M,u=S,o=g;return _(),V(j(N),{label:"API接口"},{value:x(function(){return[C(t,{modelValue:j(a).apiInterface,"onUpdate:modelValue":r[0]||(r[0]=function(n){return j(a).apiInterface=n}),onChange:i},null,8,["modelValue"]),C(u,{size:"small",class:"!ml-12px",onClick:c},{default:x(function(){return n(r[1]||(r[1]=[k(" API接口配置 ",-1)]))}),_:1})]}),desc:x(function(){return[A("span",null,[r[4]||(r[4]=k(" 提供面板API接口访问的支持（ ",-1)),C(o,{class:"!inline-block",href:"https://www.bt.cn/new/product_app.html"},{default:x(function(){return n(r[2]||(r[2]=[k("堡塔APP",-1)]))}),_:1}),r[5]||(r[5]=k("/ ",-1)),C(o,{class:"!inline-block",href:"https://www.bt.cn/new/product_pc.html"},{default:x(function(){return n(r[3]||(r[3]=[k("堡塔多机管理",-1)]))}),_:1}),r[6]||(r[6]=k(" 需要开启该功能）， ",-1))]),C(o,{class:"!inline-block",href:"https://www.bt.cn/bbs/thread-20376-1-1.html"},{default:x(function(){return n(r[7]||(r[7]=[k(" 了解详情 ",-1)]))}),_:1})]}),_:1})}}})),e("e",w({__name:"index",setup:function(e){var r=G(),t=r.refs.panelConfig,u=r.getMenuListEvent;return h(function(){u()}),function(e,r){var u=l,o=S;return _(),V(j(N),{label:"面板菜单栏隐藏"},{value:x(function(){return[C(u,{modelValue:j(t).menuHide,"onUpdate:modelValue":r[0]||(r[0]=function(n){return j(t).menuHide=n}),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),C(o,{type:"primary",class:"!ml-12px",onClick:r[1]||(r[1]=function(n){return j(Q)()})},{default:x(function(){return n(r[2]||(r[2]=[k("设置",-1)]))}),_:1})]}),desc:x(function(){return n(r[3]||(r[3]=[A("span",null,"隐藏左侧菜单栏目",-1)]))}),_:1})}}}))}}})}();
